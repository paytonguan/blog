<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#000">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#000">

<link rel="stylesheet" href="/blog/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"paytonguan.github.io","root":"/blog/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"fadeIn","sidebar":"fadeIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Google是一个强大的搜索引擎，本文主要介绍访问Google的方法。">
<meta property="og:type" content="article">
<meta property="og:title" content="Google正确食用指南">
<meta property="og:url" content="https://paytonguan.github.io/blog/posts/How-To-Access-Google.html">
<meta property="og:site_name" content="Payton&#39;s blog">
<meta property="og:description" content="Google是一个强大的搜索引擎，本文主要介绍访问Google的方法。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://paytonguan.github.io/blog/posts/How-To-Access-Google/topic.jpg">
<meta property="article:published_time" content="2019-06-02T09:01:00.000Z">
<meta property="article:modified_time" content="2025-04-03T18:55:58.541Z">
<meta property="article:author" content="Payton">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://paytonguan.github.io/blog/posts/How-To-Access-Google/topic.jpg">

<link rel="canonical" href="https://paytonguan.github.io/blog/posts/How-To-Access-Google.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Google正确食用指南 | Payton's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Payton's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Somewhere leisure.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://paytonguan.github.io/blog/posts/How-To-Access-Google.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="Payton">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Payton's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Google正确食用指南
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-06-02 17:01:00" itemprop="dateCreated datePublished" datetime="2019-06-02T17:01:00+08:00">2019-06-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-04-04 02:55:58" itemprop="dateModified" datetime="2025-04-04T02:55:58+08:00">2025-04-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/World/" itemprop="url" rel="index"><span itemprop="name">World</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>177k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2:41</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img src="/blog/posts/How-To-Access-Google/topic.jpg"></p>
<p>Google是一个强大的搜索引擎，本文主要介绍访问Google的方法。</p>
<span id="more"></span>

<h1 id="TODOS"><a href="#TODOS" class="headerlink" title="TODOS"></a>TODOS</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">一些服务器的搭建</span><br><span class="line">https://www.kejiwanjia.com/jiaocheng/zheteng/notes/77125.html</span><br><span class="line">https://www.wxlog.cn/assort/</span><br><span class="line"></span><br><span class="line">IP地址查询</span><br><span class="line">https://ip.skk.moe/</span><br><span class="line"></span><br><span class="line">定向流量免流</span><br><span class="line">得有服务器，SSR/v2ray节点，节点得符合条件，端口80/443，然后改混淆</span><br><span class="line">混淆HOST</span><br><span class="line">https://www.fbbi.pw/15.html</span><br><span class="line">https://github.com/FreeMLV2Ray/V2Ray_ml/wiki/V2Ray免流手册</span><br><span class="line">https://jacobsblog.xyz/%E5%85%8D%E6%B5%81%E6%B7%B7%E6%B7%86%E5%8F%82%E6%95%B0%E4%BB%85%E4%BE%9B%E5%8F%82%E8%80%83/</span><br><span class="line">https://blog.mo0.top/archives/55/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">免流机场</span><br><span class="line">https://www.somersaultcloud.xyz/auth/login</span><br><span class="line">http://www.xiaoyunml.com</span><br><span class="line"></span><br><span class="line">免流教程</span><br><span class="line">免流一般都得是Vmess</span><br><span class="line">https://www.xgiu.com/yidong_mianliu_jiaocheng</span><br><span class="line">https://www.duangks.com/archives/85/</span><br><span class="line">https://tstrs.me/1492.html</span><br><span class="line">https://www.flyzy2005.com/tech/ssr-free-traffic/</span><br><span class="line">http://www.itog.top/index.php/archives/20/wiz</span><br><span class="line">https://102345.xyz/jishu/v2ray-free-traffic/</span><br><span class="line">https://www.cxyzjd.com/article/qq_41975868/114700256</span><br><span class="line">https://www.wanuse.com/2021/12/blog-post_30.html</span><br><span class="line"></span><br><span class="line">免费机场</span><br><span class="line">https://www.mattkaydiary.com/search/label/vpn</span><br><span class="line">https://bulink.xyz</span><br><span class="line"></span><br><span class="line">资料</span><br><span class="line">https://guide.v2fly.org/</span><br><span class="line">https://www.v2fly.org/</span><br><span class="line">https://docs.cfw.lbyczf.com/</span><br></pre></td></tr></table></figure>

<h1 id="相关知识"><a href="#相关知识" class="headerlink" title="相关知识"></a>相关知识</h1><h2 id="原生-x2F-广播IP"><a href="#原生-x2F-广播IP" class="headerlink" title="原生&#x2F;广播IP"></a>原生&#x2F;广播IP</h2><p>原生IP指由当地ISP运营商提供的本地IP，广播IP是IP分配机构指派在某个地区使用的IP。可通过以下网站查看IP地址的归属地，归属地与服务器所在地一致的为原生IP。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://bgp.he.net/</span><br></pre></td></tr></table></figure>

<h2 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h2><p>DNS服务器可分为DNS over HTTPS（DoH）和DNS over TLS（DoT）。</p>
<p>DoH为以<code>https://</code>开头的DNS服务器，拥有更好的伪装性，且几乎不可能被运营商或网络管理封锁，但查询效率和安全性可能略低。</p>
<p>DoT为以<code>tls://</code>开头的DNS服务器，拥有更高的安全性和查询效率，但端口有可能被管制或封锁。</p>
<h2 id="运行模式"><a href="#运行模式" class="headerlink" title="运行模式"></a>运行模式</h2><p>Clash&#x2F;Surge可开启接管互联网功能，管理连接到同一局域网中的设备，该模式被称为网关模式。</p>
<p>通过软路由安装翻墙插件的方式，可使部分无法安装翻墙工具的设备实现翻墙，该代理方法被称为透明代理。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>全局直连</td>
<td>所有的流量会被直接转发，不会经过任何处理</td>
</tr>
<tr>
<td>自动分流</td>
<td>通过设定的规则动态控制相关的请求后续如何处理</td>
</tr>
<tr>
<td>全局代理</td>
<td>所有的流量都会经过代理转发</td>
</tr>
</tbody></table>
<h2 id="访问方法"><a href="#访问方法" class="headerlink" title="访问方法"></a>访问方法</h2><p>访问网络通过<code>数据包的传递</code>完成。网站实际上是一个服务器，用户向服务器发送数据包，服务器返回相应的数据包，就完成了访问网站的流程。</p>
<p>每台服务器都有一个<code>IP地址</code>，比如百度的IP地址是14.215.177.39，Google的IP地址经常变动。为了便于记忆，用域名把每个IP地址一一对应，这种对应则需要<code>DNS</code>。向DNS提供域名，DNS返回正确的IP地址，即可访问到正确的网站。高墙则建在用户和网站之间。可通过以下方式完成与外网的连接。</p>
<h3 id="SSH隧道"><a href="#SSH隧道" class="headerlink" title="SSH隧道"></a>SSH隧道</h3><p>SSH原本用于UNIX类系统的远程登录和管理。由于SSH可以通过客户端软件，在本地做一个SOCKS代理进行加密转发，因此也被用于网络代理。配合浏览器插件和自动列表，可实现对不同网址有选择性地代理。</p>
<p>有一台支持SSH的墙外服务器后，在客户端执行如下命令即可打通隧道。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -D 7001 username@remote-host</span><br></pre></td></tr></table></figure>

<p>上述命令中-D表示动态绑定，7001表示本地SOCKS代理的侦听端口，username@remote-host为登录远程服务器的用户名和主机。</p>
<h3 id="VPN"><a href="#VPN" class="headerlink" title="VPN"></a>VPN</h3><p>VPN通过建立虚拟网卡的方式接管流量，无限接近最底层。</p>
<p>现VPN基本无法用于翻墙。比较常见的VPN隧道协议有PPTP VPN、L2TP VPN、OpenVPN、SSH代理等。</p>
<h4 id="PPTP-VPN"><a href="#PPTP-VPN" class="headerlink" title="PPTP VPN"></a>PPTP VPN</h4><p>PPTP协议是点对点隧道协议，其将TCP控制包与数据包分开，适合在没有墙限制的网络中使用。</p>
<h4 id="L2TP-VPN"><a href="#L2TP-VPN" class="headerlink" title="L2TP VPN"></a>L2TP VPN</h4><p>L2TP能以隧道方式使PPP包通过各种网络协议，但没有任何加密措施，更多是和IPSec协议结合使用提供隧道验证。支持PPTP的设备基本都支持L2TP，需要选择L2TP&#x2F;IPSec PSK方式且设置预共享密钥PSK</p>
<p>L2TP使用UDP协议，一般可穿透防火墙，适合在有防火墙限制的局域网用户，如公司、网吧、学校场合等使用。PPTP和L2TP二个连接类型在性能上差别不大。</p>
<h4 id="OpenVPN"><a href="#OpenVPN" class="headerlink" title="OpenVPN"></a>OpenVPN</h4><p>OpenVPN是一个基于SSL加密的纯应用层VPN协议，是SSL VPN的一种，支持UDP与TCP两种方式。通常UDP的效率会比较高，速度也相对较快。其运行在纯应用层，避免了PPTP和L2TP在某些NAT设备后面不被支持的情况，并且可以绕过一些网络的封锁。基本上能上网的地方就能用OpenVPN。</p>
<p>OpenVPN客户端软件可以很方便地配合路由表，实现不同线路（如国内和国外）的路由选择，实现一部分IP走VPN，另一部分IP走原网络。</p>
<p>OpenVPN目前已被墙用流量特征识别等技术手段侦测并受到严重封杀。</p>
<h4 id="协议比较"><a href="#协议比较" class="headerlink" title="协议比较"></a>协议比较</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 易用性</span><br><span class="line">PPTP&gt;L2TP&gt;OpenVPN</span><br><span class="line"></span><br><span class="line">// 速度</span><br><span class="line">PPTP&gt;OpenVPN UDP&gt;L2TP&gt;OpenVPN TCP</span><br><span class="line"></span><br><span class="line">// 安全性</span><br><span class="line">OpenVPN&gt;L2TP&gt;PPTP</span><br><span class="line"></span><br><span class="line">// 稳定性</span><br><span class="line">OpenVPN&gt;L2TP&gt;PPTP</span><br><span class="line"></span><br><span class="line">// 网络适用性</span><br><span class="line">OpenVPN&gt;PPTP&gt;L2TP</span><br></pre></td></tr></table></figure>

<h3 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h3><h4 id="正向代理"><a href="#正向代理" class="headerlink" title="正向代理"></a>正向代理</h4><p>正向代理一般都是C&#x2F;S架构的，它通过客户端，将你要访问某站的请求打包，然后发给代理服务器，而代理服务器负责将你的请求发送给目标站。类型分为HTTP代理、FTP代理、SSL代理、Socks代理等。正向代理又会根据高度匿名与否，分为高度匿名代理、普通匿名代理、透明代理等。</p>
<h5 id="Socks代理"><a href="#Socks代理" class="headerlink" title="Socks代理"></a>Socks代理</h5><p>Socks代理通过TCP连接把目标主机和客户端连接在一起，并转发所有的流量，而不关心协议。该代理能在Session层之上的任何端口或协议下运行。Socks4只支持TCP连接，而Socks5在其基础上增加了安全认证以及对UDP协议的支持，即Socks5支持密码认证以及转发UDP流量。</p>
<p>Socks代理在任何情况下都不会中断server与client之间的数据，当墙不允许访问外网时，可以通过Socks代理来上网。</p>
<p>Socks协议非明文，但在Socks代理服务器上可以还原出TCP和UDP的原始流量。</p>
<p>大多数的浏览器都支持Socks代理。浏览器上网的时候需要与目标主机建立TCP连接，这个时候浏览器就会告诉Socks代理，它想与目标主机进行通讯，然后Socks代理就会转发浏览器的数据，并向目标主机发出请求，再把返回的数据转发回来。</p>
<h5 id="HTTP代理"><a href="#HTTP代理" class="headerlink" title="HTTP代理"></a>HTTP代理</h5><p>HTTP代理跟Socks的原理类似，用处也基本相同，都是让处于防火墙下的主机与外界建立连接。</p>
<p>与Socks代理不同的是，HTTP代理可以中断连接（即在中间截断数据流），因为HTTP代理是以HTTP请求为基础的，而这些请求大多以明文形式存在，所以HTTP代理可以在客户端和下游服务器中间窃听，修改数据。且HTTP不支持转发UDP。</p>
<p>由于HTTP代理只能处理HTTP请求，所以HTTP代理服务器就可以根据你提交的数据来把资源缓存下来，提升访问的速度。很多ISP采用HTTP代理，因为用户都需要访问80端口，而80端口可由ISP进行控制。</p>
<p>HTTP协议属于应用层，而SOCKS协议属于传输层。传输层在网络层之下，这使得Socks代理的作用更为广泛。</p>
<h4 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h4><p>假设大型网站服务器有一台，而后端负责计算的服务器有N台。真正的服务器在这N台服务器，它们通过某些机制同步内容。前端的服务器只负责收发数据，在前端接收到请求之后，就会根据后台某服务器的空闲资源完成请求的反向代理，从而达到了负载均衡的目的。</p>
<h4 id="透明代理"><a href="#透明代理" class="headerlink" title="透明代理"></a>透明代理</h4><p>此处的透明并不是正向代理的分支，而是路由器上的各种代理，这种代理相对电脑来说是透明的。在路由器上使用透明代理，一般是使用Socks5代理或VPN。</p>
<h3 id="专门协议"><a href="#专门协议" class="headerlink" title="专门协议"></a>专门协议</h3><p>包括V2Ray、shadowsocks（SS）、shadowsocksR（SSR）、wireguard、brook、outline等，这些协议隐蔽性相对较高，加密方式相对完善。现SSR遭封禁严重，V2Ray和SS是主流协议。</p>
<p>这些协议都是通过连接到一台墙未封禁的国外服务器，让该服务器访问被墙封锁的网站后返回相应数据，从而达到翻墙的目的，向国外服务器传输数据的过程是加密的、不具有明显特征的。这些服务器一般称为VPS，VPS（Virtual Private Server，虚拟专用服务器）可以理解为安装到电脑上的虚拟机，这些虚拟机相互独立。</p>
<h4 id="Shadowsocks"><a href="#Shadowsocks" class="headerlink" title="Shadowsocks"></a>Shadowsocks</h4><p>Shadowsocks有服务端和客户端。客户端监听1080端口，并将数据转发到Socks服务器上。这种转发在会话层，是加密的，所以墙过滤的难度很大。服务端收到数据后将数据发送到目标请求，收到反馈后再传给本地客户端的1080端口，完成TCP连接。</p>
<p>Shadowsocks(R)的历史可查看以下链接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/KeiKinn/ShadowsocksBio</span><br></pre></td></tr></table></figure>

<h5 id="obfs混淆"><a href="#obfs混淆" class="headerlink" title="obfs混淆"></a>obfs混淆</h5><p>obfs混淆最大的作用是对Shadowsocks流量进行伪装。添加obfs http模式之后，通过运营商的流量会被识别为设定好的网址的流量。</p>
<p>tls模式安全性高于http模式。</p>
<h4 id="自建VPS"><a href="#自建VPS" class="headerlink" title="自建VPS"></a>自建VPS</h4><p>自己购买VPS并搭建协议。</p>
<h4 id="机场"><a href="#机场" class="headerlink" title="机场"></a>机场</h4><p><code>机场</code>指提供节点服务的供应商。<code>节点</code>可以理解为服务器，机场会通过<code>Subscribe</code>提供等级不同的节点，形式是一个<code>URL</code>。</p>
<p>可通过以下链接查看各机场测速结果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.duyaoss.com/</span><br></pre></td></tr></table></figure>

<p>部分机场可查看以下链接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/cadencando/SSSSRV2RayTrojanClash</span><br></pre></td></tr></table></figure>

<h2 id="线路"><a href="#线路" class="headerlink" title="线路"></a>线路</h2><h3 id="CN2线路"><a href="#CN2线路" class="headerlink" title="CN2线路"></a>CN2线路</h3><p>CN2即CNCN，相比普通的163骨干网更好。注意区分单向CN2和双向CN2。</p>
<h3 id="BGP线路"><a href="#BGP线路" class="headerlink" title="BGP线路"></a>BGP线路</h3><p>BGP即边界网关协议，可识别运营商并自动选择最优线路。</p>
<h3 id="PCCW线路"><a href="#PCCW线路" class="headerlink" title="PCCW线路"></a>PCCW线路</h3><p>香港线路。</p>
<h3 id="IPLC-x2F-IEPL专线"><a href="#IPLC-x2F-IEPL专线" class="headerlink" title="IPLC&#x2F;IEPL专线"></a>IPLC&#x2F;IEPL专线</h3><p>直接用网线连接中国大陆与其它地区，无需过墙，如深港IPLC专线。</p>
<h2 id="安全须知"><a href="#安全须知" class="headerlink" title="安全须知"></a>安全须知</h2><p>不要使用360系和百度系的产品，其会自动上报IP地址，很容易使所用服务器遭到封禁。不要用国内浏览器，推荐用<code>Google Chrome</code>或<code>Microsoft Edge</code>。浏览器可打开<code>不跟踪</code>请求，且可将系统语言改为服务器所在地语言会进一步提升安全性。同时尽量减少让国内网站走代理的情况出现，会增加被墙几率。</p>
<p>浏览网页时可通过以下插件，强制使用HTTPS。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.eff.org/https-everywhere</span><br></pre></td></tr></table></figure>

<h2 id="墙封锁技术"><a href="#墙封锁技术" class="headerlink" title="墙封锁技术"></a>墙封锁技术</h2><h3 id="网站封锁列表"><a href="#网站封锁列表" class="headerlink" title="网站封锁列表"></a>网站封锁列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/gfwlist/gfwlist</span><br></pre></td></tr></table></figure>

<h3 id="发帖与回溯流程"><a href="#发帖与回溯流程" class="headerlink" title="发帖与回溯流程"></a>发帖与回溯流程</h3><table>
<thead>
<tr>
<th>情况</th>
<th>浏览流程</th>
<th>回溯流程</th>
<th>暴露概率</th>
</tr>
</thead>
<tbody><tr>
<td>不用代理</td>
<td>发帖人-ISP-服务器托管商-服务器</td>
<td>网监-服务器IP-发帖人IP-发帖人ISP-档案</td>
<td>100%</td>
</tr>
<tr>
<td>一层私有VPN</td>
<td>发帖人-ISP-VPN-服务器托管商-服务器</td>
<td>网监-服务器IP-VPN的IP-路由日志-链接者IP-链接者ISP-办网档案</td>
<td>100%</td>
</tr>
<tr>
<td>一层共用VPN</td>
<td>发帖人-ISP-VPN-服务器托管商-服务器</td>
<td>网监-服务器IP-VPN的IP-入侵VPN服务器-日志-链接者IP-链接者ISP-办网档案</td>
<td>80%</td>
</tr>
<tr>
<td>两层私有VPN</td>
<td>发帖人-ISP-VPN1-VPN2-服务器托管商-服务器</td>
<td>网监-服务器IP-VPN2的IP-入侵VPN2服务器-日志查VPN1-路由日志-链接者IP-链接者ISP-办网档案</td>
<td>40%</td>
</tr>
<tr>
<td>两层共用VPN</td>
<td>发帖人-ISP-VPN1-VPN2-服务器托管商-服务器</td>
<td>网监-服务器IP-VPN2的IP-入侵VPN2服务器-日志查VPN1-日志-链接者IP-链接者ISP-办网档案</td>
<td>25%</td>
</tr>
<tr>
<td>N层私有&#x2F;公用VPN，发帖人有QQ</td>
<td>发帖人-ISP-VPN1-VPN2-VPN3-VPN*n服务器托管商-服务器</td>
<td>网监-服务器IP-访问网站-发帖人常用用户名-谷歌（百度）一下-查到QQ-找腾讯查近期登录IP</td>
<td>100%</td>
</tr>
<tr>
<td>N层私有&#x2F;公用VPN，发帖人无QQ</td>
<td>发帖人-ISP-VPN1-VPN2-VPN3-VPN*n服务器托管商-服务器</td>
<td>网监-服务器IP-访问网站-发帖人常用用户名-谷歌（百度）一下-查到其他论坛注册的ID-找管理员查注册（登录）IP</td>
<td>100%</td>
</tr>
<tr>
<td>N层私有&#x2F;公用VPN，发帖人无其它信息</td>
<td>发帖人-ISP-VPN1-VPN2-VPN3-VPN*n服务器托管商-服务器</td>
<td>网监-服务器IP-访问网站-无常用用户名-根据发帖内容（如北京市海淀区XX小区）-监控整个小区宽带-分析-找到IP</td>
<td>80%</td>
</tr>
</tbody></table>
<h3 id="IP封锁"><a href="#IP封锁" class="headerlink" title="IP封锁"></a>IP封锁</h3><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>墙通过将IP拉入黑名单以完成封锁。Goagent、XX-NET、Hosts方式通过IP访问谷歌或者其他被屏蔽的网站。现在大量谷歌IP被拉黑，而这些方法依然在扫描隐藏的谷歌IP，待IP消耗完毕后，这些方法则会失效。</p>
<p>2018年初开始，墙的封锁方式从全部协议封锁改为了TCP封锁（阻断），主要特征为Ping IP正常连通（ICMP协议），而TCPing IP连接超时无回应（TCP协议）。因此可通过Ping IP和TCPing IP确定服务器IP是否被墙。</p>
<p>服务器IP被TCP封锁（阻断）后，依然可以正常的向服务器发送数据，但服务器返回数据时，墙发现IP在黑名单中，于是就会阻断、拦截，SSR上表现为超时或空连。</p>
<p>目前的代理软件基本都在使用TCP协议进行传输。TCP协议要传输数据先要进行握手，而当墙对海外代理服务器回程TCP阻断的时候，就会导致代理客户端与服务端无法完成握手，自然也无法使用代理。</p>
<p>墙通过分析流量特征判断该链接为代理的可能性，当可能性达到不同的程度时，墙做出不同的处理。其逻辑举例如下（10%&#x2F;50%&#x2F;80%等仅用作举例），</p>
<p>检测到一个链接是代理的可能性低于10%，那么就无视；高于10%，则将IP的相关信息（及收集的证据、特征等）记录到数据库中，当下次再发现这个链接时，继续去收集证据判断是否为代理，若代理几率降低则无视，否则进一步关注；高于50%，可能单独封一个端口（代理端口），若换个端口后继续做代理，则进一步关注，到了80%，所有端口都被封禁。</p>
<h4 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h4><p>转换协议可以复活被墙的IP。转换为ICMP速度太慢，故转换为UDP较好，但国内运营商往往会对UDP QOS限速。能把TCP转为UDP的软件有KCPTun、Dragonite、V2ray（自带KCP协议）、Goflyway（自带KCP协议）。</p>
<p>也可使用CDN中转代理，而该方式需要WebSocket，故可用Goflyway的WS+CDN模式或V2ray的WS+CDN模式。同时需要通过伪装以保证CDN IP的安全性，在使用Goflyway时往往搭配HTTP伪装，而使用V2ray时往往搭配HTTP&#x2F;HTTPS伪装。HTTP&#x2F;HTTPS伪装有真正的网页，即浏览器打开域名会看到正常的网页，而代理客户端访问建立代理链接。</p>
<p>也可等待墙解封IP。墙考虑到海外大量的IDC和国内购买海外服务器正常使用者 的体验和情绪，会定期解封IP。每个做代理被墙的海外服务器IP，墙都会根据不同情况设定一个解封时间，<br>如果解封时间内该海外服务器IP没有向国内发送数据或者尝试建立代理连接，那么墙就会解封该IP。被解封的海外服务器IP，短时间内再用于代理用途，往往很快就又会封禁。</p>
<p>因此可以关闭或删除服务器上面的代理软件，然后闲置该服务器，不要Ping&#x2F;TCPing这个服务器，一段时间后应当会解封。墙还可能定期对被墙IP的服务器主动探测，看看代理软件是否还在运行，所以必须要关闭代理软件。</p>
<h4 id="封锁几率"><a href="#封锁几率" class="headerlink" title="封锁几率"></a>封锁几率</h4><p>在日本、美国被墙几率高。</p>
<p>使用SSR代理时可搭配服务端的redirect参数做真实网站，或就用原版混淆插件（plain）。ShadowsocksR服务端伪装成正常网站流量的教程如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://doubibackup.com/hi10k-7p-5.html</span><br></pre></td></tr></table></figure>

<h3 id="DNS污染"><a href="#DNS污染" class="headerlink" title="DNS污染"></a>DNS污染</h3><h4 id="原理-1"><a href="#原理-1" class="headerlink" title="原理"></a>原理</h4><p>DNS污染是指一些刻意制造或无意中制造出来的域名服务器分组，把域名指往不正确的IP地址。</p>
<p>一般来说，网站在互联网上一般都有可信赖的域名服务器，但为减免网络上的交通，一般的域名都会把外间的域名服务器数据暂存起来，待下次有其他机器要求解析域名时，可以立即提供服务。一旦有相关网域的局域域名服务器的缓存受到污染，就会把网域内的电脑导引往错误的服务器或服务器的网址。</p>
<p>假设A为用户端，B为DNS服务器，C为A到B链路中一个节点的网络设备（路由器、交换机、网关等）。现A需访问Google，故A向B通过UDP方式发送查询请求。这个数据在前往B时要经过C。DNS端口为53，C对此进行特定端口监视扫描，对UDP明文传输的DNS查询请求进行特征和关键词匹配分析，从而立刻返回一个错误的解析结果。作为链路上的一个节点，C必定比B更快的返回结果到A，而目前的DNS解析机制策略是只认第一，因此C所返回的查询结果就被A当作了最终结果，由此获得了错误的IP。</p>
<p>干扰也可以通过网络服务提供商提供的DNS服务器进行DNS欺骗，当使用此DNS服务器的网络用户访问此特定网站时，DNS服务便给出虚假的IP地址，导致访问网站失败，甚至返回ISP运营商提供的出错页面和广告页面。</p>
<p>可通过<code>nslookup</code>命令查看域名被解析出的IP地址。如果IP与域名服务器明显不同，如<code>8.7.198.45</code>，则可证明受到了DNS污染。</p>
<p>全球一共有13组根域名服务器，目前中国大陆有F、I这2个根域DNS镜像，但现在均已因为多次DNS污染外国网络，而被断开与国际互联网的连接。</p>
<h4 id="解决方法-1"><a href="#解决方法-1" class="headerlink" title="解决方法"></a>解决方法</h4><p>对于站长，换域名或者IP即可。</p>
<p>对于用户，可使用翻墙软件。也可在hosts添加受到污染的DNS地址，或使用DNSCrypt软件。</p>
<p>若使用Firefox，则可打开远程DNS解析功能。在地址栏中输入<code>about:config</code>，<br>找到<code>network.proxy.socks_remote_dns</code>，改成true即可。</p>
<h3 id="SSL连接阻断"><a href="#SSL连接阻断" class="headerlink" title="SSL连接阻断"></a>SSL连接阻断</h3><p>墙会阻断特定网站的SSL加密连接，方法是通过伪装成对方向连接两端的计算机发送RST包（RESET）干扰两者间正常的TCP连接，进而打断与特定IP地址之间的SSL（HTTPS，443端口）握手（如Gmail、Google文件、Google网上论坛等的SSL加密连接），从而导致SSL连接失败。</p>
<h3 id="HTTP劫持"><a href="#HTTP劫持" class="headerlink" title="HTTP劫持"></a>HTTP劫持</h3><h4 id="原理-2"><a href="#原理-2" class="headerlink" title="原理"></a>原理</h4><p>HTTP传输协议是明文的，若网站服务器在海外，访问网站时就要通过国际宽带出口。在通过时，若被墙扫描到违规关键词，墙则会阻断TCP连接，主要错误为链接已重置、该网站已永久移动到其他地址等。</p>
<h4 id="解决方法-2"><a href="#解决方法-2" class="headerlink" title="解决方法"></a>解决方法</h4><p>HTTP劫持可通过加SSL证书解决，网站全部内容都会被加密。但由于HTTPS在建立加密连接的时候需要一次握手，而这次握手是明文的，所以如果域名被重点关注，即使加上了SSL证书，也会在首次握手的时候由于关键词匹配而阻断TCP连接。</p>
<p>另一解决方法为域名备案并使用国内服务器，则不会通过墙。</p>
<h3 id="封锁方式的选择"><a href="#封锁方式的选择" class="headerlink" title="封锁方式的选择"></a>封锁方式的选择</h3><p>采用IP封锁时，所有的骨干路由器和国际出口的路由器都添加上和Google服务有关的IP黑名单，带有相关IP地址的数据包直接在半路就被丢包，这会给路由器带来很大负担且成本非常高。这种方法针对的多为非常重要的网站，对于普通网站，采用DNS污染即可。</p>
<h3 id="对于Google的特殊操作"><a href="#对于Google的特殊操作" class="headerlink" title="对于Google的特殊操作"></a>对于Google的特殊操作</h3><p>墙对Google部分服务器的IP地址实施某些端口的自动封锁，按时段对<code>www.google.com</code>和<code>mail.google.com</code>的几十个IP地址的443端口实施自动封锁，具体是每10或15分钟可以连通，接着断开，10或15分钟后再连通，再断开，如此循环，令中国大陆用户和Google主机之间的连接出现间歇性中断，使其各项服务出现问题，由此显得问题出在Google自身。</p>
<h2 id="网络层级"><a href="#网络层级" class="headerlink" title="网络层级"></a>网络层级</h2><p>以下层级由高到低。</p>
<table>
<thead>
<tr>
<th>层级</th>
<th>在本层运行的工具</th>
</tr>
</thead>
<tbody><tr>
<td>应用层</td>
<td>浏览器</td>
</tr>
<tr>
<td>表示层</td>
<td></td>
</tr>
<tr>
<td>会话层</td>
<td>SS&#x2F;V2Ray&#x2F;Trojan</td>
</tr>
<tr>
<td>传输层</td>
<td>游戏</td>
</tr>
<tr>
<td>网络层</td>
<td>ICMP（ping&#x2F;trace）</td>
</tr>
<tr>
<td>数据链路层</td>
<td>VPN（PPTP&#x2F;L2TP&#x2F;OpenVPN）&#x2F;IEPL</td>
</tr>
<tr>
<td>物理层</td>
<td>IPLC</td>
</tr>
</tbody></table>
<h2 id="TCP与UDP"><a href="#TCP与UDP" class="headerlink" title="TCP与UDP"></a>TCP与UDP</h2><p>TCP为两者点对点连接，UDP为广播连接。</p>
<h2 id="网页"><a href="#网页" class="headerlink" title="网页"></a>网页</h2><h3 id="论坛"><a href="#论坛" class="headerlink" title="论坛"></a>论坛</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">https://limbopro.xyz/</span><br><span class="line">https://fanqiangdang.com/</span><br><span class="line">https://www.ssrshare.com/</span><br><span class="line">https://fangeqiang.com/</span><br><span class="line">https://www.flyzy2005.com/</span><br><span class="line">https://iyideng.cloud/</span><br><span class="line">https://52bp.org/index.html</span><br><span class="line">https://vpncn.blogspot.com/</span><br><span class="line">https://doubibackup.com/</span><br><span class="line">https://www.vpsdawanjia.com/</span><br><span class="line">https://program-think.blogspot.com/</span><br><span class="line">https://program-think.medium.com/</span><br><span class="line"></span><br><span class="line">// 已遍历至2020-10-29【2020年双11活动集中分享！看这里就够了！】</span><br><span class="line">https://51.ruyo.net/</span><br></pre></td></tr></table></figure>

<h3 id="免费VPS"><a href="#免费VPS" class="headerlink" title="免费VPS"></a>免费VPS</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://freeserver.us/</span><br><span class="line">https://www.youneed.win/</span><br></pre></td></tr></table></figure>

<h1 id="现成工具"><a href="#现成工具" class="headerlink" title="现成工具"></a>现成工具</h1><h2 id="云浏览器"><a href="#云浏览器" class="headerlink" title="云浏览器"></a>云浏览器</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https://hyperbeam.com/app/register</span><br><span class="line">https://neverinstall.com/</span><br><span class="line">https://docs.microsoft.com/en-us/learn/modules/extend-elements-finance-operations/4-exercise</span><br><span class="line">https://docs.microsoft.com/en-us/learn/modules/implement-common-integration-features-finance-ops/10-exercise-1</span><br></pre></td></tr></table></figure>

<h2 id="加速器"><a href="#加速器" class="headerlink" title="加速器"></a>加速器</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">https://tuntu.gy-idc.com/views/home</span><br><span class="line">https://www.nn.com/</span><br><span class="line">https://www.chiyanjiasu.com/</span><br><span class="line">http://ifengyun.com/</span><br><span class="line">https://www.zhifool.com/</span><br><span class="line">https://zzjiasuqi.com/</span><br><span class="line">https://akspeedy.com/</span><br><span class="line">https://www.ccspeed.cn/</span><br><span class="line">https://www.biubiu001.com/</span><br><span class="line">http://xunyou.mobi/#/</span><br></pre></td></tr></table></figure>

<h2 id="电脑端软件"><a href="#电脑端软件" class="headerlink" title="电脑端软件"></a>电脑端软件</h2><h3 id="翻墙Chrome浏览器"><a href="#翻墙Chrome浏览器" class="headerlink" title="翻墙Chrome浏览器"></a>翻墙Chrome浏览器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 适用于XP以上系统</span><br><span class="line">https://github.com/Alvin9999/new-pac/wiki/%E9%AB%98%E5%86%85%E6%A0%B8%E7%89%88</span><br><span class="line"></span><br><span class="line">// 适用于XP</span><br><span class="line">https://github.com/Alvin9999/new-pac/wiki/%E4%BD%8E%E5%86%85%E6%A0%B8%E7%89%88</span><br></pre></td></tr></table></figure>

<h3 id="翻墙Firefox浏览器"><a href="#翻墙Firefox浏览器" class="headerlink" title="翻墙Firefox浏览器"></a>翻墙Firefox浏览器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Alvin9999/new-pac/wiki/%E7%81%AB%E7%8B%90%E7%BF%BB%E5%A2%99%E6%B5%8F%E8%A7%88%E5%99%A8</span><br></pre></td></tr></table></figure>

<h3 id="无界浏览"><a href="#无界浏览" class="headerlink" title="无界浏览"></a>无界浏览</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// Windows</span><br><span class="line">https://www.lanzous.com/i4eyu4b</span><br><span class="line"></span><br><span class="line">// Mac</span><br><span class="line">https://www.lanzous.com/i4eyt1c</span><br></pre></td></tr></table></figure>

<h3 id="Hotspot-Shield"><a href="#Hotspot-Shield" class="headerlink" title="Hotspot Shield"></a>Hotspot Shield</h3><p>可在美区的Mac App Store找到。</p>
<h3 id="windscribe"><a href="#windscribe" class="headerlink" title="windscribe"></a>windscribe</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://chn.windscribe.com/download</span><br></pre></td></tr></table></figure>

<h3 id="ProtonVPN"><a href="#ProtonVPN" class="headerlink" title="ProtonVPN"></a>ProtonVPN</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://protonvpn.com/download</span><br></pre></td></tr></table></figure>

<h3 id="Psiphon"><a href="#Psiphon" class="headerlink" title="Psiphon"></a>Psiphon</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://psiphon.ca/</span><br></pre></td></tr></table></figure>

<h3 id="IPUnblock"><a href="#IPUnblock" class="headerlink" title="IPUnblock"></a>IPUnblock</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ipunblock.com/</span><br></pre></td></tr></table></figure>

<h3 id="tuxler"><a href="#tuxler" class="headerlink" title="tuxler"></a>tuxler</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://tuxler.com/</span><br></pre></td></tr></table></figure>

<h3 id="Privatix"><a href="#Privatix" class="headerlink" title="Privatix"></a>Privatix</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://privatix.com/</span><br></pre></td></tr></table></figure>

<h3 id="WireGuard"><a href="#WireGuard" class="headerlink" title="WireGuard"></a>WireGuard</h3><p>打开以下链接以下载客户端。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.wireguard.com/install/</span><br></pre></td></tr></table></figure>

<p>打开WireGuard，选择add empty tunnel，复制public key。打开以下链接并将刚才的内容复制到your wireguard public key，点击Add key继续。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cryptostorm.is/wireguard</span><br></pre></td></tr></table></figure>

<p>将生成的配置文件复制到WireGuard的public key下方配置信息框内，并删除以下字段。点击active激活即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Interface]</span><br><span class="line">PrivateKey = YOUR_PRIVATE_KEY</span><br></pre></td></tr></table></figure>

<h3 id="OpenVPN-1"><a href="#OpenVPN-1" class="headerlink" title="OpenVPN"></a>OpenVPN</h3><p>下载以下客户端。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://openvpn.net/download-open-vpn/</span><br></pre></td></tr></table></figure>

<p>也可下载以下第三方客户端。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.sparklabs.com/viscosity/</span><br></pre></td></tr></table></figure>

<p>可通过以下网站获取OpenVPN的配置文件。下载配置文件后导入到客户端即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://www.vpnbook.com/freevpn</span><br><span class="line">https://www.vpngate.net/en/</span><br></pre></td></tr></table></figure>

<h2 id="手机端软件"><a href="#手机端软件" class="headerlink" title="手机端软件"></a>手机端软件</h2><h3 id="Betternet-x2F-VPN-360"><a href="#Betternet-x2F-VPN-360" class="headerlink" title="Betternet&#x2F;VPN 360"></a>Betternet&#x2F;VPN 360</h3><p>可在美区的App Store找到。</p>
<h3 id="VPN-Plus"><a href="#VPN-Plus" class="headerlink" title="VPN Plus"></a>VPN Plus</h3><p>iOS版可在美区的App Store找到。安卓版下载地址如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">（Android）https://www.lanzous.com/i4ez8wd</span><br></pre></td></tr></table></figure>

<h3 id="老王VPN"><a href="#老王VPN" class="headerlink" title="老王VPN"></a>老王VPN</h3><p>可在Google Play下载。若能连接到Google Play，可找到非常多类似的软件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.lanzous.com/i4ezbla</span><br></pre></td></tr></table></figure>

<h3 id="蚂蚁加速器"><a href="#蚂蚁加速器" class="headerlink" title="蚂蚁加速器"></a>蚂蚁加速器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://b.lausera.com/c-1/a-agWjQ/</span><br></pre></td></tr></table></figure>

<h2 id="谷歌镜像"><a href="#谷歌镜像" class="headerlink" title="谷歌镜像"></a>谷歌镜像</h2><h3 id="基本知识"><a href="#基本知识" class="headerlink" title="基本知识"></a>基本知识</h3><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><p>镜像网站有如下类别。</p>
<table>
<thead>
<tr>
<th>种类</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>F1</td>
<td>通过服务器（如Nginx）反向代理，服务器在海外或为IPV6</td>
</tr>
<tr>
<td>F2</td>
<td>通过爬虫程序实时爬取并展示Google搜索的结果页</td>
</tr>
<tr>
<td>F3</td>
<td>通过定时全量数据同步，进行镜像分身，达到持久化的镜像，例如composer镜像或npm镜像，谷歌镜像不能使用这种方法</td>
</tr>
</tbody></table>
<h4 id="和代理的区别"><a href="#和代理的区别" class="headerlink" title="和代理的区别"></a>和代理的区别</h4><p>代理是设置代理服务器，代理服务器转发下载请求，从而实现类似谷歌镜像的需求。</p>
<p>镜像是镜像站点已经提前镜像（下载）了资源，访问时直接从它的服务器上获取资源。</p>
<h3 id="网站"><a href="#网站" class="headerlink" title="网站"></a>网站</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">https://www.gosearchresults.com/</span><br><span class="line">https://www.lovec.ltd/</span><br><span class="line">https://www.sanzhima.com/</span><br><span class="line">http://g.histsci.org/</span><br><span class="line">http://google.seek68.cn/</span><br><span class="line">https://x.glgoo.top/scholar/</span><br><span class="line">https://ac.scmor.com/</span><br><span class="line">https://v2ray.party/</span><br><span class="line">http://scholar.hedasudi.com/</span><br><span class="line">https://ac.scmor.com/</span><br><span class="line">https://google2.jiongjun.cc/</span><br><span class="line">https://siguso.com/google/</span><br><span class="line">https://ac.scmor.com/</span><br><span class="line">https://coderschool.cn/1853.html</span><br><span class="line"></span><br><span class="line"># 三个问题的答案分别为</span><br><span class="line"># 心灵之约</span><br><span class="line"># 水朝夕</span><br><span class="line"># csxy@123</span><br><span class="line">http://g.luciaz.me/</span><br></pre></td></tr></table></figure>

<h2 id="Chrome插件"><a href="#Chrome插件" class="headerlink" title="Chrome插件"></a>Chrome插件</h2><h3 id="谷歌访问助手破解版"><a href="#谷歌访问助手破解版" class="headerlink" title="谷歌访问助手破解版"></a>谷歌访问助手破解版</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.lanzous.com/ial9x8b</span><br></pre></td></tr></table></figure>

<h3 id="Ghelper"><a href="#Ghelper" class="headerlink" title="Ghelper"></a>Ghelper</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://googlehelper.net/</span><br></pre></td></tr></table></figure>

<h3 id="Chrome商店访问助手"><a href="#Chrome商店访问助手" class="headerlink" title="Chrome商店访问助手"></a>Chrome商店访问助手</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.ggfwzs.com/</span><br></pre></td></tr></table></figure>

<h3 id="SetupVPN"><a href="#SetupVPN" class="headerlink" title="SetupVPN"></a>SetupVPN</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://setupvpn.com/download/</span><br></pre></td></tr></table></figure>

<h3 id="Tunhello"><a href="#Tunhello" class="headerlink" title="Tunhello"></a>Tunhello</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://tunnello.com/</span><br></pre></td></tr></table></figure>

<h2 id="代理-1"><a href="#代理-1" class="headerlink" title="代理"></a>代理</h2><p>该方法适合所有的系统，包括Linux和较旧的Windows系统，如XP。</p>
<h3 id="寻找代理节点"><a href="#寻找代理节点" class="headerlink" title="寻找代理节点"></a>寻找代理节点</h3><h4 id="通过网站"><a href="#通过网站" class="headerlink" title="通过网站"></a>通过网站</h4><p>在Google搜索<code>免费代理节点</code>即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">http://free-proxy.cz/</span><br><span class="line">http://www.gatherproxy.com/zh/sockslist</span><br><span class="line">https://www.vpngate.net/en/</span><br><span class="line">http://www.proxylists.net/</span><br><span class="line">http://www.freeproxylists.net/zh/</span><br><span class="line">https://free-proxy-list.net/</span><br><span class="line">https://www.my-proxy.com/free-proxy-list.html</span><br><span class="line">https://sockslist.net/</span><br><span class="line">https://premproxy.com/list/</span><br></pre></td></tr></table></figure>

<h4 id="通过工具"><a href="#通过工具" class="headerlink" title="通过工具"></a>通过工具</h4><p>下载<code>ProxyScrape</code>，打开后选择<code>Check proxies</code>，填写所要求的代理服务器的<code>ping值</code>，ping值越大，表明延迟越大。一般来说，公用的服务器ping值都会在100ms以上，因此可取400-500。填写检查<code>代理服务器的数量</code>，选择<code>代理服务器的协议类型</code>，选择<code>Check from ProxyScrape.com</code>，工具就会开始筛选代理，并把可用的代理用绿色表示出来。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://proxyscrape.com/proxy-checker</span><br></pre></td></tr></table></figure>

<h3 id="配置网络代理"><a href="#配置网络代理" class="headerlink" title="配置网络代理"></a>配置网络代理</h3><h4 id="设置软件代理"><a href="#设置软件代理" class="headerlink" title="设置软件代理"></a>设置软件代理</h4><p>以网易云音乐为例，点击设置-工具，在代理选项卡下有三个选项，若选择使用IE代理设置，则需要提前设置好IE的代理。如果选择自定义代理，则在下拉菜单中选择代理类型，并输入服务器与端口（比如说所得结果为<code>1.2.3.4:5</code>，则服务器地址为1.2.3.4，端口为5），保存即可。</p>
<h4 id="设置IE代理"><a href="#设置IE代理" class="headerlink" title="设置IE代理"></a>设置IE代理</h4><p>打开IE，点击右上方设置-Internet选项，选择连接-局域网设置，勾选<code>为LAN使用代理服务器</code>，填好地址和端口，并勾选<code>对于本机地址不使用代理服务器</code>，保存并退出。</p>
<h4 id="设置全局代理"><a href="#设置全局代理" class="headerlink" title="设置全局代理"></a>设置全局代理</h4><p>打开系统的设置-网络和Internet-代理，选择<code>使用代理服务器</code>，填好地址和端口，并保存。</p>
<h4 id="设置浏览器代理"><a href="#设置浏览器代理" class="headerlink" title="设置浏览器代理"></a>设置浏览器代理</h4><p>以Chrome为例，打开Chrome网上应用店，搜索<code>SwitchyOmega</code>并安装（需要外网环境）。</p>
<p>下载完成后点击插件的选项，进入配置页面。点击情景模式的<code>proxy</code>，填写代理协议、代理服务器和端口。点击<code>auto switch</code>，切换规则只留<code>proxy</code>，默认情景模式设为<code>直接连接</code>，在导入在线规则列表下，点击<code>添加规则列表</code>并填入下面网址，点击<code>立即更新情景模式</code>，保存后退出。此时可以禁用系统设置中的网络代理。</p>
<p>点击插件，选择auto switch或proxy，即可访问外网。其中proxy相当于全局模式，auto switch相当于PAC模式。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</span><br></pre></td></tr></table></figure>

<h2 id="机场及公用节点"><a href="#机场及公用节点" class="headerlink" title="机场及公用节点"></a>机场及公用节点</h2><h3 id="友明互联"><a href="#友明互联" class="headerlink" title="友明互联"></a>友明互联</h3><p>0.01元&#x2F;天。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://idc.ymhlw.cn/index.php/buy/index/</span><br></pre></td></tr></table></figure>

<h3 id="乐云"><a href="#乐云" class="headerlink" title="乐云"></a>乐云</h3><p>2元&#x2F;月。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.renzhijia.com/buy/index/7/</span><br></pre></td></tr></table></figure>

<h3 id="Goflyway免费账号"><a href="#Goflyway免费账号" class="headerlink" title="Goflyway免费账号"></a>Goflyway免费账号</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Alvin9999/new-pac/wiki/Goflyway%E5%85%8D%E8%B4%B9%E8%B4%A6%E5%8F%B7</span><br></pre></td></tr></table></figure>

<h3 id="公用节点"><a href="#公用节点" class="headerlink" title="公用节点"></a>公用节点</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">https://freevpn4you.net/ru/free-proxy.php</span><br><span class="line">https://github.com/hugetiny/awesome-vpn/blob/master/READMECN.md</span><br><span class="line">https://free-ss.site/</span><br><span class="line">https://yzzz.ml/freessr/</span><br><span class="line">https://www.liesauer.net/yogurt/subscribe?ACCESS_TOKEN=DAYxR3mMaZAsaqUb</span><br><span class="line">https://prom-php.herokuapp.com/cloudfra_ssr.txt</span><br><span class="line">https://view.freev2ray.org/</span><br><span class="line">https://node.umelabs.dev/</span><br><span class="line">https://www.youneed.win/free-ssr</span><br><span class="line">https://www.youneed.win/free-ss</span><br><span class="line">https://lncn.org/</span><br><span class="line">https://www.nutgeek.com/ssshadowsocks/</span><br><span class="line">https://usky.ml/tool/free_ssr</span><br><span class="line">https://trial.ssbit.win/</span><br><span class="line">https://www.go2free.xyz/</span><br><span class="line">https://gdmi.weebly.com/3118523398online.html</span><br><span class="line">https://free.yitianjianss.com/</span><br><span class="line">https://ssrtool.us/tool/free_ssr</span><br><span class="line">https://github.com/Alvin9999/new-pac/wiki/ss%E5%85%8D%E8%B4%B9%E8%B4%A6%E5%8F%B7</span><br><span class="line">https://github.com/Alvin9999/new-pac/wiki/v2ray%E5%85%8D%E8%B4%B9%E8%B4%A6%E5%8F%B7</span><br><span class="line">http://ss.pythonic.life/</span><br><span class="line">https://www.vpngate.net/cn/</span><br></pre></td></tr></table></figure>

<h2 id="SSH隧道-1"><a href="#SSH隧道-1" class="headerlink" title="SSH隧道"></a>SSH隧道</h2><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>打开以下链接以创建账号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.speedssh.com/</span><br></pre></td></tr></table></figure>

<p>下载以下客户端并输入从上述网站获取的SSH信息，22为SSH默认端口。登录后进入Services，勾选<code>SOCKS/HTTP proxy forwarding</code>，然后按照设置代理的方式进行设置即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.bitvise.com/ssh-client-download</span><br></pre></td></tr></table></figure>

<p>也可通过以下网站获取SSH账号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">https://skyssh.com/</span><br><span class="line">https://www.mytunneling.com/</span><br><span class="line">https://bestvpnssh.com/</span><br><span class="line">https://fullssh.com/</span><br><span class="line">https://www.sshagan.net/</span><br><span class="line">https://www.portssh.com/</span><br><span class="line">https://www.jetssh.com/</span><br><span class="line">http://free-ssh.xyz/</span><br><span class="line">https://sshkit.com/</span><br><span class="line">https://www.monthlyssh.com/ssh</span><br><span class="line">https://speedssh.com/</span><br><span class="line">https://sshdropbear.net/</span><br><span class="line">https://fastssh.com/</span><br><span class="line">https://createssh.com/</span><br><span class="line">https://cloudssh.us/</span><br></pre></td></tr></table></figure>

<h2 id="获取工具的方式"><a href="#获取工具的方式" class="headerlink" title="获取工具的方式"></a>获取工具的方式</h2><h3 id="搜索引擎"><a href="#搜索引擎" class="headerlink" title="搜索引擎"></a>搜索引擎</h3><p>使用github&#x2F;qwant&#x2F;telegram搜索相关翻墙软件的关键词，可使用similarsitesearch查询相似站点。</p>
<h3 id="邮件"><a href="#邮件" class="headerlink" title="邮件"></a>邮件</h3><p>有些提供翻墙工具的公司&#x2F;组织会开设一个邮箱，用于自动回复科学上网工具以及页面镜像地址，如发送标题<code>help</code>到<code>get@psiphon3.com</code>。</p>
<h3 id="P2P下载"><a href="#P2P下载" class="headerlink" title="P2P下载"></a>P2P下载</h3><p>连上某个eMule服务器后即可搜索Tor等相关工具。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.emule-project.net/home/perl/general.cgi?l=42</span><br></pre></td></tr></table></figure>

<h2 id="其它特殊方法"><a href="#其它特殊方法" class="headerlink" title="其它特殊方法"></a>其它特殊方法</h2><p>可通过QQ邮箱或网易邮箱大师APP，添加Gmail账户即可跳转到Google登录页面。点击下面的<code>帮助</code>，在搜索框随便输入内容，然后点击<code>在Google上搜索</code>即可。</p>
<h1 id="自建服务器"><a href="#自建服务器" class="headerlink" title="自建服务器"></a>自建服务器</h1><p>通过国外服务器上搭建专门的翻墙协议，实现翻墙效果。</p>
<h2 id="Google-Cloud-Platform"><a href="#Google-Cloud-Platform" class="headerlink" title="Google Cloud Platform"></a>Google Cloud Platform</h2><h3 id="申请"><a href="#申请" class="headerlink" title="申请"></a>申请</h3><p>在Google搜索GCP即可进入Google Cloud Platform的官网。GCP是谷歌提供的服务器，新用户注册可免费获取300美元的赠金，在12个月内使用。</p>
<p>注册GCP的关键是通过银行卡认证。注册完成后点击左上角的菜单，选择<code>结算</code>，可以看到剩余赠金和剩余试用日期。信用卡验证相关操作可查看附录。</p>
<h3 id="搭建"><a href="#搭建" class="headerlink" title="搭建"></a>搭建</h3><h4 id="创建防火墙规则"><a href="#创建防火墙规则" class="headerlink" title="创建防火墙规则"></a>创建防火墙规则</h4><p>点击菜单中的VPC网络-防火墙规则，进入防火墙规则页面后，点击<code>创建防火墙规则</code>，进入防火墙规则创建界面，配置如下。完成配置后点击创建即可。</p>
<table>
<thead>
<tr>
<th>项目</th>
<th>值</th>
</tr>
</thead>
<tbody><tr>
<td>名称</td>
<td>entrance</td>
</tr>
<tr>
<td>优先级</td>
<td>1</td>
</tr>
<tr>
<td>流量方向</td>
<td>入站</td>
</tr>
<tr>
<td>对匹配项执行的操作</td>
<td>允许</td>
</tr>
<tr>
<td>目标</td>
<td>网络中的所有实例</td>
</tr>
<tr>
<td>来源IP地址范围</td>
<td>0.0.0.0&#x2F;0</td>
</tr>
<tr>
<td>协议和端口</td>
<td>全部允许</td>
</tr>
</tbody></table>
<p>同理，再创建一个防火墙实例，名称改为<code>exit</code>，流量方向为<code>出站</code>，其余与上面的一致，保存。</p>
<h4 id="创建VM实例"><a href="#创建VM实例" class="headerlink" title="创建VM实例"></a>创建VM实例</h4><p>点击菜单中的Compute Engine-VM实例，点击创建，进入VM实例创建页面，配置如下。</p>
<table>
<thead>
<tr>
<th>项目</th>
<th>值</th>
</tr>
</thead>
<tbody><tr>
<td>区域</td>
<td>建议asia-east2（香港）或asia-east1（台湾）</td>
</tr>
<tr>
<td>机器类型</td>
<td>建议微型</td>
</tr>
<tr>
<td>防火墙</td>
<td>勾选允许HTTP流量、允许HTTPS流量</td>
</tr>
<tr>
<td><strong>网络</strong></td>
<td></td>
</tr>
<tr>
<td>网络标记</td>
<td>刚才创建好的防火墙规则（enterance、exit）</td>
</tr>
</tbody></table>
<p>创建完成后会有一个内部IP和一个外部IP，打开命令提示符，输入<code>ping [外部IP]</code>查看ping值。如果ping值过大，则再创建一个新的实例，直到得到一台ping值小的服务器，注意不要把原来的实例删除，不然会分配到同一台服务器。正常服务器ping值在100ms以内。</p>
<h4 id="搭建V2Ray协议"><a href="#搭建V2Ray协议" class="headerlink" title="搭建V2Ray协议"></a>搭建V2Ray协议</h4><h5 id="运行一键脚本"><a href="#运行一键脚本" class="headerlink" title="运行一键脚本"></a>运行一键脚本</h5><p>点击VM实例上的<code>SSH</code>按钮，等待命令行窗口出现。在命令行中输入以下命令以获取管理员权限，并执行V2Ray一键安装脚本。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br><span class="line">bash &lt;(curl -s -L https://git.io/v2ray.sh)</span><br></pre></td></tr></table></figure>

<h5 id="协议配置"><a href="#协议配置" class="headerlink" title="协议配置"></a>协议配置</h5><h6 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h6><p>在一键脚本配置协议时选择默认的<code>TCP</code>协议即可。TCP协议速度快，但有被封端口的风险。</p>
<h6 id="WS-TLS协议"><a href="#WS-TLS协议" class="headerlink" title="WS+TLS协议"></a>WS+TLS协议</h6><p>该协议安全性高，但需要域名且速度不及TCP协议。</p>
<p>进入以下网站并注册一个cloudflare账号，然后把注册好的域名加进去，添加时选择免费套餐。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cloudflare.com/zh-cn/</span><br></pre></td></tr></table></figure>

<p>向域名的<code>DNS</code>添加一个A记录，Name为二级域名，比如<code>hk.nionguan.ga</code>，Value为服务器的IP地址，注册时<code>Proxy status</code>点成<code>DNS Only</code>。</p>
<p>然后到购买域名网页的后台，更改域名的Nameserver为cloudflare中指定的网址。更改完成后返回cloudflare，点击<code>Done, Check...</code>并等待生效。</p>
<p>完成网站配置后，在脚本配置协议时选择WS+TLS协议即可。</p>
<h5 id="多用户配置"><a href="#多用户配置" class="headerlink" title="多用户配置"></a>多用户配置</h5><p>请在完成TCP协议和WS+TLS协议的配置后进行以下操作。</p>
<p>在服务器输入以下命令以编辑V2Ray的配置文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/v2ray/config.json</span><br></pre></td></tr></table></figure>

<p>找到inbound段的代码并进行如下修改，注意每个用户的UUID应当一致。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&quot;inbounds&quot;: [&#123;</span><br><span class="line">  &quot;port&quot;: 8089, // WS+TLS</span><br><span class="line">  &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">  &quot;settings&quot;: &#123;</span><br><span class="line">    &quot;clients&quot;: [&#123;</span><br><span class="line">      &quot;id&quot;: &quot;71880ee2-4d15-47da-87b2-xxxxxxxxxx&quot;,</span><br><span class="line">      &quot;alterId&quot;: 64</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;streamSettings&quot;: &#123;</span><br><span class="line">    &quot;network&quot;: &quot;ws&quot;,</span><br><span class="line">    &quot;wsSettings&quot;: &#123;</span><br><span class="line">      &quot;path&quot;: &quot;/nidebeibei&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  &quot;port&quot;: 8288, // TCP</span><br><span class="line">  &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">  &quot;settings&quot;: &#123;</span><br><span class="line">    &quot;clients&quot;: [&#123;</span><br><span class="line">      &quot;id&quot;: &quot;71880ee2-4d15-47da-87b2-xxxxxxxxxx&quot;,</span><br><span class="line">      &quot;alterId&quot;: 64</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<p>修改完成后重启V2Ray服务即可生效。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart v2ray</span><br></pre></td></tr></table></figure>

<h5 id="配置分享"><a href="#配置分享" class="headerlink" title="配置分享"></a>配置分享</h5><p>得到V2Ray配置信息后复制，并输入<code>v2ray ssqr</code>生成二维码，以得到客户端配置。客户端配置方法可查看客户端配置一节。</p>
<h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><h4 id="文件传输"><a href="#文件传输" class="headerlink" title="文件传输"></a>文件传输</h4><p>在浏览器中点击SSH按钮并弹出窗口后，可点击窗口右上角，选择文件传输功能以从服务器下载内容，或上传内容到服务器。</p>
<h4 id="快照"><a href="#快照" class="headerlink" title="快照"></a>快照</h4><p>GCP提供的快照功能能够备份磁盘内容，当内容丢失后可以用于恢复。新建VM实例时也可通过快照建立。</p>
<p>点击Compute Engine下的快照，建立即可。建立完成后，直接点击快照详情，即可用该快照建立实例，其磁盘内容完全一致。</p>
<h4 id="镜像"><a href="#镜像" class="headerlink" title="镜像"></a>镜像</h4><p>GCP可通过Docker Hub上的镜像部署VM实例。在部署示例时勾选<code>将镜像应用到该实例</code>，并复制该实例的完整地址即可，如<code>hub.docker.com/_/wordpress</code>。</p>
<h4 id="Nodejs部署"><a href="#Nodejs部署" class="headerlink" title="Nodejs部署"></a>Nodejs部署</h4><p>在搜索框输入node.js，点击<code>Node.js Certified by Bitnami</code>，按照操作即可。</p>
<h2 id="GoormIDE"><a href="#GoormIDE" class="headerlink" title="GoormIDE"></a>GoormIDE</h2><p>GoormIDE可以永久免费使用一个含1GB内存、10GB存储空间的VPS，但不能保持常开。</p>
<h3 id="申请-1"><a href="#申请-1" class="headerlink" title="申请"></a>申请</h3><p>打开以下链接并完成注册即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://ide.goorm.io/</span><br></pre></td></tr></table></figure>

<h3 id="搭建-1"><a href="#搭建-1" class="headerlink" title="搭建"></a>搭建</h3><p>进入控制台后点击<code>New Container</code>。地区最好选择韩国，类型选择Private，选择新建。新建完成后点击Run，然后点击Terminal进行连接。</p>
<h4 id="Socks5连接协议"><a href="#Socks5连接协议" class="headerlink" title="Socks5连接协议"></a>Socks5连接协议</h4><p>输入以下命令安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -s -L https://raw.githubusercontent.com/guleonseon/goorm-auto/master/install.sh)</span><br></pre></td></tr></table></figure>

<p>回到VPS设置页，在Port Forwarding处填写<code>1080</code>并点击完成。客户端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">类型 / socks5</span><br><span class="line">地址 / VPS的IP地址</span><br><span class="line">端口 / 原端口（不是1080）</span><br></pre></td></tr></table></figure>

<h4 id="vmess连接协议"><a href="#vmess连接协议" class="headerlink" title="vmess连接协议"></a>vmess连接协议</h4><p>输入以下命令以通过一键脚本安装，安装完成后记下配置，不要关闭窗口。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -s -L https://git.io/v2ray.sh)</span><br></pre></td></tr></table></figure>

<p>回到VPS设置页，在Port Forwarding处填写刚才记下的端口号并点击完成，然后记下后面系统分配的新的端口号。在添加连接时，需要用新端口号替换旧的端口号，其余配置与脚本提供的一致。</p>
<p>返回终端页，运行以下命令以保持V2Ray运行。使用过程中需一直停留在该标签页上，每次重新开启服务器时，需查看配置是否被改变。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/v2ray/v2ray -config /etc/v2ray/config.json</span><br></pre></td></tr></table></figure>

<h2 id="Heroku"><a href="#Heroku" class="headerlink" title="Heroku"></a>Heroku</h2><h3 id="申请-2"><a href="#申请-2" class="headerlink" title="申请"></a>申请</h3><p>打开以下链接并注册，注意需要翻墙环境。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://dashboard.heroku.com/</span><br></pre></td></tr></table></figure>

<h3 id="搭建-2"><a href="#搭建-2" class="headerlink" title="搭建"></a>搭建</h3><h4 id="V2Ray"><a href="#V2Ray" class="headerlink" title="V2Ray"></a>V2Ray</h4><p>打开以下链接部署V2Ray，注意数据中心即为翻墙服务器地址。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/bclswl0827/v2ray-heroku</span><br></pre></td></tr></table></figure>

<p>完成部署后在后台查看刚才新建的项目，点击<code>Reveal Config Vars</code>并复制UUID，在<code>Domains</code>下复制域名。打开客户端并进行配置，其中地址为刚才的域名，端口为443，用户ID为刚才的UUID，alterID为64，传输协议为ws，打开TLS并允许不安全连接即可。</p>
<h4 id="Shadowsocks-1"><a href="#Shadowsocks-1" class="headerlink" title="Shadowsocks"></a>Shadowsocks</h4><p>步骤基本同上，仓库如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/onplus/shadowsocks-heroku</span><br></pre></td></tr></table></figure>

<p>客户端配置中，地址为app域名，端口为80，混淆为websocket，路径为<code>/</code>。</p>
<h3 id="Heroku-CLI"><a href="#Heroku-CLI" class="headerlink" title="Heroku CLI"></a>Heroku CLI</h3><p>Heroku CLI可用于在本地通过命令部署应用，下载链接如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://devcenter.heroku.com/articles/heroku-cli#download-and-install</span><br></pre></td></tr></table></figure>

<h2 id="EUserv"><a href="#EUserv" class="headerlink" title="EUserv"></a>EUserv</h2><h3 id="申请-3"><a href="#申请-3" class="headerlink" title="申请"></a>申请</h3><p>打开以下链接以注册。注意注册时地址选择中国，地址尽量真实，不需要翻墙环境。审核需要24-48小时，会核对注册时所用的IP地址和选择的地区是否匹配。若注册不通过则会被删除账号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.euserv.com/en/virtual-private-server/root-vserver/v2/vs2-free.php</span><br></pre></td></tr></table></figure>

<h3 id="搭建-3"><a href="#搭建-3" class="headerlink" title="搭建"></a>搭建</h3><h4 id="重装系统"><a href="#重装系统" class="headerlink" title="重装系统"></a>重装系统</h4><p>在后台点击<code>VSERVER</code>，看到服务器申请状态成功，即可点击<code>Select</code>进入服务器详情。进行系统安装时系统选择<code>CentOS 7</code>，然后点击左侧的<code>Serverdata</code>查看服务器信息，若Default-Password出现，则系统安装成功。</p>
<h4 id="SSH连接"><a href="#SSH连接" class="headerlink" title="SSH连接"></a>SSH连接</h4><p>由于该服务器只提供IPV6地址，而普通路由器不具备解析IPV6地址的能力，因此需要通过其它方式进行连接。</p>
<h5 id="通过手机热点"><a href="#通过手机热点" class="headerlink" title="通过手机热点"></a>通过手机热点</h5><p>手机热点自带IPV6地址。将电脑连接手机热点后，输入以下命令以确认服务器是否能够连接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// Windows</span><br><span class="line">ping -6 [IPV6地址]</span><br><span class="line"></span><br><span class="line">// Mac</span><br><span class="line">ping6 [IPV6地址]</span><br></pre></td></tr></table></figure>

<p>然后通过正常的SSH连接即可。</p>
<p>也可在手机端直接完成。安装<code>1.1.1.1</code>这一APP并连接，然后通过SSH软件连接即可。</p>
<h5 id="通过网站-1"><a href="#通过网站-1" class="headerlink" title="通过网站"></a>通过网站</h5><p>打开以下网站并注册，然后依次新建组织、项目、资产。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://console.heyterm.com/</span><br></pre></td></tr></table></figure>

<p>其中新建资产时相关配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">IP地址 / IPV6地址或服务器域名</span><br><span class="line">用户名 / root</span><br><span class="line">密码 / Default-Password的内容</span><br><span class="line">服务器节点 / 荷兰或德国</span><br></pre></td></tr></table></figure>

<p>新建完成后点击终端按钮即可完成连接。</p>
<h4 id="IPV4配置"><a href="#IPV4配置" class="headerlink" title="IPV4配置"></a>IPV4配置</h4><p>输入以下命令以更改DNS解析，使其可访问IPV4网络。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;nameserver 2001:67c:2b0::4\nnameserver 2001:67c:2b0::6&quot; &gt; /etc/resolv.conf</span><br></pre></td></tr></table></figure>

<p>可通过以下命令查看是否设置成功。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/resolv.conf</span><br></pre></td></tr></table></figure>

<p>然后通过以下命令修改文件，将<code>enable=1</code>改为<code>enable=0</code>后按照vim的方法保存（按ESC后输入:wq并回车）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/yum/pluginconf.d/fastestmirror.conf</span><br></pre></td></tr></table></figure>

<p>然后执行以下命令以进行升级并安装带有IPV6的宝塔。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br><span class="line">curl -sSO http://download.bt.cn/install/new_install.sh &amp;&amp; bash new_install.sh</span><br></pre></td></tr></table></figure>

<p>安装完成后输入<code>bt</code>进入管理界面，执行8修改端口为8080，执行5和6修改用户名和密码。退出管理脚本后执行以下命令以取消登录面板安全保护。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -f /www/server/panel/data/admin_path.pl</span><br></pre></td></tr></table></figure>

<p>为访问宝塔面板，需要进行域名解析。进入Cloudflare的后台，在<code>DNS </code>页选择一个域名后添加一条记录，内容如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">类型 / AAAA</span><br><span class="line">名称 / 二级域名，可任意</span><br><span class="line">内容 / IPV6地址</span><br><span class="line">代理状态 / 已代理</span><br><span class="line"></span><br><span class="line">// 若上一条记录无法生效，则使用以下配置</span><br><span class="line">类型 / CNAME</span><br><span class="line">名称 / 二级域名，可任意</span><br><span class="line">内容 / 域名，即Server name</span><br><span class="line">代理状态 / 已代理</span><br></pre></td></tr></table></figure>

<p>然后在<code>SSL/TLS</code>页修改模式为<code>Full (Strict)</code>，在<code>Firewall</code>页将<code>Security Level</code>改为<code>Essentially Off</code>。</p>
<h4 id="宝塔配置"><a href="#宝塔配置" class="headerlink" title="宝塔配置"></a>宝塔配置</h4><p>完成添加后通过以下链接访问宝塔面板，输入改好的用户名和密码即可登录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[二级域名].[主域名]:8080</span><br></pre></td></tr></table></figure>

<p>登录后安装推荐的LNMP，安装完成后点击左侧的<code>软件商店</code>，分类选择<code>一键部署</code>，选择<code>博客</code>类型下的<code>WordPress</code>。域名填写登录宝塔面板的域名，注意不包括端口号，然后提交。</p>
<p>复制弹出窗口中的数据库账号资料，然后点击访问站点下的链接进行部署，其中相关信息需要填写刚才复制下来的内容。点击安装并等待完成即可。</p>
<p>部署完成后回到宝塔面板，点击左侧的<code>网站</code>，可以看到刚才部署的WordPress博客。点击<code>设置</code>，在<code>SSL</code>下选择<code>Let&#39;s Encrypt</code>，勾选域名并安装SSL证书。完成后可访问博客，查看能否正常运行。</p>
<h4 id="安装V2Ray"><a href="#安装V2Ray" class="headerlink" title="安装V2Ray"></a>安装V2Ray</h4><p>在完成网站搭建后即可开始安装V2Ray。通过以下命令使用一键脚本安装即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -s -L https://git.io/v2ray.sh)</span><br></pre></td></tr></table></figure>

<p>安装完成后利用宝塔面板的文件功能打开etc&#x2F;v2ray&#x2F;config.json，用以下配置替换。其中clients-id为自己生成的UUID。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;inbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;port&quot;: 10000, // 可任意</span><br><span class="line">      &quot;listen&quot;:&quot;127.0.0.1&quot;,</span><br><span class="line">      &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;clients&quot;: [</span><br><span class="line">          &#123;</span><br><span class="line">          &quot;id&quot;: &quot;8195adc7-221d-4390-a9b2-d7642e44e46d&quot;, // 见下面说明</span><br><span class="line">          &quot;level&quot;: 1,</span><br><span class="line">          &quot;alterId&quot;: 64</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;streamSettings&quot;: &#123;</span><br><span class="line">        &quot;network&quot;: &quot;ws&quot;,</span><br><span class="line">        &quot;wsSettings&quot;: &#123;</span><br><span class="line">        &quot;path&quot;: &quot;/hello&quot; // 可任意</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;outbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;protocol&quot;: &quot;freedom&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>完成后回到宝塔面板，点击<code>网站</code>-<code>设置</code>-<code>配置文件</code>，在最后一个<code>&#125;</code>前加入以下代码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">location /hello &#123; // 与上述配置文件中path下的目录一致</span><br><span class="line">        proxy_redirect off;</span><br><span class="line">        proxy_pass http://127.0.0.1:10000; // 端口与上述配置文件中的port一致</span><br><span class="line">        proxy_http_version 1.1;</span><br><span class="line">        proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">        proxy_set_header Connection &quot;upgrade&quot;;</span><br><span class="line">        proxy_set_header Host $http_host;</span><br><span class="line">        # Show realip in v2ray access.log</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>然后输入以下命令使V2Ray和nginx开机自启，并重启V2Ray使配置生效。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable v2ray nginx</span><br><span class="line">systemctl restart v2ray</span><br></pre></td></tr></table></figure>

<p>然后需要在宝塔打开端口。点击<code>安全</code>，添加上述所使用的端口为放行端口，此处为10000。添加完成后服务端配置即完成，客户端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">地址 / 访问WordPress的地址</span><br><span class="line">端口 / 443</span><br><span class="line">用户ID / 配置文件的clients-id</span><br><span class="line">额外ID / 64</span><br><span class="line">传输协议 / ws</span><br><span class="line">路径 / 配置文件的streamSettings-path</span><br><span class="line">TLS / 打开，允许不安全</span><br></pre></td></tr></table></figure>

<p>注意，安装完成后千万不要运行bbrplus加速脚本，否则将导致服务器无法连接。</p>
<h2 id="Okteto"><a href="#Okteto" class="headerlink" title="Okteto"></a><del>Okteto</del></h2><p>现Okteto政策已不允许将云用于搭建代理。</p>
<h3 id="失效教程"><a href="#失效教程" class="headerlink" title="失效教程"></a>失效教程</h3><details>
<summary></summary>

<p>打开以下网页并用Github登录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cloud.okteto.com</span><br></pre></td></tr></table></figure>

<p>需在本机安装Okteto工具以完成部署。对于MacOS，在终端运行以下命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install okteto</span><br></pre></td></tr></table></figure>

<p>对于Windows，下载以下两个文件并放到<code>C:\Windows\System32</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://downloads.okteto.com/cli/okteto.exe</span><br><span class="line">https://storage.googleapis.com/kubernetes-release/release/v1.18.0/bin/windows/amd64/kubectl.exe</span><br></pre></td></tr></table></figure>

<p>其它平台可查看以下链接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://okteto.com/docs/getting-started/index.html</span><br><span class="line">https://kubernetes.io/docs/tasks/tools/install-kubectl</span><br></pre></td></tr></table></figure>

<p>macOS下进入终端，Windows下管理员身份运行cmd，执行以下命令。如果无法登录，则更换系统环境。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">okteto login</span><br><span class="line">okteto namespace</span><br></pre></td></tr></table></figure>

<p>新建文本文件，名称为<code>v2ray.yml</code>，内容如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: v2-app</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: v2-app</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: v2-app</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - image: gingko/v2ray-nginx-websocket</span><br><span class="line">        name: v2-app</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: v2-app</span><br><span class="line">  annotations:</span><br><span class="line">    dev.okteto.com/auto-ingress: &quot;true&quot;</span><br><span class="line">spec:</span><br><span class="line">  type: ClusterIP  </span><br><span class="line">  ports:</span><br><span class="line">  - name: &quot;http-port-tcp&quot;</span><br><span class="line">    port: 8080</span><br><span class="line">  selector:</span><br><span class="line">    app: v2-app</span><br></pre></td></tr></table></figure>

<p>保存后执行以下命令以部署。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f [yml文件路径]</span><br></pre></td></tr></table></figure>

<p>在客户端添加以下配置即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">地址 / Endpoints的地址</span><br><span class="line">端口 / 443</span><br><span class="line">用户ID / f3c9cb27-746f-4e41-acf2-820bd3002676</span><br><span class="line">传输协议 / ws</span><br><span class="line">路径 / /fuckgfw_letscrossgfw</span><br><span class="line">TLS / 打开，允许不安全</span><br><span class="line">额外ID / 100</span><br></pre></td></tr></table></figure>
</details>

<h3 id="失效教程（旧版）"><a href="#失效教程（旧版）" class="headerlink" title="失效教程（旧版）"></a>失效教程（旧版）</h3><details>
<summary></summary>

<p>打开以下仓库并fork到自己的Github上。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/byxiaopeng/okteto-reboot</span><br></pre></td></tr></table></figure>

<p>在自己Fork的项目下点击<code>Settings</code>-<code>Secrets</code>，建立以下Secret。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">名称 / APITOKEN</span><br><span class="line">内容 / 在Okteto控制台点击Settings，复制API Token到此</span><br><span class="line"></span><br><span class="line">名称 / NAMESPACE</span><br><span class="line">内容 / 控制台左上角的标注</span><br></pre></td></tr></table></figure>

<p>回到控制台，点击<code>Deploy</code>，选择<code>Deploy from Git Repository</code>，仓库地址为刚才Fork的仓库，进行部署。</p>
<p>部署完成后，在客户端进行以下配置即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">地址 / Endpoints的地址</span><br><span class="line">端口 / 443</span><br><span class="line">用户ID / ad806487-2d26-4636-98b6-ab85cc8521f7</span><br><span class="line">传输协议 / ws</span><br><span class="line">路径 / /ws</span><br><span class="line">TLS / 打开，允许不安全</span><br></pre></td></tr></table></figure>
</details>

<h2 id="Kubesail"><a href="#Kubesail" class="headerlink" title="Kubesail"></a><del>Kubesail</del></h2><p>现在需要自行提供服务器。</p>
<h3 id="失效教程-1"><a href="#失效教程-1" class="headerlink" title="失效教程"></a>失效教程</h3><details>
<summary></summary>

<p>打开以下链接并完成注册。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://kubesail.com</span><br></pre></td></tr></table></figure>

<p>打开以下链接，Fork一份到自己的Github。然后在Kubesail后台点击<code>Repos</code>，确认已经连接到自己的Github账号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/bclswl0827/v2ray-openshift</span><br></pre></td></tr></table></figure>

<p>打开以下链接，Fork一份后点击左侧的<code>Templates</code>，进入刚才fork的项目，点击<code>Settings</code>，将<code>Container Image</code>的路径更改为<code>[Github用户名]/v2ray-openshift</code>。点击<code>Launch Template</code>开始部署。点击<code>Status</code>，看到V2Ray在运行时则部署成功。</p>
<p>若部署失败，则点击左侧的<code>Resources</code>，将<code>Apps</code>下项目的<code>Settings</code>-<code>Container Image</code>更改回<code>bclswl0827/v2ray-openshift</code>，保存。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://kubesail.com/template/bclswl0827/v2ray</span><br></pre></td></tr></table></figure>

<p>部署成功后需要将项目暴露在域名下。点击<code>Domains</code>，添加一个已经在CloudFlare部署好的网址，注意不要保留二级域名和其它路径。系统将会要求添加一个TXT记录完成验证，在CloudFlare后台添加即可，名称填<code>@</code>或者<code>root</code>。完成验证后按照提示添加一个CNAME记录，名称填<code>@</code>或者<code>root</code>，内容填系统所给出的网址，类型选择<code>DNS Only</code>，保存。</p>
<p>完成网址部署后返回刚才的项目，点击<code>Network</code>-<code>Ingress</code>，<code>Domain</code>选择刚才新建的域名，<code>subdomain</code>留空，保存。</p>
<p>至此已将项目暴露到网页上，在客户端添加相关配置即可，具体如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">地址 / 绑定的域名，注意没有二级域名和其它路径</span><br><span class="line">端口 / 443</span><br><span class="line">用户ID / 在项目中点击Edit YAML，在clients-id下</span><br><span class="line">AlterID / 64</span><br><span class="line">传输方式 / ws</span><br><span class="line">路径 / /ws</span><br><span class="line">TLS / 打开，且允许不安全</span><br></pre></td></tr></table></figure>
</details>

<h2 id="IBM-Cloud"><a href="#IBM-Cloud" class="headerlink" title="IBM Cloud"></a><del>IBM Cloud</del></h2><p>免费30天，免费期后会自动注销账号。</p>
<h3 id="失效教程-2"><a href="#失效教程-2" class="headerlink" title="失效教程"></a>失效教程</h3><details>
<summary></summary>

<p>打开以下链接进行注册即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cloud.ibm.com/</span><br></pre></td></tr></table></figure>

<p>进入后台并点击<code>创建资源</code>，创建一个Cloud Foundray下的公共应用程序。区域选择达拉斯，套餐选择256MB，配置资源选择Go，名称填ibmyes，完成创建。</p>
<p>创建完成后进入项目并点击右上角的终端符号以进入终端，注意切换地区为Dallas。然后运行以下脚本进行安装即可。安装完成后用分享链接即可导入配置到客户端。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O install.sh https://raw.githubusercontent.com/CCChieh/IBMYes/master/install.sh &amp;&amp; chmod +x install.sh  &amp;&amp; ./install.sh</span><br></pre></td></tr></table></figure>

<p>由于IBM Cloud十天不操作就会关机，所以需要十天重启一次。在IBM Cloud终端输入以下命令以获取相关参数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ibmcloud login</span><br><span class="line">ibmcloud resource groups</span><br></pre></td></tr></table></figure>

<p>其中Region中显示的地区需转换为区域编号，即<code>REGION_NUM</code>，对应关系如下。而第二个命令执行后ID一栏为资源组id，即<code>RESOURSE_ID</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1 / au-syd</span><br><span class="line">2 / in-che</span><br><span class="line">3 / jp-tok</span><br><span class="line">4 / kr-seo</span><br><span class="line">5 / eu-de</span><br><span class="line">6 / eu-gb</span><br><span class="line">7 / us-south</span><br><span class="line">8 / us-east</span><br></pre></td></tr></table></figure>

<p>登录Github并Fork以下项目。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/CCChieh/IBMYes</span><br></pre></td></tr></table></figure>

<p>在自己Fork的项目下点击<code>Settings</code>-<code>Secrets</code>，建立以下四个Secret。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">名称 / IBM_ACCOUNT</span><br><span class="line">内容 / 第一行账号，第二行密码</span><br><span class="line"></span><br><span class="line">名称 / IBM_APP_NAME</span><br><span class="line">内容 / ibmyes</span><br><span class="line"></span><br><span class="line">名称 / REGION_NUM</span><br><span class="line">内容 / 前面记下的区域编号</span><br><span class="line"></span><br><span class="line">名称 / RESOURSE_ID</span><br><span class="line">内容 / 前面记下的资源组id</span><br></pre></td></tr></table></figure>

<p>保存后点击上方Actions，应当看到IBM Cloud Auto Restart在执行。如果没有此Action，到自己仓库的&#x2F;.github&#x2F;workflows&#x2F;ibm.yml，随便编辑后点击<code>Start commit</code>即可看到。</p>
</details>

<h1 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h1><h2 id="连接到服务器"><a href="#连接到服务器" class="headerlink" title="连接到服务器"></a>连接到服务器</h2><h3 id="V2Ray-1"><a href="#V2Ray-1" class="headerlink" title="V2Ray"></a>V2Ray</h3><h4 id="Windows-XP以上"><a href="#Windows-XP以上" class="headerlink" title="Windows XP以上"></a>Windows XP以上</h4><h5 id="V2RayN"><a href="#V2RayN" class="headerlink" title="V2RayN"></a>V2RayN</h5><p>下载V2RayN-Core.zip，解压并打开<code>v2rayN.exe</code>。点击服务器，选择扫描屏幕上的二维码，客户端会自动扫描刚才生成的二维码并添加配置信息。如果无法生成二维码，则点击添加Vmess服务器，手动输入刚才保存的配置信息。</p>
<p>右键点击新增的服务器，选择设为活动服务器。然后在V2RayN的托盘图标点击右键，勾选启用http代理，并在http代理模式中选择PAC模式即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/2dust/v2rayN/releases/</span><br></pre></td></tr></table></figure>

<h4 id="Windows-XP"><a href="#Windows-XP" class="headerlink" title="Windows XP"></a>Windows XP</h4><h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><p>从以下链接下载Alvin9999包含V2Ray作为翻墙工具的Chrome翻墙浏览器包，此处为AllNew全新版。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Alvin9999/new-pac/wiki/%E4%BD%8E%E5%86%85%E6%A0%B8%E7%89%88</span><br></pre></td></tr></table></figure>

<p>该包中V2Ray和goflyway均可用。对于goflyway，双击打开后可见本地代理，在浏览器中填写相应地址即可。</p>
<p>此处以V2Ray包进行说明。提取压缩包中的V2Ray文件夹，并修改里面的config.json为如下内容。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;log&quot;: &#123;</span><br><span class="line">    &quot;access&quot;: &quot;&quot;,</span><br><span class="line">    &quot;error&quot;: &quot;&quot;,</span><br><span class="line">    &quot;loglevel&quot;: &quot;warning&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;inbound&quot;: &#123;</span><br><span class="line">    &quot;port&quot;: 1080,</span><br><span class="line">    &quot;listen&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line"></span><br><span class="line">// procotol为V2Ray所映射代理的协议，默认为socks（socks5），由于XP原生不支持socks5，故改为http</span><br><span class="line">    &quot;protocol&quot;: &quot;http&quot;,</span><br><span class="line">    &quot;domainOverride&quot;: [</span><br><span class="line">      &quot;tls&quot;,</span><br><span class="line">      &quot;http&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">      &quot;auth&quot;: &quot;noauth&quot;,</span><br><span class="line">      &quot;udp&quot;: true,</span><br><span class="line">      &quot;ip&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">      &quot;clients&quot;: null</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;streamSettings&quot;: null</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;outbound&quot;: &#123;</span><br><span class="line">    &quot;tag&quot;: &quot;agentout&quot;,</span><br><span class="line">    &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">      &quot;vnext&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">// 服务器地址及端口，需修改为自己的服务器IP或域名</span><br><span class="line">          &quot;address&quot;: &quot;server&quot;, </span><br><span class="line">          &quot;port&quot;: 10086,  </span><br><span class="line"></span><br><span class="line">// 此处配置应与服务器配置的信息一致</span><br><span class="line">          &quot;users&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;id&quot;: &quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;, </span><br><span class="line">              &quot;alterId&quot;: 0,</span><br><span class="line">              &quot;email&quot;: &quot;t@t.tt&quot;,</span><br><span class="line">              &quot;security&quot;: &quot;aes-128-gcm&quot;</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;servers&quot;: null</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;streamSettings&quot;: &#123;</span><br><span class="line">      &quot;network&quot;: &quot;tcp&quot;,</span><br><span class="line">      &quot;security&quot;: &quot;&quot;,</span><br><span class="line">      &quot;tlsSettings&quot;: null,</span><br><span class="line">      &quot;tcpSettings&quot;: null,</span><br><span class="line">      &quot;kcpSettings&quot;: null,</span><br><span class="line">      &quot;wsSettings&quot;: null,</span><br><span class="line">      &quot;httpSettings&quot;: null</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;mux&quot;: &#123;</span><br><span class="line">      &quot;enabled&quot;: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;inboundDetour&quot;: null,</span><br><span class="line">  &quot;outboundDetour&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;protocol&quot;: &quot;freedom&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;response&quot;: null</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;tag&quot;: &quot;direct&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;protocol&quot;: &quot;blackhole&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;response&quot;: &#123;</span><br><span class="line">          &quot;type&quot;: &quot;http&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;tag&quot;: &quot;blockout&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;dns&quot;: &#123;</span><br><span class="line">    &quot;servers&quot;: [</span><br><span class="line">      &quot;8.8.8.8&quot;,</span><br><span class="line">      &quot;8.8.4.4&quot;,</span><br><span class="line">      &quot;localhost&quot;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;routing&quot;: &#123;</span><br><span class="line">    &quot;strategy&quot;: &quot;rules&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">      &quot;domainStrategy&quot;: &quot;IPIfNonMatch&quot;,</span><br><span class="line">      &quot;rules&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">          &quot;port&quot;: null,</span><br><span class="line">          &quot;outboundTag&quot;: &quot;direct&quot;,</span><br><span class="line">          &quot;ip&quot;: [</span><br><span class="line">            &quot;0.0.0.0/8&quot;,</span><br><span class="line">            &quot;10.0.0.0/8&quot;,</span><br><span class="line">            &quot;100.64.0.0/10&quot;,</span><br><span class="line">            &quot;127.0.0.0/8&quot;,</span><br><span class="line">            &quot;169.254.0.0/16&quot;,</span><br><span class="line">            &quot;172.16.0.0/12&quot;,</span><br><span class="line">            &quot;192.0.0.0/24&quot;,</span><br><span class="line">            &quot;192.0.2.0/24&quot;,</span><br><span class="line">            &quot;192.168.0.0/16&quot;,</span><br><span class="line">            &quot;198.18.0.0/15&quot;,</span><br><span class="line">            &quot;198.51.100.0/24&quot;,</span><br><span class="line">            &quot;203.0.113.0/24&quot;,</span><br><span class="line">            &quot;::1/128&quot;,</span><br><span class="line">            &quot;fc00::/7&quot;,</span><br><span class="line">            &quot;fe80::/10&quot;</span><br><span class="line">          ],</span><br><span class="line">          &quot;domain&quot;: null</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>精简文件夹，只保留以下文件。双击v2ray.exe即跳出V2Ray窗口，示意V2Ray已经运行。若运行wv2ray.exe，则不显示窗口，在后台静默运行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">├── doc</span><br><span class="line">│   └── ...</span><br><span class="line">├── config.json</span><br><span class="line">├── geoip.dat</span><br><span class="line">├── geosite.dat</span><br><span class="line">├── vpoint_socks_vmess.json</span><br><span class="line">├── vpoint_vmess_freedom.json</span><br><span class="line">├── v2ctl.exe</span><br><span class="line">├── v2ctl.exe.sig</span><br><span class="line">├── v2ray.exe</span><br><span class="line">├── w2vray.exe</span><br><span class="line">└── w2ray.exe.sig</span><br></pre></td></tr></table></figure>

<h5 id="设置代理"><a href="#设置代理" class="headerlink" title="设置代理"></a>设置代理</h5><h6 id="软件代理"><a href="#软件代理" class="headerlink" title="软件代理"></a>软件代理</h6><p>同理，这时V2Ray已经把服务器映射到本地代理127.0.0.1:1080，注意类型为http。XP中可以配置IE代理，也可在Chrome浏览器中使用SwitchOmega配置，配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">类型 / http</span><br><span class="line">服务器地址 / 127.0.0.1</span><br><span class="line">端口 / 1080</span><br></pre></td></tr></table></figure>

<h6 id="全局代理"><a href="#全局代理" class="headerlink" title="全局代理"></a>全局代理</h6><p>若需要实现全局翻墙，则需要用到翻墙工具Proxifier。</p>
<p>安装并打开软件，点击<code>Profile</code>菜单下的<code>Proxy Servers</code>，添加代理，配置同上。然后点击<code>Proxification Rules</code>修改翻墙规则，其中v2ray.exe、wv2ray.exe和翻墙服务器的地址（34.xx.xx.xx）需要使用direct模式，否则将会出现循环代理的情况。配置完成后点击<code>Name Resolution</code>，勾选<code>Resolve hostnames through proxy</code>以防止DNS污染，保存即可。使用时打开v2ray.exe或wv2ray.exe，并打开Proxifier的开关即可。</p>
<p>为启动方便，可通过以下bat程序一键打开和关闭全局翻墙。打开记事本，复制代码并保存为相应文件后执行即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 保存为startglobal.bat</span><br><span class="line">start wv2ray.exe</span><br><span class="line">stop Proxifier.exe</span><br><span class="line"></span><br><span class="line">// 保存为stopglobal.bat</span><br><span class="line">taskkill /f /im Proxifier.exe</span><br><span class="line">taskkill /f /im wv2ray.exe</span><br></pre></td></tr></table></figure>

<p>由于Proxifier支持socks5协议，而SwitchOmega在XP下并不支持，因此若V2Ray选用socks5协议，只能实现全局翻墙而不能实现单一浏览器翻墙。</p>
<h4 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h4><h5 id="V2RayX"><a href="#V2RayX" class="headerlink" title="V2RayX"></a>V2RayX</h5><p>与Windows客户端的配置类似。打开APP后点击菜单中的Configure，输入刚才保存的服务器配置信息。然后在Servers中选择刚才新建的服务器，确保V2Ray code处于load状态，并勾选PAC Mode，配置完成。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/insisttech/v2rayX-copy/releases</span><br></pre></td></tr></table></figure>

<h5 id="V2RayU"><a href="#V2RayU" class="headerlink" title="V2RayU"></a>V2RayU</h5><p>与V2RayX类似，但提供订阅功能。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/yanue/V2rayU/releases/</span><br></pre></td></tr></table></figure>

<h4 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h4><h5 id="V2RayNG"><a href="#V2RayNG" class="headerlink" title="V2RayNG"></a>V2RayNG</h5><p>下载app-universal-release.apk，安装到手机并打开。点击上方+号并选择从二维码导入配置，扫描从服务端获取的二维码即可。也可点击手动输入进行导入。</p>
<p>然后点击左上角的菜单，选择设置，在路由模式中选择<code>绕过中国大陆</code>。回到主页面，点击右下角的启动按钮，允许连接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/2dust/v2rayNG/releases</span><br></pre></td></tr></table></figure>

<h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><p>Linux没有图形客户端，故须按照以下配置。</p>
<p>下载<code>v2ray-linux-64.zip</code>，解压后放于<code>/tmp/v2ray</code>，并改名为<code>v2ray.zip</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/v2ray/v2ray-core/releases</span><br></pre></td></tr></table></figure>

<p>打开终端并输入命令，下载好的脚本会放于终端工作路径。若无法下载，可使用文末附有的代码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://install.direct/go.sh</span><br></pre></td></tr></table></figure>

<p>用文本编辑器打开下载好的go.sh，找到<code>downloadV2Ray()</code>函数，删除函数内所有代码并<code>return 0</code>，如下所示。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">downloadV2Ray()&#123;</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改完成后在终端输入命令，等待V2Ray安装完成。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./go.sh</span><br></pre></td></tr></table></figure>

<p>安装完成后输入以下命令以打开文件管理器。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nautilus</span><br></pre></td></tr></table></figure>

<p>转到<code>/etc/v2ray/config.json</code>，打开并将内容用下面的代码覆盖。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;log&quot;: &#123;</span><br><span class="line">    &quot;access&quot;: &quot;&quot;,</span><br><span class="line">    &quot;error&quot;: &quot;&quot;,</span><br><span class="line">    &quot;loglevel&quot;: &quot;warning&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;inbound&quot;: &#123;</span><br><span class="line">    &quot;port&quot;: 1080,</span><br><span class="line">    &quot;listen&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line"></span><br><span class="line">// SOCKS 地址及代理端口，在浏览器中需配置代理并指向这个端口，此处使用127.0.0.1:1080</span><br><span class="line">    &quot;protocol&quot;: &quot;socks&quot;,</span><br><span class="line">    &quot;domainOverride&quot;: [</span><br><span class="line">      &quot;tls&quot;,</span><br><span class="line">      &quot;http&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">      &quot;auth&quot;: &quot;noauth&quot;,</span><br><span class="line">      &quot;udp&quot;: true,</span><br><span class="line">      &quot;ip&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">      &quot;clients&quot;: null</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;streamSettings&quot;: null</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;outbound&quot;: &#123;</span><br><span class="line">    &quot;tag&quot;: &quot;agentout&quot;,</span><br><span class="line">    &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">      &quot;vnext&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">        </span><br><span class="line">// 服务器地址及端口，需修改为自己的服务器 IP 或域名</span><br><span class="line">          &quot;address&quot;: &quot;server&quot;, </span><br><span class="line">          &quot;port&quot;: 10086,  </span><br><span class="line"></span><br><span class="line">// 此处配置应与服务器配置的信息一致</span><br><span class="line">          &quot;users&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;id&quot;: &quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;, </span><br><span class="line">              &quot;alterId&quot;: 0,</span><br><span class="line">              &quot;email&quot;: &quot;t@t.tt&quot;,</span><br><span class="line">              &quot;security&quot;: &quot;aes-128-gcm&quot;</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;servers&quot;: null</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;streamSettings&quot;: &#123;</span><br><span class="line">      &quot;network&quot;: &quot;tcp&quot;,</span><br><span class="line">      &quot;security&quot;: &quot;&quot;,</span><br><span class="line">      &quot;tlsSettings&quot;: null,</span><br><span class="line">      &quot;tcpSettings&quot;: null,</span><br><span class="line">      &quot;kcpSettings&quot;: null,</span><br><span class="line">      &quot;wsSettings&quot;: null,</span><br><span class="line">      &quot;httpSettings&quot;: null</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;mux&quot;: &#123;</span><br><span class="line">      &quot;enabled&quot;: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;inboundDetour&quot;: null,</span><br><span class="line">  &quot;outboundDetour&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;protocol&quot;: &quot;freedom&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;response&quot;: null</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;tag&quot;: &quot;direct&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;protocol&quot;: &quot;blackhole&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;response&quot;: &#123;</span><br><span class="line">          &quot;type&quot;: &quot;http&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;tag&quot;: &quot;blockout&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;dns&quot;: &#123;</span><br><span class="line">    &quot;servers&quot;: [</span><br><span class="line">      &quot;8.8.8.8&quot;,</span><br><span class="line">      &quot;8.8.4.4&quot;,</span><br><span class="line">      &quot;localhost&quot;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;routing&quot;: &#123;</span><br><span class="line">    &quot;strategy&quot;: &quot;rules&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">      &quot;domainStrategy&quot;: &quot;IPIfNonMatch&quot;,</span><br><span class="line">      &quot;rules&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">          &quot;port&quot;: null,</span><br><span class="line">          &quot;outboundTag&quot;: &quot;direct&quot;,</span><br><span class="line">          &quot;ip&quot;: [</span><br><span class="line">            &quot;0.0.0.0/8&quot;,</span><br><span class="line">            &quot;10.0.0.0/8&quot;,</span><br><span class="line">            &quot;100.64.0.0/10&quot;,</span><br><span class="line">            &quot;127.0.0.0/8&quot;,</span><br><span class="line">            &quot;169.254.0.0/16&quot;,</span><br><span class="line">            &quot;172.16.0.0/12&quot;,</span><br><span class="line">            &quot;192.0.0.0/24&quot;,</span><br><span class="line">            &quot;192.0.2.0/24&quot;,</span><br><span class="line">            &quot;192.168.0.0/16&quot;,</span><br><span class="line">            &quot;198.18.0.0/15&quot;,</span><br><span class="line">            &quot;198.51.100.0/24&quot;,</span><br><span class="line">            &quot;203.0.113.0/24&quot;,</span><br><span class="line">            &quot;::1/128&quot;,</span><br><span class="line">            &quot;fc00::/7&quot;,</span><br><span class="line">            &quot;fe80::/10&quot;</span><br><span class="line">          ],</span><br><span class="line">          &quot;domain&quot;: null</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>保存后在终端<code>Ctrl+C</code>并输入下面的命令，使V2Ray开机自启，并启动V2Ray查看状态。如果显示绿色，证明V2Ray已成功运行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable v2ray</span><br><span class="line">sudo systemctl start v2ray</span><br><span class="line">sudo systemctl status v2ray</span><br></pre></td></tr></table></figure>

<p>这时V2Ray已经把服务器映射到本地代理127.0.0.1:1080，按照配置代理的方式即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">类型 / Socks5</span><br><span class="line">服务器地址 / 127.0.0.1</span><br><span class="line">端口 / 1080</span><br></pre></td></tr></table></figure>

<h3 id="Shadowsocks-2"><a href="#Shadowsocks-2" class="headerlink" title="Shadowsocks"></a>Shadowsocks</h3><h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h4><h5 id="shadowsocks-windows"><a href="#shadowsocks-windows" class="headerlink" title="shadowsocks-windows"></a>shadowsocks-windows</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/shadowsocks/shadowsocks-windows/releases/</span><br></pre></td></tr></table></figure>

<p>obfs插件下载链接如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/shadowsocks/simple-obfs/releases</span><br></pre></td></tr></table></figure>

<p>将插件obfs-local与Shadowsocks.exe放于同一路径下即可。obfs可以直接在Shadowsocks的服务器编辑页面修改参数，示例如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obfs=http;obfs-host=www.bing.com</span><br></pre></td></tr></table></figure>

<h4 id="Mac-1"><a href="#Mac-1" class="headerlink" title="Mac"></a>Mac</h4><h5 id="ShadowsocksX-NG"><a href="#ShadowsocksX-NG" class="headerlink" title="ShadowsocksX-NG"></a>ShadowsocksX-NG</h5><p>内置obfs混淆。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/shadowsocks/ShadowsocksX-NG/releases/</span><br></pre></td></tr></table></figure>

<h4 id="Android-1"><a href="#Android-1" class="headerlink" title="Android"></a>Android</h4><p>可在Google Play上下载Shadowsocks应用，同时下载obfs插件Simple Obfuscation。</p>
<p>也可到以下链接下载。</p>
<h5 id="shadowsocks-android"><a href="#shadowsocks-android" class="headerlink" title="shadowsocks-android"></a>shadowsocks-android</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/shadowsocks/shadowsocks-android/releases/</span><br></pre></td></tr></table></figure>

<h4 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h4><h5 id="Shadowsocks-3"><a href="#Shadowsocks-3" class="headerlink" title="Shadowsocks"></a>Shadowsocks</h5><p>越狱设备可安装Shadowsocks插件。自带Bigboss源有该插件。</p>
<h4 id="Linux-1"><a href="#Linux-1" class="headerlink" title="Linux"></a>Linux</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/shadowsocks/shadowsocks-qt5/</span><br></pre></td></tr></table></figure>

<h3 id="Trojan"><a href="#Trojan" class="headerlink" title="Trojan"></a>Trojan</h3><h4 id="Windows-1"><a href="#Windows-1" class="headerlink" title="Windows"></a>Windows</h4><h5 id="V2RayN-1"><a href="#V2RayN-1" class="headerlink" title="V2RayN"></a>V2RayN</h5><p>与V2Ray的Windows客户端相同。</p>
<h4 id="Android-2"><a href="#Android-2" class="headerlink" title="Android"></a>Android</h4><h5 id="igniter"><a href="#igniter" class="headerlink" title="igniter"></a>igniter</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/trojan-gfw/igniter/releases/</span><br></pre></td></tr></table></figure>


<h3 id="WireGuard-1"><a href="#WireGuard-1" class="headerlink" title="WireGuard"></a>WireGuard</h3><p>可使用TunSafe。注意该软件为全局代理软件。</p>
<p>打开以下链接并下载<code>Standalone TunSafe-TAP Installer 9.21.2</code>和<code>TunSafe 1.4 Standalone Zip for 64-bit systems</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://tunsafe.com/download</span><br></pre></td></tr></table></figure>

<p>下载完成后需要获取配置文件。打开软件，选择File-Browse in Explorer，打开配置文件并选择对应节点即可。</p>
<h3 id="iOS端说明"><a href="#iOS端说明" class="headerlink" title="iOS端说明"></a>iOS端说明</h3><p>未越狱iOS端没有各协议的官方客户端。常用的第三方客户端有Shadowrocket、Quantumult和Kitsunebi等，均需在美区App Store下载。</p>
<h4 id="Kitsunebi"><a href="#Kitsunebi" class="headerlink" title="Kitsunebi"></a>Kitsunebi</h4><p>支持V2Ray（WS&#x2F;TCP）、Shadowsocks。</p>
<p>打开Kitsunebi，选择服务器，点击右上方+号并选择扫二维码。然后把操作模式改到<code>Rule</code>，传出代理选择刚才添加的服务器。完成设置后，在状态页开启VPN开关即可。</p>
<h4 id="Shadowrocket"><a href="#Shadowrocket" class="headerlink" title="Shadowrocket"></a>Shadowrocket</h4><p>支持V2Ray（WS&#x2F;TCP）、Shadowsocks、Trojan。支持http和tls两种模式的obfs混淆。</p>
<h4 id="Quantumult"><a href="#Quantumult" class="headerlink" title="Quantumult"></a>Quantumult</h4><p>支持V2Ray（WS&#x2F;TCP）、Shadowsocks。</p>
<h3 id="全平台程序"><a href="#全平台程序" class="headerlink" title="全平台程序"></a>全平台程序</h3><h4 id="Clash"><a href="#Clash" class="headerlink" title="Clash"></a>Clash</h4><p>Clash是翻墙内核，可用于多个平台。各平台之间的配置文件通用。注意Clash不支持SSID Suspend。</p>
<h5 id="下载与启动"><a href="#下载与启动" class="headerlink" title="下载与启动"></a>下载与启动</h5><h6 id="Mac-2"><a href="#Mac-2" class="headerlink" title="Mac"></a>Mac</h6><p>可用ClashX和ClashX Pro。ClashX Pro相比ClashX增加了增强模式，可通过以下链接下载。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// ClashX</span><br><span class="line">https://github.com/yichengchen/clashX/releases/</span><br><span class="line"></span><br><span class="line">// ClashX Pro</span><br><span class="line">https://install.appcenter.ms/users/clashx/apps/clashx-pro/distribution_groups/public</span><br></pre></td></tr></table></figure>

<h6 id="Android-3"><a href="#Android-3" class="headerlink" title="Android"></a>Android</h6><p>可用Clash for Android。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Kr328/ClashForAndroid</span><br></pre></td></tr></table></figure>

<h6 id="Windows-x2F-Linux"><a href="#Windows-x2F-Linux" class="headerlink" title="Windows&#x2F;Linux"></a>Windows&#x2F;Linux</h6><p>可用Clash for Windows。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Fndroid/clash_for_windows_pkg/</span><br></pre></td></tr></table></figure>

<p>Linux需要下载带linux后缀的包。然后打开终端，切换到下载路径，运行以下命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -zx [包名] -C /opt</span><br><span class="line">cd /opt</span><br><span class="line">sudo mv &#x27;[解压所得文件夹名]&#x27; clash</span><br><span class="line">cd clash</span><br><span class="line"></span><br><span class="line"># 该命令运行Clash</span><br><span class="line">./cfw</span><br></pre></td></tr></table></figure>

<h5 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h5><p>以下以Mac端的ClashX为例。</p>
<p>ClashX通过配置文件配置订阅、策略组和分流。打开后点击配置-托管配置-管理，添加远程配置文件，即可远程下载。</p>
<p>将配置文件保存为yaml后，打开ClashX的配置-打开本地配置文件夹，复制配置文件到此目录，然后在ClashX的配置中选择文件。</p>
<p>完成配置导入后，将出站模式选为规则判断，并勾选<code>设置为系统代理</code>即可使用。</p>
<p>配置文件中的通配符含义如下。可用<code>&#39; &#39;</code>包住整个通配符语句，以避免语法冲突。</p>
<table>
<thead>
<tr>
<th>通配符</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>仅匹配第一层</td>
<td>*.ipv6.microsoft.com可匹配win1901.ipv6.microsoft.com，不可匹配foo.win1901.ipv6.microsoft.com和ipv6.microsoft.com</td>
</tr>
<tr>
<td>.</td>
<td>匹配多层（不包括零）</td>
<td>.ipv6.microsoft.com可匹配win1901.ipv6.microsoft.com和foo.win1901.ipv6.microsoft.com，不可匹配ipv6.microsoft.com</td>
</tr>
<tr>
<td>+</td>
<td>匹配多层（包括零）</td>
<td>+.ipv6.microsoft.com可匹配win1901.ipv6.microsoft.com，和foo.win1901.ipv6.microsoft.com，以及ipv6.microsoft.com</td>
</tr>
</tbody></table>
<h6 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># HTTP(S)代理端口</span><br><span class="line">port: 7890</span><br><span class="line"></span><br><span class="line"># SOCKS5代理端口</span><br><span class="line">socks-port: 7891</span><br><span class="line"></span><br><span class="line"># Linux和macOS的redir代理端口</span><br><span class="line"># redir-port: 7892</span><br><span class="line"></span><br><span class="line"># Linux的redir代理端口</span><br><span class="line"># tproxy-port: 7893</span><br><span class="line"></span><br><span class="line"># HTTP(S)与SOCKS5混合代理端口</span><br><span class="line"># mixed-port: 7890</span><br></pre></td></tr></table></figure>

<h6 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h6><p>可为Rule（规则）、Global（全局代理）、Direct（全局直连）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mode: Rule</span><br></pre></td></tr></table></figure>

<h6 id="日志输出级别"><a href="#日志输出级别" class="headerlink" title="日志输出级别"></a>日志输出级别</h6><p>默认级别silent，即不输出任何内容。可选择silent&#x2F;info&#x2F;warning&#x2F;error&#x2F;debug，共五个级别，级别越高表示日志输出量越大。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">log-level: silent</span><br></pre></td></tr></table></figure>

<h6 id="外部控制"><a href="#外部控制" class="headerlink" title="外部控制"></a>外部控制</h6><p>通过RESTful API实现外部网站控制Clash。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># clash的RESTful API</span><br><span class="line">external-controller: 127.0.0.1:9090</span><br><span class="line"></span><br><span class="line"># 将静态网页资源（如clash-dashboard）放置在一个目录中，clash将会服务于$&#123;API&#125;/ui</span><br><span class="line"># 参数应填写配置目录的相对路径或绝对路径</span><br><span class="line"># external-ui: folder</span><br><span class="line"></span><br><span class="line"># RESTful API的口令</span><br><span class="line"># secret: &quot;&quot;</span><br></pre></td></tr></table></figure>

<h6 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">interface-name: en0</span><br></pre></td></tr></table></figure>

<h6 id="实验性功能"><a href="#实验性功能" class="headerlink" title="实验性功能"></a>实验性功能</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">experimental:</span><br><span class="line">  ignore-resolve-fail: true # 忽略 DNS 解析失败，默认值为 true</span><br></pre></td></tr></table></figure>

<h6 id="DNS-1"><a href="#DNS-1" class="headerlink" title="DNS"></a>DNS</h6><p>当访问一个域名时，nameserver与fallback列表内的所有服务器并发请求，得到域名对应的IP地址。若解析结果中IP地址属于国外，则Clash将选择fallback列表内解析最快的结果，否则将选取nameserver列表内解析最快的结果。</p>
<p>注意，nameserver应尽量选择中国大陆的DNS，fallback应尽量选择无污染的国外DNS，且数量不应超过四个。</p>
<p>增强模式enhanced-mode可为redir-host或fake-ip。在redir-host模式下，当客户端发起DNS请求时，Clash将需要解析的域名发送到每一个上游DNS服务器，返回最快的一个结果。在fake-ip模式下，当客户端发起DNS请求时，Clash直接返回一个虚假的IP。</p>
<p>示例如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">dns:</span><br><span class="line">  enable: true</span><br><span class="line">  ipv6: false</span><br><span class="line"></span><br><span class="line"># listen: 0.0.0.0:53</span><br><span class="line"># enhanced-mode: redir-host</span><br><span class="line"></span><br><span class="line"># fake-ip-range: 198.18.0.1/16</span><br><span class="line"></span><br><span class="line"># fake-ip白名单列表</span><br><span class="line"># fake-ip-filter: </span><br><span class="line">#   - &#x27;*.lan&#x27;</span><br><span class="line">#   - localhost.ptlogin2.qq.com</span><br><span class="line"></span><br><span class="line">  nameserver:</span><br><span class="line">    - 1.2.4.8</span><br><span class="line">    - 114.114.114.114</span><br><span class="line">    - 223.5.5.5</span><br><span class="line">    - tls://13800000000.rubyfish.cn:853</span><br><span class="line">  # - https://13800000000.rubyfish.cn/</span><br><span class="line"></span><br><span class="line">  fallback: </span><br><span class="line">    - tls://13800000000.rubyfish.cn:853</span><br><span class="line">    - tls://1.0.0.1:853</span><br><span class="line">    - tls://dns.google:853</span><br><span class="line">  # - https://13800000000.rubyfish.cn/</span><br><span class="line">  # - https://cloudflare-dns.com/dns-query</span><br><span class="line">  # - https://dns.google/dns-query</span><br><span class="line"></span><br><span class="line">  fallback-filter:</span><br><span class="line">    geoip: true</span><br><span class="line">    ipcidr: # 在这个网段内的IP地址会被考虑为被污染的IP</span><br><span class="line">      - 240.0.0.0/4</span><br></pre></td></tr></table></figure>

<h6 id="Host"><a href="#Host" class="headerlink" title="Host"></a>Host</h6><p>指定Hosts条目，支持通配符，注意静态域名比通配域名具有更高的优先级。Hosts在fake-ip模式下不生效。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hosts:</span><br><span class="line">  &#x27;*.clash.dev&#x27;: 127.0.0.1</span><br><span class="line">  &#x27;alpha.clash.dev&#x27;: &#x27;::1&#x27;</span><br></pre></td></tr></table></figure>

<h6 id="添加节点"><a href="#添加节点" class="headerlink" title="添加节点"></a>添加节点</h6><p>订阅节点在配置文件中的proxies部分定义，格式如下。注意IPV6地址需要用<code>[]</code>框住。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line">proxies:</span><br><span class="line">  # Shadowsocks</span><br><span class="line">  # 支持的加密方式如下</span><br><span class="line">  # aes-128-gcm aes-192-gcm aes-256-gcm</span><br><span class="line">  # aes-128-cfb aes-192-cfb aes-256-cfb</span><br><span class="line">  # aes-128-ctr aes-192-ctr aes-256-ctr</span><br><span class="line">  # rc4-md5 chacha20-ietf xchacha20</span><br><span class="line">  # chacha20-ietf-poly1305 xchacha20-ietf-poly1305</span><br><span class="line">  - name: &quot;ss1&quot;</span><br><span class="line">    type: ss</span><br><span class="line">    server: server</span><br><span class="line">    port: 443</span><br><span class="line">    cipher: chacha20-ietf-poly1305</span><br><span class="line">    password: &quot;password&quot;</span><br><span class="line">    # udp: true</span><br><span class="line"></span><br><span class="line">  - name: &quot;ss2&quot;</span><br><span class="line">    type: ss</span><br><span class="line">    server: server</span><br><span class="line">    port: 443</span><br><span class="line">    cipher: chacha20-ietf-poly1305</span><br><span class="line">    password: &quot;password&quot;</span><br><span class="line">    plugin: obfs</span><br><span class="line">    plugin-opts:</span><br><span class="line">      mode: tls # or http</span><br><span class="line">      # host: bing.com</span><br><span class="line"></span><br><span class="line">  - name: &quot;ss3&quot;</span><br><span class="line">    type: ss</span><br><span class="line">    server: server</span><br><span class="line">    port: 443</span><br><span class="line">    cipher: chacha20-ietf-poly1305</span><br><span class="line">    password: &quot;password&quot;</span><br><span class="line">    plugin: v2ray-plugin</span><br><span class="line">    plugin-opts:</span><br><span class="line">      mode: websocket # no QUIC now</span><br><span class="line">      # tls: true # wss</span><br><span class="line">      # skip-cert-verify: true</span><br><span class="line">      # host: bing.com</span><br><span class="line">      # path: &quot;/&quot;</span><br><span class="line">      # mux: true</span><br><span class="line">      # headers:</span><br><span class="line">      #   custom: value</span><br><span class="line"></span><br><span class="line">  # Vmess</span><br><span class="line">  # 支持的加密方式如下</span><br><span class="line">  # auto aes-128-gcm chacha20-poly1305 none</span><br><span class="line">  - name: &quot;vmess&quot;</span><br><span class="line">    type: vmess</span><br><span class="line">    server: server</span><br><span class="line">    port: 443</span><br><span class="line">    uuid: uuid</span><br><span class="line">    alterId: 32</span><br><span class="line">    cipher: auto</span><br><span class="line">    # udp: true</span><br><span class="line">    # tls: true</span><br><span class="line">    # skip-cert-verify: true</span><br><span class="line">    # servername: example.com # priority over wss host</span><br><span class="line">    # network: ws</span><br><span class="line">    # ws-path: /path</span><br><span class="line">    # ws-headers:</span><br><span class="line">    #   Host: v2ray.com</span><br><span class="line"></span><br><span class="line">  - name: &quot;vmess-h2&quot;</span><br><span class="line">    type: vmess</span><br><span class="line">    server: server</span><br><span class="line">    port: 443</span><br><span class="line">    uuid: uuid</span><br><span class="line">    alterId: 32</span><br><span class="line">    cipher: auto</span><br><span class="line">    network: h2</span><br><span class="line">    tls: true</span><br><span class="line">    h2-opts:</span><br><span class="line">      host:</span><br><span class="line">        - http.example.com</span><br><span class="line">        - http-alt.example.com</span><br><span class="line">      path: /</span><br><span class="line">  </span><br><span class="line">  - name: &quot;vmess-http&quot;</span><br><span class="line">    type: vmess</span><br><span class="line">    server: server</span><br><span class="line">    port: 443</span><br><span class="line">    uuid: uuid</span><br><span class="line">    alterId: 32</span><br><span class="line">    cipher: auto</span><br><span class="line">    # udp: true</span><br><span class="line">    # network: http</span><br><span class="line">    # http-opts:</span><br><span class="line">    #   # method: &quot;GET&quot;</span><br><span class="line">    #   # path:</span><br><span class="line">    #   #   - &#x27;/&#x27;</span><br><span class="line">    #   #   - &#x27;/video&#x27;</span><br><span class="line">    #   # headers:</span><br><span class="line">    #   #   Connection:</span><br><span class="line">    #   #     - keep-alive</span><br><span class="line"></span><br><span class="line">  # Socks5</span><br><span class="line">  - name: &quot;socks&quot;</span><br><span class="line">    type: socks5</span><br><span class="line">    server: server</span><br><span class="line">    port: 443</span><br><span class="line">    # username: username</span><br><span class="line">    # password: password</span><br><span class="line">    # tls: true</span><br><span class="line">    # skip-cert-verify: true</span><br><span class="line">    # udp: true</span><br><span class="line"></span><br><span class="line">  # Http</span><br><span class="line">  - name: &quot;http&quot;</span><br><span class="line">    type: http</span><br><span class="line">    server: server</span><br><span class="line">    port: 443</span><br><span class="line">    # username: username</span><br><span class="line">    # password: password</span><br><span class="line">    # tls: true # https</span><br><span class="line">    # skip-cert-verify: true</span><br><span class="line">    # sni: custom.com</span><br><span class="line"></span><br><span class="line">  # Snell</span><br><span class="line">  - name: &quot;snell&quot;</span><br><span class="line">    type: snell</span><br><span class="line">    server: server</span><br><span class="line">    port: 44046</span><br><span class="line">    psk: yourpsk</span><br><span class="line">    # version: 2</span><br><span class="line">    # obfs-opts:</span><br><span class="line">      # mode: http # or tls</span><br><span class="line">      # host: bing.com</span><br><span class="line"></span><br><span class="line">  # Trojan</span><br><span class="line">  - name: &quot;trojan&quot;</span><br><span class="line">    type: trojan</span><br><span class="line">    server: server</span><br><span class="line">    port: 443</span><br><span class="line">    password: yourpsk</span><br><span class="line">    # udp: true</span><br><span class="line">    # sni: example.com # aka server name</span><br><span class="line">    # alpn:</span><br><span class="line">    #   - h2</span><br><span class="line">    #   - http/1.1</span><br><span class="line">    # skip-cert-verify: true</span><br><span class="line"></span><br><span class="line">  # ShadowsocksR</span><br><span class="line">  # 支持的加密方式与Shadowsocks完全一致</span><br><span class="line">  # 支持的obfs混淆如下</span><br><span class="line">  # plain http_simple http_post</span><br><span class="line">  # random_head tls1.2_ticket_auth tls1.2_ticket_fastauth</span><br><span class="line">  # 支持的加密协议如下</span><br><span class="line">  # origin auth_sha1_v4 auth_aes128_md5</span><br><span class="line">  # auth_aes128_sha1 auth_chain_a auth_chain_b  </span><br><span class="line">  - name: &quot;ssr&quot;</span><br><span class="line">    type: ssr</span><br><span class="line">    server: server</span><br><span class="line">    port: 443</span><br><span class="line">    cipher: chacha20-ietf</span><br><span class="line">    password: &quot;password&quot;</span><br><span class="line">    obfs: tls1.2_ticket_auth</span><br><span class="line">    protocol: auth_sha1_v4</span><br><span class="line">    # obfs-param: domain.tld</span><br><span class="line">    # protocol-param: &quot;#&quot;</span><br><span class="line">    # udp: true</span><br></pre></td></tr></table></figure>

<p>也可通过订阅链接转换的方式获取，具体见翻墙进阶部分。</p>
<h6 id="订阅节点"><a href="#订阅节点" class="headerlink" title="订阅节点"></a>订阅节点</h6><p>订阅节点在配置文件中的proxy-provider部分定义，参数如下。其中url对应的文件内容即为配置文件中的proxies部分，与上面一致。path为该文件下载到本地后的存放位置。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>type</td>
<td>http&#x2F;file，分别为远程链接和本地文件</td>
</tr>
<tr>
<td>path</td>
<td>文件保存路径，可以为绝对路径，.&#x2F;相当于Clash配置文件所在文件夹</td>
</tr>
<tr>
<td>url</td>
<td>类型为http时，填写的URL链接</td>
</tr>
<tr>
<td>interval</td>
<td>类型为http时，订阅自动更新周期</td>
</tr>
<tr>
<td>health-check</td>
<td>健康检查选项</td>
</tr>
</tbody></table>
<p>示例如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">proxy-providers:</span><br><span class="line">  provider:</span><br><span class="line">    type: http</span><br><span class="line">    url: https://example.com/example.yaml</span><br><span class="line">    interval: 3600</span><br><span class="line">    path: ./proxyset/provider.yaml</span><br><span class="line">    health-check:</span><br><span class="line">      enable: true</span><br><span class="line">      interval: 600</span><br><span class="line">      # lazy: true</span><br><span class="line">      url: http://www.gstatic.com/generate_204</span><br></pre></td></tr></table></figure>

<h6 id="策略组"><a href="#策略组" class="headerlink" title="策略组"></a>策略组</h6><p>策略组在配置文件中的proxy-groups部分定义。</p>
<p>若需要将订阅节点写到策略组中，则将订阅名称写到use一栏下。若需要将单个节点写到策略组中，则将节点名称写到proxies一栏下。</p>
<p>策略组类型如下。</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>select</td>
<td>手动选择</td>
</tr>
<tr>
<td>url-test</td>
<td>延迟测试</td>
</tr>
<tr>
<td>fallback</td>
<td>健康检查</td>
</tr>
<tr>
<td>load-balance</td>
<td>负载均衡</td>
</tr>
<tr>
<td>relay</td>
<td>代理链</td>
</tr>
</tbody></table>
<p>Clash内置的策略组为DIRECT和REJECT，但不包含PROXY。示例如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">proxy-groups:</span><br><span class="line">  - name: 手动选择</span><br><span class="line">    type: select</span><br><span class="line">    use:</span><br><span class="line">      - provider</span><br><span class="line">    proxies:</span><br><span class="line">      - AUTO</span><br><span class="line">      - DIRECT</span><br><span class="line">      - example-proxy</span><br><span class="line"></span><br><span class="line">  - name: 延迟测试</span><br><span class="line">    type: url-test</span><br><span class="line">    url: http://www.gstatic.com/generate_204</span><br><span class="line">    interval: 300</span><br><span class="line">    use:</span><br><span class="line">      - provider</span><br><span class="line"></span><br><span class="line">  - name: 健康检测</span><br><span class="line">    type: fallback</span><br><span class="line">    url: http://www.gstatic.com/generate_204</span><br><span class="line">    interval: 300</span><br><span class="line">    use:</span><br><span class="line">      - provider</span><br><span class="line"></span><br><span class="line">  - name: 负载均衡</span><br><span class="line">    type: load-balance</span><br><span class="line">    url: http://www.gstatic.com/generate_204</span><br><span class="line">    interval: 300</span><br><span class="line">    use:</span><br><span class="line">      - provider</span><br><span class="line"></span><br><span class="line">  # 流量流向为clash&lt;-&gt;http&lt;-&gt;vmess&lt;-&gt;ss1&lt;-&gt;ss2&lt;-&gt;Internet</span><br><span class="line">  - name: &quot;relay&quot;</span><br><span class="line">    type: relay</span><br><span class="line">    proxies:</span><br><span class="line">      - select</span><br><span class="line">      - vmess1</span><br><span class="line">      - ss1</span><br><span class="line">      - ss2</span><br></pre></td></tr></table></figure>

<h6 id="规则集"><a href="#规则集" class="headerlink" title="规则集"></a>规则集</h6><p>规则集在配置文件中的rule-providers部分定义，示例如下，参数与订阅节点一致。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">rule-providers:</span><br><span class="line">  Advertising:</span><br><span class="line">    type: http</span><br><span class="line">    behavior: classical</span><br><span class="line">    path: ./RuleSet/Guard/Advertising.yaml</span><br><span class="line">    url: https://cdn.jsdelivr.net/gh/DivineEngine/Profiles@master/Clash/RuleSet/Guard/Advertising.yaml</span><br><span class="line">    interval: 86400</span><br></pre></td></tr></table></figure>

<h6 id="规则"><a href="#规则" class="headerlink" title="规则"></a>规则</h6><p>规则在配置文件中的rules部分定义，类型如下。</p>
<table>
<thead>
<tr>
<th>匹配类型</th>
<th>匹配名称</th>
</tr>
</thead>
<tbody><tr>
<td>DOMAIN-SUFFIX</td>
<td>域名后缀匹配</td>
</tr>
<tr>
<td>DOMAIN</td>
<td>域名匹配</td>
</tr>
<tr>
<td>DOMAIN-KEYWORD</td>
<td>域名关键字匹配</td>
</tr>
<tr>
<td>IP-CIDR</td>
<td>IPv4段匹配</td>
</tr>
<tr>
<td>IP-CIDR</td>
<td>IPv6段匹配</td>
</tr>
<tr>
<td>SRC-IP-CIDR</td>
<td>源IP段匹配</td>
</tr>
<tr>
<td>GEOIP</td>
<td>GEOIP数据库（国家代码）匹配</td>
</tr>
<tr>
<td>DST-PORT</td>
<td>目标端口匹配</td>
</tr>
<tr>
<td>SRC-PORT</td>
<td>源端口匹配</td>
</tr>
<tr>
<td>MATCH</td>
<td>兜底匹配</td>
</tr>
<tr>
<td>RULE-SET</td>
<td>规则集匹配</td>
</tr>
</tbody></table>
<p>示例如下，注意no-resolve选项表示跳过具有域请求的规则。应当在该部分指定规则集与策略组的关系，即该规则集使用哪个策略组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">rules:</span><br><span class="line">  - DOMAIN-SUFFIX,google.com,auto</span><br><span class="line">  - DOMAIN-KEYWORD,google,auto</span><br><span class="line">  - DOMAIN,ad.com,REJECT</span><br><span class="line">  - SRC-IP-CIDR,192.168.1.201/32,DIRECT</span><br><span class="line">  - IP-CIDR,127.0.0.0/8,DIRECT</span><br><span class="line">  - IP-CIDR,32.0.0.0/8,DIRECT,no-resolve</span><br><span class="line">  - IP-CIDR6,2620:0:2d0:200::7/32,auto</span><br><span class="line">  - GEOIP,CN,DIRECT</span><br><span class="line">  - DST-PORT,80,DIRECT</span><br><span class="line">  - SRC-PORT,7777,DIRECT</span><br><span class="line">  - RULE-SET,providername,proxy</span><br><span class="line">  - MATCH,auto</span><br></pre></td></tr></table></figure>

<h6 id="绕过系统代理"><a href="#绕过系统代理" class="headerlink" title="绕过系统代理"></a>绕过系统代理</h6><p>绕过系统代理在配置文件中的cfw-bypass部分定义，支持通配符，示例如下。最后一行对应系统中<code>请勿将代理服务器用于本地(Intranet)地址</code>选项，请确保此项在最底部。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cfw-bypass:</span><br><span class="line">  ... # 原有字段不用删除</span><br><span class="line">  - &#x27;music.163.com&#x27; # 网易云域名1</span><br><span class="line">  - &#x27;*.music.126.net&#x27; # 网易云域名2</span><br></pre></td></tr></table></figure>

<h6 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h6><p>通过脚本编写配置文件，可实现代码控制的功能。注意需要将mode修改为Script，示例如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">mode: Script</span><br><span class="line"></span><br><span class="line">script:</span><br><span class="line">  # test规则集使用DIRECT策略组</span><br><span class="line">  code: |</span><br><span class="line">    def main(ctx, metadata):</span><br><span class="line">      if ctx.rule_providers[&quot;test&quot;].match(metadata):</span><br><span class="line">        return &quot;DIRECT&quot;</span><br><span class="line">  </span><br><span class="line">  # test和test2规则集使用DIRECT策略组</span><br><span class="line">  code: |</span><br><span class="line">    def main(ctx, metadata):</span><br><span class="line">      list = [&#x27;test&#x27;, &#x27;test2&#x27;]</span><br><span class="line">      </span><br><span class="line">      for name in list:</span><br><span class="line">        if ctx.rule_providers[name].match(metadata):</span><br><span class="line">          ctx.log(&#x27;[Script] matched %s&#x27; % name)</span><br><span class="line">          return &quot;DIRECT&quot;</span><br><span class="line"></span><br><span class="line">  # GEOIP数据库匹配</span><br><span class="line">  code: |</span><br><span class="line">    def main(ctx, metadata):</span><br><span class="line">      code = ctx.geo_ip(ip)</span><br><span class="line">      if code == &#x27;CN&#x27; or code == &#x27;LAN&#x27;:</span><br><span class="line">        return &quot;DIRECT&quot;</span><br><span class="line"></span><br><span class="line">  # DNS解析错误时使用DIRECT策略组</span><br><span class="line">  code: |</span><br><span class="line">    def main(ctx, metadata): </span><br><span class="line">      ip = ctx.resolve_ip(metadata[&quot;host&quot;])</span><br><span class="line">      if ip == &quot;&quot;:</span><br><span class="line">        return &quot;DIRECT&quot;</span><br><span class="line"></span><br><span class="line">  # 源端口为3000-4000</span><br><span class="line">  code: |</span><br><span class="line">    def main(ctx, metadata): </span><br><span class="line">      srcport = metadata[&quot;src_port&quot;]</span><br><span class="line">      if (3000 &lt; srcport and srcport &lt; 4000):</span><br><span class="line">        return &quot;DIRECT&quot;</span><br><span class="line"></span><br><span class="line">  # 关键词匹配</span><br><span class="line">  code: |</span><br><span class="line">    def main(ctx, metadata): </span><br><span class="line">    rejectkeywordlist = [&quot;adservice&quot;]</span><br><span class="line">    for rejectkeyword in rejectkeywordlist:</span><br><span class="line">      if rejectkeyword in metadata[&quot;host&quot;]:</span><br><span class="line">        ctx.log(&#x27;[Script] matched keyword %s use reject&#x27; % rejectkeyword)</span><br><span class="line">        return &quot;REJECT&quot;</span><br><span class="line">    </span><br><span class="line">  # 时间参数</span><br><span class="line">  code: |</span><br><span class="line">    def main(ctx, metadata): </span><br><span class="line">      now = time.now()</span><br><span class="line">      if metadata[&quot;src_ip&quot;] == &quot;ip&quot; and now.hour =&gt; 18 and now.hour &lt;= 22:</span><br><span class="line">        return &quot;REJECT&quot;</span><br><span class="line"></span><br><span class="line">      return &quot;DIRECT&quot;</span><br></pre></td></tr></table></figure>

<p>ctx可用方法如下。</p>
<table>
<thead>
<tr>
<th>函数名</th>
<th>参数类型</th>
<th>返回值类型</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>resolve_ip(host)</td>
<td>string</td>
<td>string</td>
<td>DNS解析匹配</td>
</tr>
<tr>
<td>resolve_process_name(metadata)</td>
<td>Metadata</td>
<td>string</td>
<td>进程名匹配</td>
</tr>
<tr>
<td>geoip(ip)</td>
<td>string</td>
<td>string</td>
<td>GEOIP匹配</td>
</tr>
<tr>
<td>log(log)</td>
<td>string</td>
<td>void</td>
<td>日志</td>
</tr>
<tr>
<td>proxy_providers[name].match(metadata)</td>
<td>string</td>
<td>boolean</td>
<td>策略组匹配</td>
</tr>
<tr>
<td>rule_providers[name].match(metadata)</td>
<td>string</td>
<td>boolean</td>
<td>规则集匹配</td>
</tr>
</tbody></table>
<p>metadata可用参数如下。</p>
<table>
<thead>
<tr>
<th>函数名</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>type</td>
<td>连接方法类型</td>
</tr>
<tr>
<td>network</td>
<td>网络类型</td>
</tr>
<tr>
<td>host</td>
<td>主机名</td>
</tr>
<tr>
<td>src_ip</td>
<td>请求的客户端IP</td>
</tr>
<tr>
<td>src_port</td>
<td>请求的客户端端口</td>
</tr>
<tr>
<td>dst_ip</td>
<td>请求的目标IP</td>
</tr>
<tr>
<td>dst_port</td>
<td>请求的目标端口</td>
</tr>
</tbody></table>
<h5 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h5><h6 id="局域网共享"><a href="#局域网共享" class="headerlink" title="局域网共享"></a>局域网共享</h6><p>勾选配置-允许局域网连接，即可开启局域网共享。在控制台可查看端口，一般为8090。查看本机IP地址并记录，然后对连接到同一局域网即同一Wi-Fi下的设备设置代理<code>[IP地址]:8090</code>，即可使用本机的翻墙代理。</p>
<p>也可通过配置文件设置，示例如下。注意bind-address仅在allow-lan设置为true时生效，支持以下参数类型。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>“*”</td>
<td>绑定所有IP地址</td>
</tr>
<tr>
<td>192.168.122.11</td>
<td>绑定一个IPv4地址</td>
</tr>
<tr>
<td>“[aaaa::a8aa:ff:fe09:57d8]”</td>
<td>绑定一个IPv6地址</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">allow-lan: false</span><br><span class="line"></span><br><span class="line"># bind-address: &quot;*&quot;</span><br><span class="line"></span><br><span class="line"># 本地SOCKS5/HTTP(S)服务认证</span><br><span class="line"># authentication:</span><br><span class="line">#  - &quot;user1:pass1&quot;</span><br><span class="line">#  - &quot;user2:pass2&quot;</span><br></pre></td></tr></table></figure>

<h5 id="模式-1"><a href="#模式-1" class="headerlink" title="模式"></a>模式</h5><h6 id="TProxy"><a href="#TProxy" class="headerlink" title="TProxy"></a>TProxy</h6><p>实现透明代理。</p>
<p>确保配置文件中没有tun字段。在Linux中需在终端输入以下命令，然后启动Clash即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"># 以下几种模式选择一种即可</span><br><span class="line">## Redir-Host</span><br><span class="line">iptables -t nat -N clash</span><br><span class="line">iptables -t nat -A clash -d 0.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 10.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 127.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 169.254.0.0/16 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 172.16.0.0/12 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 192.168.0.0/16 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 224.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 240.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d &quot;$local_ipv4&quot; -j RETURN</span><br><span class="line">iptables -t nat -A clash -p tcp -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -I PREROUTING -p tcp -d 8.8.8.8 -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -I PREROUTING -p tcp -d 8.8.4.4 -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -A PREROUTING -p tcp -j clash</span><br><span class="line"></span><br><span class="line">iptables -t nat -N CLASH_DNS</span><br><span class="line">iptables -t nat -F CLASH_DNS </span><br><span class="line">iptables -t nat -A CLASH_DNS -p udp -j REDIRECT --to-port 1053</span><br><span class="line">iptables -t nat -I OUTPUT -p udp --dport 53 -j CLASH_DNS</span><br><span class="line">iptables -t nat -I PREROUTING -p udp --dport 53 -j REDIRECT --to 1053</span><br><span class="line"></span><br><span class="line">## Fake-IP</span><br><span class="line">iptables -t nat -N clash</span><br><span class="line">iptables -t nat -A clash -d 0.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 10.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 127.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 169.254.0.0/16 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 172.16.0.0/12 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 192.168.0.0/16 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 224.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 240.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d &quot;$local_ipv4&quot; -j RETURN</span><br><span class="line">iptables -t nat -A clash -p tcp -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -I PREROUTING -p tcp -d 8.8.8.8 -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -I PREROUTING -p tcp -d 8.8.4.4 -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -A PREROUTING -p tcp -j clash</span><br><span class="line">iptables -t nat -A OUTPUT -p tcp -d 198.18.0.0/16 -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -N CLASH_DNS</span><br><span class="line">iptables -t nat -F CLASH_DNS </span><br><span class="line">iptables -t nat -A CLASH_DNS -p udp -j REDIRECT --to-port 1053</span><br><span class="line">iptables -t nat -I OUTPUT -p udp --dport 53 -j CLASH_DNS</span><br><span class="line">iptables -t nat -I PREROUTING -p udp --dport 53 -j REDIRECT --to 1053</span><br><span class="line"></span><br><span class="line">## 带有UDP的Redir-Host</span><br><span class="line"># tcp</span><br><span class="line">iptables -t nat -N clash</span><br><span class="line">iptables -t nat -A clash -d 0.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 10.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 127.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 169.254.0.0/16 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 172.16.0.0/12 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 192.168.0.0/16 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 224.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 240.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d &quot;$local_ipv4&quot; -j RETURN</span><br><span class="line">iptables -t nat -A clash -p tcp -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -I PREROUTING -p tcp -d 8.8.8.8 -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -I PREROUTING -p tcp -d 8.8.4.4 -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -A PREROUTING -p tcp -j clash</span><br><span class="line"></span><br><span class="line"># udp</span><br><span class="line">ip rule add fwmark 1 table 100</span><br><span class="line">ip route add local default dev lo table 100</span><br><span class="line">iptables -t mangle -N clash</span><br><span class="line">iptables -t mangle -A clash -d 0.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 10.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 127.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 169.254.0.0/16 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 172.16.0.0/12 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 192.168.0.0/16 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 224.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 240.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d &quot;$local_ipv4&quot; -j RETURN</span><br><span class="line">iptables -t mangle -A clash -p udp -j TPROXY --on-port &quot;$proxy_port&quot; --tproxy-mark 1</span><br><span class="line">iptables -t mangle -A PREROUTING -p udp -j clash</span><br><span class="line">iptables -t nat -N CLASH_DNS</span><br><span class="line">iptables -t nat -F CLASH_DNS </span><br><span class="line">iptables -t nat -A CLASH_DNS -p udp -j REDIRECT --to-port 1053</span><br><span class="line">iptables -t nat -I OUTPUT -p udp --dport 53 -j CLASH_DNS</span><br><span class="line">iptables -t nat -I PREROUTING -p udp --dport 53 -j REDIRECT --to 1053</span><br><span class="line"></span><br><span class="line">## 带有UDP的Fake-IP</span><br><span class="line">#tcp</span><br><span class="line">iptables -t nat -N clash</span><br><span class="line">iptables -t nat -A clash -d 0.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 10.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 127.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 169.254.0.0/16 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 172.16.0.0/12 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 192.168.0.0/16 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 224.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d 240.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t nat -A clash -d &quot;$local_ipv4&quot; -j RETURN</span><br><span class="line">iptables -t nat -A clash -p tcp -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -I PREROUTING -p tcp -d 8.8.8.8 -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -I PREROUTING -p tcp -d 8.8.4.4 -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line">iptables -t nat -A PREROUTING -p tcp -j clash</span><br><span class="line">iptables -t nat -A OUTPUT -p tcp -d 198.18.0.0/16 -j REDIRECT --to-port &quot;$proxy_port&quot;</span><br><span class="line"></span><br><span class="line">#udp</span><br><span class="line">ip rule add fwmark 1 table 100</span><br><span class="line">ip route add local default dev lo table 100</span><br><span class="line">iptables -t mangle -N clash</span><br><span class="line">iptables -t mangle -A clash -d 0.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 10.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 127.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 169.254.0.0/16 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 172.16.0.0/12 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 192.168.0.0/16 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 224.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d 240.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t mangle -A clash -d &quot;$local_ipv4&quot; -j RETURN</span><br><span class="line">iptables -t mangle -A clash -p udp -j TPROXY --on-port &quot;$proxy_port&quot; --tproxy-mark 1</span><br><span class="line">iptables -t mangle -A OUTPUT -p udp -d 198.18.0.0/16 -j MARK --set-mark 1</span><br><span class="line">iptables -t mangle -A PREROUTING -p udp -j clash</span><br><span class="line">iptables -t nat -N CLASH_DNS</span><br><span class="line">iptables -t nat -F CLASH_DNS </span><br><span class="line">iptables -t nat -A CLASH_DNS -p udp -j REDIRECT --to-port 1053</span><br><span class="line">iptables -t nat -I OUTPUT -p udp --dport 53 -j CLASH_DNS</span><br><span class="line">iptables -t nat -I PREROUTING -p udp --dport 53 -j REDIRECT --to 1053</span><br></pre></td></tr></table></figure>

<h6 id="TUN"><a href="#TUN" class="headerlink" title="TUN"></a>TUN</h6><p>使Clash接管所有程序，包括在普通情况下不遵守系统代理设置的程序。</p>
<p>对于Mac&#x2F;Linux&#x2F;OpenWRT&#x2F;nftables，使用以下配置。stack可选择system或gvisor，以确定使用哪一个堆栈。dns-hijack用于DNS劫持，以在fake-ip模式下返回假IP。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tun:</span><br><span class="line">  enable: true</span><br><span class="line">  stack: system</span><br><span class="line">  macOS-auto-route: true</span><br><span class="line">  macOS-auto-detect-interface: true</span><br><span class="line">  dns-hijack:</span><br><span class="line">    - tcp://8.8.8.8:53</span><br></pre></td></tr></table></figure>

<p>然后在终端输入以下命令。Mac如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo route -n add -net 1 198.18.0.1</span><br><span class="line">sudo route -n add -net 2/7 198.18.0.1</span><br><span class="line">sudo route -n add -net 4/6 198.18.0.1</span><br><span class="line">sudo route -n add -net 8/5 198.18.0.1</span><br><span class="line">sudo route -n add -net 16/4 198.18.0.1</span><br><span class="line">sudo route -n add -net 32/3 198.18.0.1</span><br><span class="line">sudo route -n add -net 64/2 198.18.0.1</span><br><span class="line">sudo route -n add -net 128.0/1 198.18.0.1</span><br></pre></td></tr></table></figure>

<p>Linux&#x2F;OpenWRT如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># Based on https://github.com/Kr328/kr328-clash-setup-scripts/blob/master/setup-clash-tun.sh</span><br><span class="line">ipset create localnetwork hash:net</span><br><span class="line">ipset add localnetwork 127.0.0.0/8</span><br><span class="line">ipset add localnetwork 10.0.0.0/8</span><br><span class="line">ipset add localnetwork 169.254.0.0/16</span><br><span class="line">ipset add localnetwork 192.168.0.0/16</span><br><span class="line">ipset add localnetwork 224.0.0.0/4</span><br><span class="line">ipset add localnetwork 240.0.0.0/4</span><br><span class="line">ipset add localnetwork 172.16.0.0/12</span><br><span class="line"></span><br><span class="line">ip tuntap add user root mode tun utun0</span><br><span class="line">ip link set utun0 up</span><br><span class="line"></span><br><span class="line">ip route replace default dev utun0 table 0x162</span><br><span class="line"></span><br><span class="line">ip rule add fwmark 0x162 lookup 0x162</span><br><span class="line"></span><br><span class="line">iptables -t mangle -N CLASH</span><br><span class="line">iptables -t mangle -F CLASH</span><br><span class="line">iptables -t mangle -A CLASH -p tcp --dport 53 -j MARK --set-mark 0x162</span><br><span class="line">iptables -t mangle -A CLASH -p udp --dport 53 -j MARK --set-mark 0x162</span><br><span class="line">iptables -t mangle -A CLASH -m addrtype --dst-type BROADCAST -j RETURN</span><br><span class="line">iptables -t mangle -A CLASH -m set --match-set localnetwork dst -j RETURN</span><br><span class="line">iptables -t mangle -A CLASH -d 198.18.0.0/16 -j MARK --set-mark 0x162</span><br><span class="line">iptables -t mangle -A CLASH -j MARK --set-mark 0x162</span><br><span class="line"></span><br><span class="line">iptables -t mangle -I OUTPUT -j CLASH</span><br><span class="line">iptables -t mangle -I PREROUTING -m set ! --match-set localnetwork dst -j MARK --set-mark 0x162</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sysctl -w net/ipv4/ip_forward=1</span><br><span class="line">sysctl -w net.ipv4.conf.utun0.rp_filter=0</span><br></pre></td></tr></table></figure>

<p>nftables如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"># Based on https://github.com/Kr328/kr328-clash-setup-scripts/blob/master/setup-clash-tun.sh</span><br><span class="line"># Make sure your clash DNS listen at 1053, otherwise you should modify some part</span><br><span class="line">ip route replace default dev utun table 114</span><br><span class="line"></span><br><span class="line">ip rule del fwmark 114514 lookup 114</span><br><span class="line">ip rule add fwmark 114514 lookup 114</span><br><span class="line"></span><br><span class="line">nft -f - &lt;&lt; EOF</span><br><span class="line">define LOCAL_SUBNET = &#123;127.0.0.0/8, 224.0.0.0/4, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 169.254.0.0/16, 240.0.0.0/4&#125;</span><br><span class="line">define TUN_DEVICE = utun</span><br><span class="line">define FORWARD_DNS_REDIRECT = &#123;127.0.0.1:1053&#125;</span><br><span class="line">table inet clash</span><br><span class="line">flush table inet clash</span><br><span class="line">table inet clash &#123;</span><br><span class="line">    chain local &#123;</span><br><span class="line">        type route hook output priority 0; policy accept;</span><br><span class="line">        </span><br><span class="line">        ip protocol != &#123; tcp, udp &#125; accept</span><br><span class="line">        </span><br><span class="line">        ip daddr \$LOCAL_SUBNET accept</span><br><span class="line">        </span><br><span class="line">        ct state new ct mark set 114514</span><br><span class="line">        ct mark 114514 mark set 114514</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    chain forward &#123;</span><br><span class="line">        type filter hook prerouting priority 0; policy accept;</span><br><span class="line">        </span><br><span class="line">        ip protocol != &#123; tcp, udp &#125; accept</span><br><span class="line">    </span><br><span class="line">        iif utun accept</span><br><span class="line">        ip daddr \$LOCAL_SUBNET accept</span><br><span class="line">        </span><br><span class="line">        mark set 114514</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    chain local-dns-redirect &#123;</span><br><span class="line">        type nat hook output priority 0; policy accept;</span><br><span class="line">        </span><br><span class="line">        ip protocol != &#123; tcp, udp &#125; accept</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        udp dport 53 dnat ip to $FORWARD_DNS_REDIRECT</span><br><span class="line">        tcp dport 53 dnat ip to $FORWARD_DNS_REDIRECT</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    chain forward-dns-redirect &#123;</span><br><span class="line">        type nat hook prerouting priority 0; policy accept;</span><br><span class="line">        </span><br><span class="line">        ip protocol != &#123; tcp, udp &#125; accept</span><br><span class="line">        </span><br><span class="line">        udp dport 53 dnat ip to $FORWARD_DNS_REDIRECT</span><br><span class="line">        tcp dport 53 dnat ip to $FORWARD_DNS_REDIRECT</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">sysctl -w net/ipv4/ip_forward=1</span><br></pre></td></tr></table></figure>

<p>对于Windows，需要使用以下配置。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tun:</span><br><span class="line">  enable: true</span><br><span class="line">  stack: gvisor # only gvisor</span><br><span class="line">  dns-hijack:</span><br><span class="line">    - 198.18.0.2:53</span><br><span class="line">  macOS-auto-route: true</span><br><span class="line">  macOS-auto-detect-interface: true</span><br></pre></td></tr></table></figure>

<p>还需要下载以下程序，将wintun.dll复制到Clash目录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.wintun.net/</span><br></pre></td></tr></table></figure>

<h4 id="Surge"><a href="#Surge" class="headerlink" title="Surge"></a>Surge</h4><h5 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h5><h6 id="Mac-3"><a href="#Mac-3" class="headerlink" title="Mac"></a>Mac</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.nssurge.com/</span><br></pre></td></tr></table></figure>

<p>将以下内容保存为surge.sh，放置位置与Surge应用程序同级，用终端运行<code>bash [surge.sh路径]</code>即可。注意，对于最新版Surge，破解后过一段时间会闪退，因为该脚本的原理是修改时间，最新版的Surge会自动检测时间。断网后可保持Surge不闪退，但这也就无法正常使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env bash</span><br><span class="line"></span><br><span class="line">cd $(dirname &quot;$0&quot;)</span><br><span class="line"></span><br><span class="line">read -sp &quot;Password: &quot; pwd</span><br><span class="line">echo</span><br><span class="line">rm -rf ~/Library/Application Support/com.nssurge.surge-*</span><br><span class="line">echo &quot;$&#123;pwd&#125;&quot; | sudo -S date 010110002018</span><br><span class="line">nohup ./Surge.app/Contents/MacOS/Surge &amp;</span><br><span class="line">sleep 20</span><br><span class="line">echo &quot;$&#123;pwd&#125;&quot; | sudo -S sntp -sS time.apple.com.</span><br></pre></td></tr></table></figure>

<h5 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h5><p>开启系统代理，出站模式为规则判断。</p>
<h5 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h5><p>可以直接套用iOS的surge配置文件。</p>
<h5 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h5><p>若导入iOS端Surge的模块到Mac端时报错，则检查模块是否有以下语句，有则删除即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!system=ios</span><br></pre></td></tr></table></figure>

<h5 id="远程控制"><a href="#远程控制" class="headerlink" title="远程控制"></a>远程控制</h5><p>iOS的Surge可控制Mac的Surge。在Mac修改Surge的配置文件，添加以下行，其中password可以修改为其它内容。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">external-controller-access = password@0.0.0.0:6155</span><br></pre></td></tr></table></figure>

<p>打开iOS端的Surge，添加远程控制器，IP填写Mac端的IP，端口为6155，密码为password部分的内容，配置完成即可。</p>
<h5 id="第三方工具"><a href="#第三方工具" class="headerlink" title="第三方工具"></a>第三方工具</h5><p>常用的第三方工具有YASD和xurge。以YASD为例说明其使用方法。</p>
<p>打开以下网站，点击添加新主机，参数为Surge配置文件的[general]模块下的http-api，一般为0.0.0.0或127.0.0.1，保存即可使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://yasd.nerdynerd.org/home</span><br></pre></td></tr></table></figure>

<h5 id="软路由"><a href="#软路由" class="headerlink" title="软路由"></a>软路由</h5><h6 id="通过代理"><a href="#通过代理" class="headerlink" title="通过代理"></a>通过代理</h6><p>Surge开启时，会自动开启http和socks5代理，实现局域网共享。在启动日志中可看到<code>SOCKS5 代理服务已启动，监听在 127.0.0.1，端口号 6153</code>和<code>HTTP 代理服务已启动，监听在 127.0.0.1，端口号 6152</code>的记录。</p>
<p>对于同一网络下的设备，若该设备需要翻墙，则在该设备上手动设置代理即可，其中服务器IP为安装有Surge的电脑IP，端口在记录中可查询到。</p>
<h6 id="通过增强模式"><a href="#通过增强模式" class="headerlink" title="通过增强模式"></a>通过增强模式</h6><p>即网关模式、协议转换器，可以实现网络间的相互连接。</p>
<p>点击系统偏好设置-网络，选择当前使用的网络，点击高级-TCP&#x2F;IP，在配置IPV4下选择手动，然后即可开启Surge的增强模式。</p>
<p>对于同一网络下的设备，若该设备需要翻墙，则在该设备上手动设置代理，其中服务器IP填写同网段内任意一个设备的IP，子网掩码保持不变（255.255.255.0），路由器地址&#x2F;网关地址为<br>Mac的IP，DNS为Mac中网络偏好设置-DNS服务器下的记录，该DNS由surge创建，一般为198.18.0.2。</p>
<h6 id="通过DHCP服务器模式"><a href="#通过DHCP服务器模式" class="headerlink" title="通过DHCP服务器模式"></a>通过DHCP服务器模式</h6><p>该方法不需要配置代理设备，只需在Mac端配置即可。但配置出错会导致连接该网络的所有设备瘫痪。</p>
<p>要启用该功能，需要关闭现有的DHCP，因为DHCP将由Surge接管。DHCP通常由路由器提供，需要参考路由器的配置页面。</p>
<p>在Surge的配置中，需手动配置至少一个有效的DNS服务器，即Surge DNS不能全部指向内网。</p>
<p>本设备不应断电或断网，否则将影响其余所有设备，因此Surge会强制禁止电脑休眠。本设备应使用有线连接网络，无线网络可能导致严重的性能问题。</p>
<p>完成如上配置后，即可在Surge中点击设置-DHCP服务器，开启后记录详细网络参数以防配置错误。回到设备页，可以看到所有连接到该网络的设备。对于要设置翻墙的设备，右键点击使用surge作为网关即可。</p>
<h5 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h5><h6 id="与AdGuard冲突"><a href="#与AdGuard冲突" class="headerlink" title="与AdGuard冲突"></a>与AdGuard冲突</h6><p>关闭surge系统代理。保证http和socks5代理打开的情况下，打开增强模式。在adguard的高级设置中，将adguard的上游代理（upstream.proxy）设置为surge的代理端（socks5:&#x2F;&#x2F;locaalhost:6153），不要打开udp即可。</p>
<p>也可通过另一种方式。进入Adguard高级设置并点击恢复默认，首选项关闭自动过滤应用程序流量，打开http代理。进入系统网络偏好设置，点击高级-代理-网页代理（HTTP），填入adguard的http代理内容，然后正常启动Surge即可。</p>
<h4 id="Trojan-Qt5"><a href="#Trojan-Qt5" class="headerlink" title="Trojan-Qt5"></a>Trojan-Qt5</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/charlieethan/Trojan-Qt5/releases</span><br></pre></td></tr></table></figure>

<h4 id="QV2Ray"><a href="#QV2Ray" class="headerlink" title="QV2Ray"></a>QV2Ray</h4><p>打开以下网站下载QV2Ray软件以及SSR&#x2F;Trojan插件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Qv2ray/Qv2ray/releases</span><br><span class="line">https://qv2ray.github.io/</span><br></pre></td></tr></table></figure>

<p>打开QV2Ray，点击<code>插件</code>，选择<code>打开本地插件目录</code>，将下载的插件复制到此目录，重启应用即可加载插件。然后打开以下网站，下载V2Ray核心。在QV2Ray的安装目录下新建一个空文件夹，名称可以任意取，然后将解压后的V2Ray核心文件拖入其中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/v2ray/v2ray-core/releases</span><br></pre></td></tr></table></figure>

<p>打开QV2Ray，点击首选项-内核设置，将<code>核心可执行文件路径</code>设置刚才所新建的文件夹下的v2ray.exe目录（Mac为v2ray文件），<code>V2ray资源目录</code>设置为刚才所新建的文件夹下的目录，然后点击<code>核心验证</code>确认配置完成。</p>
<h4 id="Surfboard"><a href="#Surfboard" class="headerlink" title="Surfboard"></a>Surfboard</h4><p>适用于Android，兼容Surge配置文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://manual.getsurfboard.com/</span><br></pre></td></tr></table></figure>

<h2 id="二级代理"><a href="#二级代理" class="headerlink" title="二级代理"></a>二级代理</h2><p>二级代理即为在数据从服务端传回客户端时并不直接传回，而是通过另一个服务器中转。</p>
<h3 id="Shadowsocks-4"><a href="#Shadowsocks-4" class="headerlink" title="Shadowsocks"></a>Shadowsocks</h3><p>准备好客户端及其副本。打开客户端并连接中转节点，然后打开另一个客户端，将会提示端口被占用，因为默认端口均为1080。因此修改本客户端的本地端口为1081或其它值，然后设置该客户端连接服务器节点，代理模式选择全局模式即可。</p>
<h1 id="翻墙进阶"><a href="#翻墙进阶" class="headerlink" title="翻墙进阶"></a>翻墙进阶</h1><h2 id="可用性检查"><a href="#可用性检查" class="headerlink" title="可用性检查"></a>可用性检查</h2><h3 id="IP连通性"><a href="#IP连通性" class="headerlink" title="IP连通性"></a>IP连通性</h3><p>可通过以下网站测试IP的连通性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">https://www.vps234.com/ipchecker/</span><br><span class="line">http://ping.pe/</span><br><span class="line">https://torch.njs.app/</span><br><span class="line">https://www.ipaddress.com/</span><br><span class="line">https://www.ip-adress.com/</span><br><span class="line">https://whoer.net/zh</span><br><span class="line">https://tuna.moe/help/dns/</span><br></pre></td></tr></table></figure>

<p>如果IP不通，则需要更换IP。如果IP全通，但翻墙连不上，则一般为端口被封，更换端口即可。</p>
<h2 id="订阅链接"><a href="#订阅链接" class="headerlink" title="订阅链接"></a>订阅链接</h2><h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><p>去掉前缀并经base64解码后，可得到不同协议的节点配置格式。</p>
<h4 id="Shadowsocks-5"><a href="#Shadowsocks-5" class="headerlink" title="Shadowsocks"></a>Shadowsocks</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss://method:password@server:port</span><br></pre></td></tr></table></figure>

<h4 id="ShadowsocksR"><a href="#ShadowsocksR" class="headerlink" title="ShadowsocksR"></a>ShadowsocksR</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssr://ip:port:protocol:method:blending:password/?remarks=othertext</span><br><span class="line"></span><br><span class="line">// 其余形式如下，其中obfsparam、protoparam、group、remarks可选</span><br><span class="line">ssr://159.65.1.189:5252:auth_sha1_v4:rc4-md5:http_simple:NTJzc3IubmV0/?obfsparam=&amp;protoparam=&amp;group=d3d3LnNzcnNoYXJlLmNvbQ&amp;remarks=RE1fTm9kZQ</span><br></pre></td></tr></table></figure>

<h4 id="V2Ray-2"><a href="#V2Ray-2" class="headerlink" title="V2Ray"></a>V2Ray</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;ps&quot;: &quot;别名&quot;,</span><br><span class="line">  &quot;add&quot;: &quot;ip地址&quot;,</span><br><span class="line">  &quot;port&quot;: &quot;端口&quot;,</span><br><span class="line">  &quot;id&quot;: &quot;uuid&quot;,</span><br><span class="line">  &quot;aid&quot;: &quot;alterid&quot;,</span><br><span class="line">  &quot;net&quot;: &quot;传输协议&quot;,</span><br><span class="line">  &quot;type&quot;: &quot;伪装类型&quot;,</span><br><span class="line">  &quot;host&quot;: &quot; http header参数&quot;,</span><br><span class="line">  &quot;tls&quot;: &quot;底层传输安全&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h3><h4 id="边缘转换"><a href="#边缘转换" class="headerlink" title="边缘转换"></a>边缘转换</h4><p>网址如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://bianyuan.xyz/</span><br></pre></td></tr></table></figure>

<p>以生成适用于Quantumult的订阅为例，<code>订阅链接</code>填写<code>vmess://</code>开头的链接或机场订阅，远程配置选择<code>No-Urltest</code>，并勾选<code>输出为Node List</code>，得到链接。</p>
<p>可直接将得到的链接作为订阅URL，也可在浏览器打开该链接下载文件得到文件内容。</p>
<h4 id="QuantumultX-Surge-API"><a href="#QuantumultX-Surge-API" class="headerlink" title="QuantumultX-Surge-API"></a>QuantumultX-Surge-API</h4><p>网页版地址如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://dove.589669.xyz/web</span><br></pre></td></tr></table></figure>

<p>仓库如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/KOP-XIAO/QuantumultX-Surge-API</span><br></pre></td></tr></table></figure>

<h4 id="Surgio"><a href="#Surgio" class="headerlink" title="Surgio"></a>Surgio</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://surgio.js.org/</span><br><span class="line">https://github.com/surgioproject/surgio</span><br></pre></td></tr></table></figure>

<h4 id="ConfigConverters"><a href="#ConfigConverters" class="headerlink" title="ConfigConverters"></a>ConfigConverters</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/ImSingee/ConfigConverter</span><br></pre></td></tr></table></figure>

<h4 id="subconverter"><a href="#subconverter" class="headerlink" title="subconverter"></a>subconverter</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/tindy2013/subconverter</span><br></pre></td></tr></table></figure>

<h3 id="制作"><a href="#制作" class="headerlink" title="制作"></a>制作</h3><p>为防止服务器配置更改导致节点失效，可通过制作订阅的方式。更新订阅即可更新服务器配置，无需逐个修改。</p>
<h4 id="通用方法"><a href="#通用方法" class="headerlink" title="通用方法"></a>通用方法</h4><p>在Github上新建仓库，以用于存放配置文件。</p>
<p>以V2Ray节点为例，由于大部分V2Ray客户端的分享链接采用V2RayN标准，因此需先在V2RayN上完成各服务器的配置。选中所有需要配置成订阅的服务器，右键选择<code>批量导出分享URL至剪贴板</code>，复制到记事本。</p>
<p>如果希望添加剩余流量和到期时间提醒，可在开头处添加以下内容。完成后复制内容。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">STATUS=剩余流量：23.06GB.♥.过期时间：3162-01-10</span><br><span class="line">REMARKS=备注</span><br></pre></td></tr></table></figure>

<p>然后打开以下网站，将刚才复制的内容编码成BASE64。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://emn178.github.io/online-tools/base64_decode.html</span><br></pre></td></tr></table></figure>

<p>编码完成后回到Github并新建文件，文件名任意，后缀为txt。将编码后的内容复制到文本区域，保存后点击<code>Commit changes</code>，成功后点击<code>Raw</code>，复制得到的网址，即为所得订阅链接。本链接可用于大部分客户端。</p>
<h4 id="特殊处理"><a href="#特殊处理" class="headerlink" title="特殊处理"></a>特殊处理</h4><h5 id="Quantumult-1"><a href="#Quantumult-1" class="headerlink" title="Quantumult"></a>Quantumult</h5><p>Quantumult无法使用以上链接，可通过订阅链接转换中的方式完成转换。需要注意，通过一键生成配置网站所生成的文件已经过处理，但每一个订阅都使用同一个group名称，从而会导致多个订阅链接更新时服务器的覆盖。因此需要手动base64解码，解码一次后得到服务器列表，去掉<code>vmess://</code>前缀后再次解码得到服务器信息，更改group后重新编码，即得到可用链接。</p>
<p>也可手动完成本操作。在已经配置好服务器的Quantumult上获取服务器的分享链接，删除<code>vmess://</code>前缀后放到上述BASE64网站进行解码，解码内容应如下所示。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[名称] = vmess, [地址], [端口], [加密方式], [UUID], [选项]</span><br></pre></td></tr></table></figure>

<p>对于Vmess节点，在后面加上<code>, group=[名称]</code>，例子如下所示。注意，对于vmess节点，每一个订阅需要有唯一的group名称，否则在订阅更新时会被覆盖。若为Shadowsocks节点，则无需进行操作。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">example = vmess, 1.2.3.4, 1234, aes-128-cfb, &quot;12345678-8765-4321-1234-123456789abc&quot;, over-tls=false, certificate=1, group=TCP</span><br></pre></td></tr></table></figure>

<p>重新编码为BASE64并添加<code>vmess://</code>前缀，得到一个可用的链接。其余服务器同理，从而得到一系列可用的链接，将这些链接进行一次BASE64编码即可。</p>
<p>如果手动编辑后的连接不可用，则尝试在后面加一个空格，再编码为BASE64并添加<code>vmess://</code>前缀。</p>
<p>对于Shadowsocks节点，则按照以下格式编写ss可用链接，将所有可用链接进行一次BASE64编码即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss://[base64编码后的method:password]@[地址]:[端口]&amp;group=[组名]#[名称]</span><br></pre></td></tr></table></figure>

<h5 id="Surge-1"><a href="#Surge-1" class="headerlink" title="Surge"></a>Surge</h5><p>Surge订阅格式如下所示，注意不能进行base64解码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// Vmess</span><br><span class="line">[名称] = vmess, [地址], [端口], username=[用户名], ws=true/false, (ws-path=[路径], ws-headers=[Host:地址],) tls=true/false</span><br><span class="line"></span><br><span class="line">// Shadowsocks</span><br><span class="line">[名称] = ss, [地址], [端口]&amp;group=[组名], encrypt-method=[加密方式], password=[密码], tfo=true/false, udp-relay=true/false</span><br></pre></td></tr></table></figure>

<h4 id="链接发布"><a href="#链接发布" class="headerlink" title="链接发布"></a>链接发布</h4><h5 id="放到Github上"><a href="#放到Github上" class="headerlink" title="放到Github上"></a>放到Github上</h5><p>登录Github并新建一个Repository，类型为Public，需勾选<code>Initialize this repository with a README</code>，完成创建。删除README以减少被搜索出来的几率。</p>
<p>在仓库内新建一个文本文档并编辑，将上面制作好的订阅内容复制进去后保存。然后点击<code>Raw</code>，跳转到的链接即为订阅地址。</p>
<h5 id="放到自有服务器上"><a href="#放到自有服务器上" class="headerlink" title="放到自有服务器上"></a>放到自有服务器上</h5><p>用SSH连接到服务器，新建一个php文档，内容如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$str = file_get_contents(&quot;./res.txt&quot;, &quot;r&quot;) or die(&quot;Unable to open file!&quot;); echo base64_encode($str);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>新建名称为<code>res.txt</code>的文本文件，将上面制作好的订阅内容复制进去即可。php文档的地址即为订阅地址。</p>
<h2 id="反代网站"><a href="#反代网站" class="headerlink" title="反代网站"></a>反代网站</h2><p>反代通过访问本网站，而本网站再访问其它网站的方式实现翻墙。</p>
<h3 id="现成网站"><a href="#现成网站" class="headerlink" title="现成网站"></a>现成网站</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https://search.snopyta.org/</span><br><span class="line">http://webproxy.to/</span><br><span class="line">https://weboas.is/</span><br><span class="line">https://www.croxyproxy.com/</span><br></pre></td></tr></table></figure>

<h3 id="自行搭建"><a href="#自行搭建" class="headerlink" title="自行搭建"></a>自行搭建</h3><h4 id="jsproxy"><a href="#jsproxy" class="headerlink" title="jsproxy"></a>jsproxy</h4><p>仓库如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/EtherDream/jsproxy</span><br></pre></td></tr></table></figure>

<h5 id="搭建到Cloudflare-Worker"><a href="#搭建到Cloudflare-Worker" class="headerlink" title="搭建到Cloudflare Worker"></a>搭建到Cloudflare Worker</h5><p>打开第一个网页，完成注册后登录。然后打开第二个网页并点击<code>Start building</code>，子域名可以任意填写，计划选择免费，并创建worker。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://dash.cloudflare.com/</span><br><span class="line">https://workers.cloudflare.com/</span><br></pre></td></tr></table></figure>

<p>进入worker页面，更改三级域名，删除原始脚本。然后打开以下网页，复制代码到worker的脚本处，点击下方<code>保存并部署</code>，然后进行预览。使用时直接输入域名对应的网址即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/EtherDream/jsproxy/blob/master/cf-worker/index.js</span><br></pre></td></tr></table></figure>

<h4 id="siteproxy"><a href="#siteproxy" class="headerlink" title="siteproxy"></a>siteproxy</h4><p>部署方法与jsproxy基本一致。仓库如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/netptop/siteproxy</span><br></pre></td></tr></table></figure>

<h4 id="zmirror"><a href="#zmirror" class="headerlink" title="zmirror"></a>zmirror</h4><p>需要VPS，通过以下脚本一键部署。仓库如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/aploium/zmirror</span><br><span class="line">https://github.com/aploium/zmirror-onekey</span><br></pre></td></tr></table></figure>

<h5 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h5><p>支持Ubuntu 14.04、15.04(不支持HTTP2)、15.10、16.04+和Debian 8(不支持HTTP&#x2F;2)。推荐Ubuntu 16.04 x86_64。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/yumin9822/zmirror-docker/blob/master/zmirror-ubuntu.sh</span><br></pre></td></tr></table></figure>

<h5 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/yumin9822/zmirror-docker/blob/master/zmirror-debian.sh</span><br></pre></td></tr></table></figure>

<h5 id="CentOS-6"><a href="#CentOS-6" class="headerlink" title="CentOS 6"></a>CentOS 6</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/yumin9822/zmirror-docker/blob/master/zmirror-centos6.sh</span><br></pre></td></tr></table></figure>

<h4 id="jenssegers-x2F-proxy"><a href="#jenssegers-x2F-proxy" class="headerlink" title="jenssegers&#x2F;proxy"></a>jenssegers&#x2F;proxy</h4><p>可通过composer安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require jenssegers/proxy</span><br></pre></td></tr></table></figure>

<p>仓库如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/jenssegers/php-proxy</span><br></pre></td></tr></table></figure>


<h2 id="服务器加速"><a href="#服务器加速" class="headerlink" title="服务器加速"></a>服务器加速</h2><h3 id="BBR"><a href="#BBR" class="headerlink" title="BBR"></a>BBR</h3><h4 id="一键安装脚本"><a href="#一键安装脚本" class="headerlink" title="一键安装脚本"></a>一键安装脚本</h4><p>逗比版。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/bbr.sh &amp;&amp; chmod +x bbr.sh &amp;&amp; bash bbr.sh</span><br></pre></td></tr></table></figure>

<h3 id="全类型"><a href="#全类型" class="headerlink" title="全类型"></a>全类型</h3><h4 id="一键安装脚本-1"><a href="#一键安装脚本-1" class="headerlink" title="一键安装脚本"></a>一键安装脚本</h4><p>在服务器输入以下命令以安装脚本。以安装BBR Plus为例，需要先安装BBR Plus内核，安装过程中弹框需选择<code>NO</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O tcp.sh https://github.com/cx9208/Linux-NetSpeed/raw/master/tcp.sh &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh</span><br></pre></td></tr></table></figure>

<p>安装完成后再运行一次脚本，安装BBR Plus服务即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./tcp.sh</span><br></pre></td></tr></table></figure>

<h2 id="CDN加速"><a href="#CDN加速" class="headerlink" title="CDN加速"></a>CDN加速</h2><p>登录CloudFlare，新建一个worker。用下面代码覆盖原有代码，把url.hostname替换成想要加速的V2Ray节点域名（不要添加前面的http和后面的路径）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">addEventListener(</span><br><span class="line">  &quot;fetch&quot;,event =&gt; &#123;</span><br><span class="line">     let url=new URL(event.request.url);</span><br><span class="line">     url.hostname=&quot;xxxx-elecv2.cloud.okteto.net&quot;;</span><br><span class="line">     let request=new Request(url,event.request);</span><br><span class="line">     event. respondWith(</span><br><span class="line">       fetch(request)</span><br><span class="line">     )</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>点击<code>保存</code>后，在客户端配置中复制一份原来的配置，把域名换成workers服务器的域名即可。原来的配置仍然可用。</p>
<h2 id="处理DNS污染"><a href="#处理DNS污染" class="headerlink" title="处理DNS污染"></a>处理DNS污染</h2><p>可通过Accesser。以Mac为例，打开第一个链接并下载源码，解压后打开第二个链接下载dnscrypt-proxy，放到解压好的文件夹的dnscrypt目录下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/URenko/Accesser</span><br><span class="line">https://github.com/jedisct1/dnscrypt-proxy/releases</span><br></pre></td></tr></table></figure>

<p>打开终端并运行以下命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">brew install openssl</span><br><span class="line">pip3 install tld dnspython tornado</span><br><span class="line">env ARCHFLAGS=&quot;-arch x86_64&quot; LDFLAGS=&quot;-L/usr/local/opt/openssl/lib&quot; CFLAGS=&quot;-I/usr/local/opt/openssl/include&quot; pip install cryptography</span><br><span class="line">pip3 install pyopenssl</span><br></pre></td></tr></table></figure>

<p>打开网络偏好设置，选择当前连接的网络并点击<code>高级</code>，选择代理-自动代理配置，填写以下URL后保存。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:7654/pac/</span><br></pre></td></tr></table></figure>

<p>终端切换到源码目录并运行以下命令，在弹出的窗口点击导入证书，下载后双击安装。在弹出的<code>钥匙串访问</code>对话框中双击刚才安装的证书，在<code>信任</code>下选择始终信任。保持网页打开，即可访问受到DNS污染的网站。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 accesser.py</span><br></pre></td></tr></table></figure>

<h2 id="Vmware虚拟机使用代理"><a href="#Vmware虚拟机使用代理" class="headerlink" title="Vmware虚拟机使用代理"></a>Vmware虚拟机使用代理</h2><p>虚拟机使用宿主机代理，不用设置额外VMware的转发，只需添加代理的地址与端口。手机也能使用虚拟机所配置的本机代理服务器，不需要同宿主机设置专属的VMware转发。</p>
<p>除默认配置的仅主机模式外，宿主机使用VPN会影响全局网络，虚拟机可以直接访问互联网。在NAT模式中，虚拟机通过宿主机器所在的公网网络来访问互联网（目前在墙内），Vmware使用代理软件转发端口监听任意地址，主机在代理中配置同一公网内的局域网IP与端口，完成网络之间的互联共享。在NAT模式中不考虑使用VPN或代理的情况下，IP地址是完全一致的。</p>
<p>虚拟机采用的是非全局性的独立网络，也因此在虚拟机使用VPN并不能使宿主机也能够访问互联网，但能够进行相关配置。</p>
<p>在Vmware中开启翻墙软件。下载Privoxy，该软件可将sock协议转换为http&#x2F;https协议。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.privoxy.org/</span><br></pre></td></tr></table></figure>

<p>安装后配置相关参数为<code>0.0.0.0:8118</code>，将所有HTTP流量再转发至本机代理，然后在系统设置的代理中设置以上参数。打开命令行并通过<code>ipconfig</code>查看虚拟机的IP地址。在Vmware软件中设置端口映射，然后在主机的系统设置的代理中填入Vmware的IP地址和端口即可。</p>
<h2 id="流媒体解锁"><a href="#流媒体解锁" class="headerlink" title="流媒体解锁"></a>流媒体解锁</h2><p>国外流媒体对IP有不同程度的要求。</p>
<h3 id="IP限制"><a href="#IP限制" class="headerlink" title="IP限制"></a>IP限制</h3><h4 id="Netflix"><a href="#Netflix" class="headerlink" title="Netflix"></a>Netflix</h4><p>对于Netflix，原生IP可以解锁所有剧集，非原生IP有所区分。</p>
<p>对于谷歌云，35开头的IP可以观看带Netflix标志的电影，34开头的IP可以观看大多数片源。</p>
<p>对于亚马逊云，其IP可以观看大多数片源。Heroku的主机为亚马逊云，故使用Heroku的服务器为解锁所有Netflix影片最简单的方式。</p>
<h3 id="解锁方法"><a href="#解锁方法" class="headerlink" title="解锁方法"></a>解锁方法</h3><h4 id="DNS解锁服务器"><a href="#DNS解锁服务器" class="headerlink" title="DNS解锁服务器"></a>DNS解锁服务器</h4><p>该方法适用于当前没有服务器可解锁流媒体。</p>
<p>在服务器上安装V2Ray和宝塔面板，其中宝塔面板的安装命令如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// CentOS</span><br><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh</span><br><span class="line"></span><br><span class="line">// Ubuntu/Deepin</span><br><span class="line">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh</span><br><span class="line"></span><br><span class="line">// Debian</span><br><span class="line">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; bash install.sh</span><br><span class="line"></span><br><span class="line">// Fedora</span><br><span class="line">wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></table></figure>

<p>安装完成后进入宝塔界面，安装LNMP。在服务器输入以下命令，查看占用80端口的服务，一般为nginx。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -apn</span><br></pre></td></tr></table></figure>

<p>在宝塔界面点击软件商店-Nginx-设置-配置修改，在配置的最底部可以看到默认配置的路径位置，此处为&#x2F;www&#x2F;server&#x2F;panel&#x2F;vhost&#x2F;nginx。利用宝塔界面的文件功能定位到该文件，将该文件的listen由80改为其它端口如801即可。</p>
<p>打开以下链接以购买流媒体解锁服务。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://steamsv.com/</span><br></pre></td></tr></table></figure>

<p>购买后在本机通过翻墙软件连接到刚才搭建的服务器，并设为全局模式。在流媒体解锁服务后台点击授权IP以绑定公网IP。</p>
<p>在服务器输入以下命令安装SNI proxy反向代理。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget –no-check-certificate -O dnsmasq_sniproxy.sh https://raw.githubusercontent.com/myxuchangbin/dnsmasq_sniproxy_install/master/dnsmasq_sniproxy.sh &amp;&amp; bash dnsmasq_sniproxy.sh -i</span><br></pre></td></tr></table></figure>

<p>通过宝塔的文件功能编辑&#x2F;etc&#x2F;resolv.conf，将IP地址修改为流媒体解锁服务中的地址，保存退出即可。</p>
<p>SNI proxy仓库与相关错误排除链接如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/myxuchangbin/dnsmasq_sniproxy_install</span><br></pre></td></tr></table></figure>

<h4 id="流量转发"><a href="#流量转发" class="headerlink" title="流量转发"></a>流量转发</h4><p>若已有一台可以解锁流媒体的服务器，可通过流量转发实现让其它服务器解锁流媒体。具体可查看翻墙协议的V2Ray配置部分。</p>
<h2 id="翻墙协议"><a href="#翻墙协议" class="headerlink" title="翻墙协议"></a>翻墙协议</h2><h3 id="Shadowsocks-6"><a href="#Shadowsocks-6" class="headerlink" title="Shadowsocks"></a>Shadowsocks</h3><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><h5 id="一键安装脚本-2"><a href="#一键安装脚本-2" class="headerlink" title="一键安装脚本"></a>一键安装脚本</h5><h6 id="doubi"><a href="#doubi" class="headerlink" title="doubi"></a>doubi</h6><p>命令如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/ss-go.sh &amp;&amp; chmod +x ss-go.sh &amp;&amp; bash ss-go.sh</span><br></pre></td></tr></table></figure>

<h6 id="秋水逸冰"><a href="#秋水逸冰" class="headerlink" title="秋水逸冰"></a>秋水逸冰</h6><p>仓库如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/teddysun/shadowsocks_install/tree/master</span><br></pre></td></tr></table></figure>

<p>命令如下。配置文件地址为<code>/etc/shadowsocks-libev/config.json</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// 安装</span><br><span class="line">wget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.sh</span><br><span class="line">chmod +x shadowsocks-all.sh</span><br><span class="line">./shadowsocks-all.sh 2&gt;&amp;1 | tee shadowsocks-all.log</span><br><span class="line"></span><br><span class="line">// 卸载</span><br><span class="line">./shadowsocks-all.sh uninstall</span><br><span class="line"></span><br><span class="line">// 启动</span><br><span class="line">/etc/init.d/shadowsocks-libev start</span><br><span class="line"></span><br><span class="line">// 停止</span><br><span class="line">/etc/init.d/shadowsocks-libev stop</span><br><span class="line"></span><br><span class="line">// 重启</span><br><span class="line">/etc/init.d/shadowsocks-libev restart</span><br><span class="line"></span><br><span class="line">// 查看状态</span><br><span class="line">/etc/init.d/shadowsocks-libev status</span><br></pre></td></tr></table></figure>


<h5 id="原版"><a href="#原版" class="headerlink" title="原版"></a>原版</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/shadowsocks/shadowsocks/tree/master</span><br></pre></td></tr></table></figure>

<h5 id="go-shadowsocks2"><a href="#go-shadowsocks2" class="headerlink" title="go-shadowsocks2"></a>go-shadowsocks2</h5><p>以Go语言编写的Shadowsocks实现。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/shadowsocks/go-shadowsocks2</span><br></pre></td></tr></table></figure>

<h5 id="shadowsocks-libev"><a href="#shadowsocks-libev" class="headerlink" title="shadowsocks-libev"></a>shadowsocks-libev</h5><p>Shadowsocks的轻量化实现。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/shadowsocks/shadowsocks-libev</span><br></pre></td></tr></table></figure>

<p>可使用一键脚本安装，仓库如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/lrinQVQ/script</span><br></pre></td></tr></table></figure>

<h3 id="ShadowsocksR-1"><a href="#ShadowsocksR-1" class="headerlink" title="ShadowsocksR"></a>ShadowsocksR</h3><h4 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h4><h5 id="一键安装脚本-3"><a href="#一键安装脚本-3" class="headerlink" title="一键安装脚本"></a>一键安装脚本</h5><h6 id="脚本一"><a href="#脚本一" class="headerlink" title="脚本一"></a>脚本一</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssr.sh &amp;&amp; chmod +x ssr.sh &amp;&amp; bash ssr.sh</span><br></pre></td></tr></table></figure>

<h6 id="脚本二"><a href="#脚本二" class="headerlink" title="脚本二"></a>脚本二</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/the0demiurge/CharlesScripts/blob/master/charles/bin/ssr</span><br></pre></td></tr></table></figure>

<h6 id="脚本三"><a href="#脚本三" class="headerlink" title="脚本三"></a>脚本三</h6><p>逗比版，支持单端口&#x2F;多端口切换和管理。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssr.sh &amp;&amp; chmod +x ssr.sh &amp;&amp; bash ssr.sh</span><br></pre></td></tr></table></figure>

<h5 id="原版-1"><a href="#原版-1" class="headerlink" title="原版"></a>原版</h5><p>安装完成后，输入ssr help可以查看详细的命令列表。</p>
<h6 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install aptitude &amp;&amp; sudo aptitude full-upgrade &amp;&amp; sudo reboot</span><br><span class="line">sudo aptitude install git</span><br><span class="line">sudo aptitude install python-pip</span><br><span class="line">sudo aptitude install curl libcurl3 libcurl3-dev php5-curl</span><br><span class="line">curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -</span><br><span class="line">echo &quot;deb https://dl.yarnpkg.com/debian/ stable main&quot; | sudo tee /etc/apt/sources.list.d/yarn.list</span><br><span class="line">sudo aptitude full-upgrade &amp;&amp; sudo apt-get install yarn</span><br><span class="line">sudo yarn global add ssr-helper</span><br><span class="line">sudo aptitude full-upgrade</span><br><span class="line">cd ~</span><br><span class="line">sudo git clone -b manyuser https://github.com/shadowsocksr-backup/shadowsocksr.git</span><br><span class="line">ssr config ~/shadowsocksr</span><br></pre></td></tr></table></figure>

<h6 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install aptitude &amp;&amp; sudo aptitude full-upgrade &amp;&amp; sudo reboot</span><br><span class="line">sudo aptitude install git</span><br><span class="line">sudo aptitude install npm</span><br><span class="line">sudo aptitude install python-pip</span><br><span class="line">sudo npm install -g ssr-helper</span><br><span class="line">sudo aptitude full-upgrade</span><br><span class="line">cd ~</span><br><span class="line">sudo git clone -b manyuser https://github.com/shadowsocksr-backup/shadowsocksr.git</span><br><span class="line">ssr config ~/shadowsocksr</span><br></pre></td></tr></table></figure>

<h3 id="V2Ray-3"><a href="#V2Ray-3" class="headerlink" title="V2Ray"></a>V2Ray</h3><h4 id="安装-3"><a href="#安装-3" class="headerlink" title="安装"></a>安装</h4><h5 id="官方安装"><a href="#官方安装" class="headerlink" title="官方安装"></a>官方安装</h5><p>连接到VPS后，通过以下命令查看&#x2F;修改时间。V2Ray要求时间准确，但时区会自动调整。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 查看时间</span><br><span class="line"># 输出示例Sun, 22 Jan 2017 10:10:36 -0500，其中-0500为西五区</span><br><span class="line">date -R</span><br><span class="line"></span><br><span class="line"># 修改时间</span><br><span class="line">sudo date --set=&quot;2017-01-22 16:16:23&quot;</span><br></pre></td></tr></table></figure>

<p>输入<code>su</code>切换到root用户后，输入以下命令以安装curl。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># Debian/Ubuntu</span><br><span class="line">apt update</span><br><span class="line">apt install curl</span><br><span class="line"></span><br><span class="line"># CentOS/RedHat</span><br><span class="line">yum makecache</span><br><span class="line">yum install curl</span><br><span class="line"></span><br><span class="line"># Fedora</span><br><span class="line">dnf makecache</span><br><span class="line">dnf install curl</span><br><span class="line"></span><br><span class="line"># openSUSE/SUSE</span><br><span class="line">zypper refresh</span><br><span class="line">zypper install curl</span><br></pre></td></tr></table></figure>

<p>然后输入以下命令进行安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh</span><br><span class="line">bash install-release.sh</span><br></pre></td></tr></table></figure>

<p>安装完成后输入以下命令设置开机自启，并现在启动V2Ray。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable v2ray</span><br><span class="line">systemctl start v2ray</span><br></pre></td></tr></table></figure>

<p>重新执行以下命令即可更新V2Ray。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-release.sh</span><br></pre></td></tr></table></figure>

<p>可通过以下命令查看脚本使用方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-release.sh -h</span><br></pre></td></tr></table></figure>

<h5 id="一键安装脚本-4"><a href="#一键安装脚本-4" class="headerlink" title="一键安装脚本"></a>一键安装脚本</h5><h6 id="脚本一-1"><a href="#脚本一-1" class="headerlink" title="脚本一"></a>脚本一</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 安装</span><br><span class="line">source &lt;(curl -sL https://multi.netlify.app/v2ray.sh) --zh</span><br><span class="line"></span><br><span class="line"># 升级</span><br><span class="line">source &lt;(curl -sL https://multi.netlify.app/v2ray.sh) -k</span><br><span class="line"></span><br><span class="line"># 卸载</span><br><span class="line">source &lt;(curl -sL https://multi.netlify.app/v2ray.sh) --remove</span><br></pre></td></tr></table></figure>

<h6 id="脚本二-1"><a href="#脚本二-1" class="headerlink" title="脚本二"></a>脚本二</h6><p>一键部署WebSocket+Tls+Nginx+Web。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate -q -O install.sh &quot;https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh&quot; &amp;&amp; chmod +x install.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></table></figure>

<h6 id="V2ray-Fun"><a href="#V2ray-Fun" class="headerlink" title="V2ray.Fun"></a>V2ray.Fun</h6><p>V2ray控制脚本。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/v2ray-fun/v2ray.fun</span><br><span class="line">https://github.com/FunctionClub/V2ray.Fun</span><br></pre></td></tr></table></figure>

<h4 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h4><p>V2Ray通过config.json配置设置。可通过以下命令检查配置文件是否正确。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/v2ray/v2ray -test -config /etc/v2ray/config.json</span><br></pre></td></tr></table></figure>

<h5 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h5><p>仅列出重要的部分。</p>
<h6 id="VMess"><a href="#VMess" class="headerlink" title="VMess"></a>VMess</h6><p>客户端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&quot;outbounds&quot;: [</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;protocol&quot;: &quot;vmess&quot;, // 出口协议</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">      &quot;vnext&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;address&quot;: &quot;serveraddr.com&quot;, // 服务器地址，请修改为你自己的服务器 IP 或域名</span><br><span class="line">          &quot;port&quot;: 16823,  // 服务器端口</span><br><span class="line">          &quot;users&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;id&quot;: &quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;,  // 用户 ID，必须与服务器端配置相同</span><br><span class="line">              &quot;alterId&quot;: 64 // 此处的值也应当与服务器相同</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>服务端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&quot;inbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;port&quot;: 16823, // 服务器监听端口</span><br><span class="line">      &quot;protocol&quot;: &quot;vmess&quot;,    // 主传入协议</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;clients&quot;: [</span><br><span class="line">          &#123;</span><br><span class="line">            &quot;id&quot;: &quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;,  // 用户 ID，客户端与服务器必须相同</span><br><span class="line">            &quot;alterId&quot;: 64</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>

<h6 id="Shadowsocks-7"><a href="#Shadowsocks-7" class="headerlink" title="Shadowsocks"></a>Shadowsocks</h6><p>客户端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&quot;outbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;protocol&quot;: &quot;shadowsocks&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;servers&quot;: [</span><br><span class="line">          &#123;</span><br><span class="line">            &quot;address&quot;: &quot;serveraddr.com&quot;, // Shadowsocks 的服务器地址</span><br><span class="line">            &quot;method&quot;: &quot;aes-128-gcm&quot;, // Shadowsocks 的加密方式</span><br><span class="line">            &quot;ota&quot;: true, // 是否开启 OTA，true 为开启</span><br><span class="line">            &quot;password&quot;: &quot;sspasswd&quot;, // Shadowsocks 的密码</span><br><span class="line">            &quot;port&quot;: 1024  </span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>

<p>服务端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&quot;inbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;port&quot;: 1024, // 监听端口</span><br><span class="line">      &quot;protocol&quot;: &quot;shadowsocks&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;method&quot;: &quot;aes-128-gcm&quot;,</span><br><span class="line">        &quot;ota&quot;: true, // 是否开启 OTA</span><br><span class="line">        &quot;password&quot;: &quot;sspasswd&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>

<h6 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h6><p>客户端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&quot;outbounds&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;protocol&quot;: &quot;http&quot;,</span><br><span class="line">        &quot;settings&quot;: &#123;</span><br><span class="line">          &quot;servers&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;address&quot;: &quot;192.168.108.1&quot;,//服务器IP</span><br><span class="line">              &quot;port&quot;: 1024,//服务器端口</span><br><span class="line">              &quot;users&quot;: [</span><br><span class="line">                &#123;</span><br><span class="line">                  &quot;Username&quot;: &quot;my-username&quot;,//将my-username改为你的用户名.</span><br><span class="line">                  &quot;Password&quot;: &quot;my-password&quot; //将my-password改为你的密码</span><br><span class="line">                &#125;</span><br><span class="line">              ] </span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;streamSettings&quot;: &#123;</span><br><span class="line">          &quot;security&quot;: &quot;none&quot;, //如果是HTTPS代理,需要將none改為tls</span><br><span class="line">          &quot;tlsSettings&quot;: &#123;</span><br><span class="line">            &quot;allowInsecure&quot;: false</span><br><span class="line">            //检测证书有效性</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>

<p>服务端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&quot;inbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;port&quot;: 1024, // 监听端口</span><br><span class="line">      &quot;protocol&quot;: &quot;http&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;timeout:&quot;:0,</span><br><span class="line">        &quot;accounts&quot;:[</span><br><span class="line">          &#123;</span><br><span class="line">            &quot;user&quot;:&quot;my-username&quot;,</span><br><span class="line">            &quot;pass&quot;:&quot;my-password&quot;</span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;allowTransparent&quot;:false,</span><br><span class="line">        &quot;userLevel&quot;:0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>

<h5 id="Mux"><a href="#Mux" class="headerlink" title="Mux"></a>Mux</h5><p>多路复用，仅需配置客户端。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;outbounds&quot;: [</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;mux&quot;: &#123;&quot;enabled&quot;: true&#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h5 id="mKCP"><a href="#mKCP" class="headerlink" title="mKCP"></a>mKCP</h5><p>再高丢包率网络下可开启该功能。注意会造成更多流量消耗。</p>
<p>服务端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&quot;inbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      ...</span><br><span class="line">      &quot;streamSettings&quot;: &#123;</span><br><span class="line">        &quot;network&quot;: &quot;mkcp&quot;, //此处的 mkcp 也可写成 kcp，两种写法是起同样的效果</span><br><span class="line">        &quot;kcpSettings&quot;: &#123;</span><br><span class="line">          &quot;uplinkCapacity&quot;: 5, // 上行链路容量（单位MB）</span><br><span class="line">          &quot;downlinkCapacity&quot;: 100, // 下行链路容量（单位MB）</span><br><span class="line">          &quot;congestion&quot;: true,</span><br><span class="line">          &quot;header&quot;: &#123;</span><br><span class="line">            &quot;type&quot;: &quot;none&quot; // 数据包伪装（客户端与服务器要一致）</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>

<p>客户端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&quot;outbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      ...</span><br><span class="line">      &quot;streamSettings&quot;: &#123;</span><br><span class="line">        &quot;network&quot;: &quot;mkcp&quot;,</span><br><span class="line">        &quot;kcpSettings&quot;: &#123;</span><br><span class="line">          &quot;uplinkCapacity&quot;: 5,</span><br><span class="line">          &quot;downlinkCapacity&quot;: 100,</span><br><span class="line">          &quot;congestion&quot;: true,</span><br><span class="line">          &quot;header&quot;: &#123;</span><br><span class="line">            &quot;type&quot;: &quot;none&quot;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>

<h5 id="动态端口"><a href="#动态端口" class="headerlink" title="动态端口"></a>动态端口</h5><p>仅适用于vmess。</p>
<p>服务端配置如下。客户端不用额外设定，客户端会先与服务器的主端口通信协商下一个使用的端口号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&quot;inbounds&quot;:[</span><br><span class="line">  &#123; //主端口配置</span><br><span class="line">      &quot;port&quot;: 37192,</span><br><span class="line">      &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;clients&quot;: [</span><br><span class="line">          &#123;</span><br><span class="line">            &quot;id&quot;: &quot;d17a1af7-efa5-42ca-b7e9-6a35282d737f&quot;,</span><br><span class="line">            &quot;alterId&quot;: 64</span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;detour&quot;: &#123; //绕行配置，即指示客户端使用 dynamicPort 的配置通信</span><br><span class="line">          &quot;to&quot;: &quot;dynamicPort&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">      &quot;port&quot;: &quot;10000-20000&quot;, // 端口范围</span><br><span class="line">      &quot;tag&quot;: &quot;dynamicPort&quot;,  // 与上面的 detour to 相同</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;default&quot;: &#123;</span><br><span class="line">          &quot;alterId&quot;: 64</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;allocate&quot;: &#123;            // 分配模式</span><br><span class="line">        &quot;strategy&quot;: &quot;random&quot;,  // 随机开启</span><br><span class="line">        &quot;concurrency&quot;: 2,      // 同时开放两个端口,这个值最大不能超过端口范围的 1/3</span><br><span class="line">        &quot;refresh&quot;: 3           // 每三分钟刷新一次</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>

<h5 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h5><p>服务端与客户端配置一致。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;log&quot;: &#123;</span><br><span class="line">    &quot;loglevel&quot;: &quot;warning&quot;,</span><br><span class="line">    &quot;access&quot;: &quot;/var/log/v2ray/access.log&quot;,</span><br><span class="line">    &quot;error&quot;: &quot;/var/log/v2ray/error.log&quot;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>loglevel为日志级别，由详细到简略分别为debug、info、warning、error、none。若不填写access和error，则日志会输出到命令行中。</p>
<h5 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h5><h6 id="基本逻辑"><a href="#基本逻辑" class="headerlink" title="基本逻辑"></a>基本逻辑</h6><p>路由主要是配置protocol。</p>
<p>以客户端outbounds的protocol为例，若为vmess则走翻墙，若为freedom则走直连，若为blackhole则阻止。示例如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&quot;outbounds&quot;: [ </span><br><span class="line">  &#123;</span><br><span class="line">    &quot;protocol&quot;: &quot;vmess&quot;, // 出口协议</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">      &quot;vnext&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;address&quot;: &quot;serveraddr.com&quot;, // 服务器 IP 地址</span><br><span class="line">          &quot;port&quot;: 16823,  // 服务器端口</span><br><span class="line">          &quot;users&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;id&quot;: &quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;,  // 用户 ID，须与服务器端配置相同</span><br><span class="line">              &quot;alterId&quot;: 64</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;protocol&quot;: &quot;freedom&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;protocol&quot;: &quot;blackhole&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>在包含多个出口协议的情况下，只会以outbounds中的第一个出口作为默认的出口。</p>
<h6 id="域名文件"><a href="#域名文件" class="headerlink" title="域名文件"></a>域名文件</h6><p>V2Ray内置有geosite.dat，该文件中包含常用的网站域名。</p>
<p>指定国内网站走直连的写法如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">    &quot;outboundTag&quot;: &quot;direct&quot;,</span><br><span class="line">    &quot;domain&quot;: [</span><br><span class="line">        &quot;geosite:cn&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也可使用外置域名文件。可下载h2y.dat到V2Ray客户端运行目录，链接如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/ToutyRater/V2Ray-SiteDAT/tree/master/geofiles</span><br></pre></td></tr></table></figure>

<p>写法如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&quot;rules&quot;:[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">        &quot;outboundTag&quot;: &quot;block&quot;, //拦截广告相关域名</span><br><span class="line">        &quot;domain&quot;: [</span><br><span class="line">            &quot;ext:h2y.dat:ad&quot;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">        &quot;outboundTag&quot;: &quot;proxy&quot;, //被 gfw 屏蔽的域名走代理</span><br><span class="line">        &quot;domain&quot;: [</span><br><span class="line">            &quot;ext:h2y.dat:gfw&quot;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">        &quot;network&quot;:&quot;tcp,udp&quot;,</span><br><span class="line">        &quot;outboundTag&quot;: &quot;direct&quot; // 默认直连</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h6 id="禁用BT"><a href="#禁用BT" class="headerlink" title="禁用BT"></a>禁用BT</h6><p>服务端配置如下。此配置阻断被转发到服务器的BitTorrent连接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&quot;inbounds&quot;: [</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;sniffing&quot;: &#123;</span><br><span class="line">      &quot;enabled&quot;: true,</span><br><span class="line">      &quot;destOverride&quot;: [</span><br><span class="line">        &quot;http&quot;,</span><br><span class="line">        &quot;tls&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">],</span><br><span class="line">&quot;outbounds&quot;: [</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;protocol&quot;: &quot;freedom&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;protocol&quot;: &quot;blackhole&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;&#125;,</span><br><span class="line">    &quot;tag&quot;: &quot;block&quot;</span><br><span class="line">  &#125;</span><br><span class="line">],</span><br><span class="line">&quot;routing&quot;: &#123;</span><br><span class="line">  &quot;domainStrategy&quot;: &quot;AsIs&quot;,</span><br><span class="line">  &quot;rules&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">      &quot;outboundTag&quot;: &quot;block&quot;,</span><br><span class="line">      &quot;protocol&quot;: [</span><br><span class="line">        &quot;bittorrent&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>客户端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&quot;outbounds&quot;: [</span><br><span class="line">  ...</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;protocol&quot;: &quot;freedom&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;&#125;,</span><br><span class="line">    &quot;tag&quot;: &quot;direct&quot;</span><br><span class="line">  &#125;</span><br><span class="line">],</span><br><span class="line">&quot;routing&quot;: &#123;</span><br><span class="line">  &quot;domainStrategy&quot;: &quot;AsIs&quot;,</span><br><span class="line">  &quot;rules&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">      &quot;outboundTag&quot;: &quot;direct&quot;,</span><br><span class="line">      &quot;protocol&quot;: [</span><br><span class="line">        &quot;bittorrent&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="中转"><a href="#中转" class="headerlink" title="中转"></a>中转</h5><p>V2Ray的中转功能可以将特定流量转发到另一台服务器上。假设在服务器1上配置了至服务器2的中转，则流量走向如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">本机-服务器1-服务器2-互联网</span><br></pre></td></tr></table></figure>

<p>本功能可用于解锁Netflix。若已有一台可观看Netflix的服务器1，希望使服务器2也能观看Netflix，则可以在服务器2上进行配置，主要是指定普通流量直接走服务器1本身，而Netflix流量走服务器2。</p>
<p>在服务器2安装好V2Ray后，从服务器2下载&#x2F;etc&#x2F;v2ray&#x2F;config.json到本地，打开并进行如下修改。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  &quot;inbounds&quot;:[</span><br><span class="line">    ...</span><br><span class="line">    &quot;sniffing&quot;: &#123;</span><br><span class="line">        &quot;enabled&quot;: true, // 一定要开启sniffing，V2Ray才能识别Netflix的流量</span><br><span class="line">        &quot;destOverride&quot;: [&quot;http&quot;, &quot;tls&quot;]</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">  ],</span><br><span class="line">  &quot;outbounds&quot;: [</span><br><span class="line">    ...</span><br><span class="line">    &#123;</span><br><span class="line">      ...</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;tag&quot;: &quot;VPS1&quot;,</span><br><span class="line"></span><br><span class="line">      // 填写可观看Netflix的VPS信息，可通过V2RayN的导出服务器配置得到，示例如下</span><br><span class="line">      &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;vnext&quot;: [</span><br><span class="line">          &#123;</span><br><span class="line">            &quot;address&quot;: &quot;example.com&quot;,</span><br><span class="line">            &quot;port&quot;: 443,</span><br><span class="line">            &quot;users&quot;: [</span><br><span class="line">              &#123;</span><br><span class="line">                &quot;id&quot;: &quot;abcd1234-1234-1234-1234-abcd12345678&quot;,</span><br><span class="line">                &quot;alterId&quot;: 0,</span><br><span class="line">                &quot;email&quot;: &quot;t@t.tt&quot;,</span><br><span class="line">                &quot;security&quot;: &quot;auto&quot;</span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;servers&quot;: null,</span><br><span class="line">        &quot;response&quot;: null</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;streamSettings&quot;: &#123;</span><br><span class="line">        &quot;network&quot;: &quot;ws&quot;,</span><br><span class="line">        &quot;security&quot;: &quot;tls&quot;,</span><br><span class="line">        &quot;tlsSettings&quot;: &#123;</span><br><span class="line">          &quot;allowInsecure&quot;: true,</span><br><span class="line">          &quot;serverName&quot;: null</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;tcpSettings&quot;: null,</span><br><span class="line">        &quot;kcpSettings&quot;: null,</span><br><span class="line">        &quot;wsSettings&quot;: &#123;</span><br><span class="line">          &quot;connectionReuse&quot;: true,</span><br><span class="line">          &quot;path&quot;: &quot;/&quot;,</span><br><span class="line">          &quot;headers&quot;: null</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;httpSettings&quot;: null,</span><br><span class="line">        &quot;quicSettings&quot;: null</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;mux&quot;: &#123;</span><br><span class="line">        &quot;enabled&quot;: true,</span><br><span class="line">        &quot;concurrency&quot;: 8</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //include_out_config</span><br><span class="line">    //</span><br><span class="line">  ],</span><br><span class="line">  &quot;routing&quot;: &#123;</span><br><span class="line">    &quot;domainStrategy&quot;: &quot;IPOnDemand&quot;, </span><br><span class="line">    &quot;rules&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">            &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">            &quot;outboundTag&quot;: &quot;VPS1&quot;,</span><br><span class="line">            &quot;domain&quot;: [</span><br><span class="line">              &quot;geosite:netflix&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        ...</span><br><span class="line">      &#125;,</span><br><span class="line">      ...</span><br><span class="line">      //include_ban_ad</span><br><span class="line">      //include_rules</span><br><span class="line">      //</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改完成后将新文件上传到服务器2以覆盖原配置文件，并重启V2Ray即可。</p>
<h5 id="代理转发"><a href="#代理转发" class="headerlink" title="代理转发"></a>代理转发</h5><p>代理转发的作用与中转基本一致，主要适用于服务器1和服务器2都无法修改配置的情况。通过直接修改客户端的配置，可以让客户端以服务器2为跳板，将Netflix的流量转发至服务器1。</p>
<p>注意，代理转发会使streamSettings失效。客户端配置文件示例如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;inbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;port&quot;: 1080, </span><br><span class="line">      &quot;protocol&quot;: &quot;socks&quot;, </span><br><span class="line">      &quot;sniffing&quot;: &#123;</span><br><span class="line">        &quot;enabled&quot;: true, // 一定要开启sniffing，V2Ray才能识别Netflix的流量</span><br><span class="line">        &quot;destOverride&quot;: [&quot;http&quot;, &quot;tls&quot;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;auth&quot;: &quot;noauth&quot;  </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;outbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      // 服务器1的配置，可通过V2RayN的导出服务器配置得到，示例如下</span><br><span class="line">      &quot;tag&quot;: &quot;VPS1&quot;</span><br><span class="line">      &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;vnext&quot;: [&#123;</span><br><span class="line">          &quot;address&quot;: &quot;1.2.3.4&quot;, </span><br><span class="line">          &quot;port&quot;: 10086,</span><br><span class="line">          &quot;users&quot;: [&#123;</span><br><span class="line">            &quot;id&quot;: &quot;23ad6b10-8d1a-40f7-8ad0-e3e35cd38297&quot;,</span><br><span class="line">            &quot;security&quot;: &quot;auto&quot;,</span><br><span class="line">            &quot;alterId&quot;: 64</span><br><span class="line">          &#125;]</span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;proxySettings&quot;: &#123;</span><br><span class="line">        &quot;tag&quot;: &quot;VPS2&quot;  // 表示VPS1的流量由VPS2转发</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      // 服务器2的配置，可通过V2RayN的导出服务器配置得到，示例如下</span><br><span class="line">      &quot;tag&quot;: &quot;VPS2&quot;</span><br><span class="line">      &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;vnext&quot;: [&#123;</span><br><span class="line">          &quot;address&quot;: &quot;2.2.3.5&quot;, </span><br><span class="line">          &quot;port&quot;: 16823,</span><br><span class="line">          &quot;users&quot;: [&#123;</span><br><span class="line">            &quot;id&quot;: &quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;,</span><br><span class="line">            &quot;security&quot;: &quot;auto&quot;,</span><br><span class="line">            &quot;alterId&quot;: 64</span><br><span class="line">          &#125;]</span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;tag&quot;: &quot;direct&quot;,</span><br><span class="line">      &quot;protocol&quot;: &quot;freedom&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;routing&quot;: &#123;</span><br><span class="line">    &quot;rules&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">        &quot;outboundTag&quot;: &quot;direct&quot;,</span><br><span class="line">        &quot;domain&quot;: [&quot;geosite:cn&quot;] // 国内直连（本机-互联网）</span><br><span class="line">      &#125;,    </span><br><span class="line">      &#123;</span><br><span class="line">        &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">        &quot;outboundTag&quot;: &quot;VPS1&quot;,</span><br><span class="line">        &quot;domain&quot;: [&quot;geosite:netflix&quot;] // Netflix走VPS1（本机-VPS2-VPS1-互联网）</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">        &quot;outboundTag&quot;: &quot;VPS2&quot;,</span><br><span class="line">        &quot;network&quot;: &quot;udp,tcp&quot; // 其余走VPS2（本机-VPS2-互联网）</span><br><span class="line">      &#125;  </span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>代理转发可以配置为链式，示例如下。转发路径为PC-AliHK-AliSG-DOSG-DOUS-目标网站。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;outbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      ...</span><br><span class="line">      &quot;tag&quot;: &quot;AliHK&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      ...</span><br><span class="line">      &quot;tag&quot;: &quot;AliSG&quot;,</span><br><span class="line">      &quot;proxySettings&quot;: &#123;</span><br><span class="line">          &quot;tag&quot;: &quot;AliHK&quot;  </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      ...</span><br><span class="line">      &quot;tag&quot;: &quot;DOSG&quot;,</span><br><span class="line">      &quot;proxySettings&quot;: &#123;</span><br><span class="line">          &quot;tag&quot;: &quot;AliSG&quot;  </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      ...</span><br><span class="line">      &quot;tag&quot;: &quot;DOUS&quot;,</span><br><span class="line">      &quot;proxySettings&quot;: &#123;</span><br><span class="line">          &quot;tag&quot;: &quot;DOSG&quot;  </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="HTTP伪装"><a href="#HTTP伪装" class="headerlink" title="HTTP伪装"></a>HTTP伪装</h5><p>将V2Ray的流量伪装成正常的HTTP协议。</p>
<p>服务器配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&quot;inbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      ...</span><br><span class="line">      &quot;streamSettings&quot;: &#123;</span><br><span class="line">        &quot;network&quot;: &quot;tcp&quot;,</span><br><span class="line">        &quot;tcpSettings&quot;: &#123;</span><br><span class="line">          &quot;header&quot;: &#123; // header 这一项是关于数据包伪装的设置，可自定义合理的内容，但要确保服务器与客户端一致</span><br><span class="line">            &quot;type&quot;: &quot;http&quot;,</span><br><span class="line">            &quot;response&quot;: &#123;</span><br><span class="line">              &quot;version&quot;: &quot;1.1&quot;,</span><br><span class="line">              &quot;status&quot;: &quot;200&quot;,</span><br><span class="line">              &quot;reason&quot;: &quot;OK&quot;,</span><br><span class="line">              &quot;headers&quot;: &#123;</span><br><span class="line">                &quot;Content-Type&quot;: [&quot;application/octet-stream&quot;, &quot;application/x-msdownload&quot;, &quot;text/html&quot;, &quot;application/x-shockwave-flash&quot;],</span><br><span class="line">                &quot;Transfer-Encoding&quot;: [&quot;chunked&quot;],</span><br><span class="line">                &quot;Connection&quot;: [&quot;keep-alive&quot;],</span><br><span class="line">                &quot;Pragma&quot;: &quot;no-cache&quot;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>

<p>客户端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&quot;outbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      ...</span><br><span class="line">      &quot;streamSettings&quot;: &#123;</span><br><span class="line">        &quot;network&quot;: &quot;tcp&quot;,</span><br><span class="line">        &quot;tcpSettings&quot;: &#123;</span><br><span class="line">          &quot;header&quot;: &#123;  //这里的 header 要与服务器保持一致</span><br><span class="line">            &quot;type&quot;: &quot;http&quot;,</span><br><span class="line">            &quot;request&quot;: &#123;</span><br><span class="line">              &quot;version&quot;: &quot;1.1&quot;,</span><br><span class="line">              &quot;method&quot;: &quot;GET&quot;,</span><br><span class="line">              &quot;path&quot;: [&quot;/&quot;],</span><br><span class="line">              &quot;headers&quot;: &#123;</span><br><span class="line">                &quot;Host&quot;: [&quot;www.cloudflare.com&quot;, &quot;www.amazon.com&quot;],</span><br><span class="line">                &quot;User-Agent&quot;: [</span><br><span class="line">                  &quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.75 Safari/537.36&quot;,</span><br><span class="line">                          &quot;Mozilla/5.0 (iPhone; CPU iPhone OS 10_0_2 like Mac OS X) AppleWebKit/601.1 (KHTML, like Gecko) CriOS/53.0.2785.109 Mobile/14A456 Safari/601.1.46&quot;</span><br><span class="line">                ],</span><br><span class="line">                &quot;Accept-Encoding&quot;: [&quot;gzip, deflate&quot;],</span><br><span class="line">                &quot;Connection&quot;: [&quot;keep-alive&quot;],</span><br><span class="line">                &quot;Pragma&quot;: &quot;no-cache&quot;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;protocol&quot;: &quot;freedom&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;&#125;,</span><br><span class="line">      &quot;tag&quot;: &quot;direct&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br></pre></td></tr></table></figure>

<h5 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h5><p>客户端配置如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  &quot;inbounds&quot;: [</span><br><span class="line">    ...</span><br><span class="line">  ],</span><br><span class="line">  &quot;outbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;tag&quot;: &quot;us1&quot;,</span><br><span class="line">      ...</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;tag&quot;: &quot;jp1&quot;,</span><br><span class="line">      ...</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;tag&quot;: &quot;jp2&quot;,</span><br><span class="line">      ...</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;tag&quot;: &quot;hk1&quot;,</span><br><span class="line">      ...</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;tag&quot;: &quot;direct&quot;,</span><br><span class="line">      ...</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;routing&quot;: &#123;</span><br><span class="line">    &quot;domainStrategy&quot;: &quot;IPOnDemand&quot;,</span><br><span class="line">    &quot;balancers&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;tag&quot;: &quot;b1&quot;,</span><br><span class="line">        &quot;selector&quot;: [</span><br><span class="line">          &quot;jp1&quot;,</span><br><span class="line">          &quot;jp2&quot;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;tag&quot;: &quot;b2&quot;,</span><br><span class="line">        &quot;selector&quot;: [</span><br><span class="line">          &quot;us1&quot;,</span><br><span class="line">          &quot;hk1&quot;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;rules&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">        &quot;outboundTag&quot;: &quot;direct&quot;,</span><br><span class="line">        &quot;ip&quot;: [</span><br><span class="line">          &quot;geoip:private&quot;,</span><br><span class="line">          &quot;geoip:cn&quot;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">        &quot;outboundTag&quot;: &quot;direct&quot;,</span><br><span class="line">        &quot;domain&quot;: [</span><br><span class="line">          &quot;geosite:cn&quot;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">        &quot;network&quot;: &quot;tcp,udp&quot;,</span><br><span class="line">        &quot;balancerTag&quot;: &quot;b1&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="原理-3"><a href="#原理-3" class="headerlink" title="原理"></a>原理</h4><h5 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h5><p>客户端与服务端的配置文件都有入站协议inbounds和出站协议outbounds。其中inbounds是关于如何与上一个节点连接的配置，outbounds是关于如何与下一个节点连接的配置。</p>
<p>对于客户端，inbounds与浏览器连接，进行代理相关配置，outbounds为节点列表。</p>
<p>inbounds中的相关选项作用如下。</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>“sniffing”</td>
<td>从网络流量中识别出域名，以解决DNS污染、识别BT协议，对于IP流量可以应用域名路由规则</td>
</tr>
</tbody></table>
<p>对于服务端，inbounds为服务器相关设置，outbounds为可以转发的域名，一般为freedom，即所有流量都从本服务器发出。</p>
<p>inbounds中的相关选项作用如下。</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>alterId</td>
<td>加强防探测能力（理论上越大越好，但越大会约占内存，建议设为30-100）</td>
</tr>
</tbody></table>
<p>数据包流向如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;浏览器&#125;&lt;--(socks)--&gt;&#123;V2Ray客户端inbound&lt;-&gt;V2Ray客户端 outbound&#125;&lt;--(VMess)--&gt;&#123;V2Ray服务器inbound&lt;-&gt;V2Ray服务器outbound&#125;&lt;--(Freedom)--&gt;&#123;目标网站&#125;</span><br></pre></td></tr></table></figure>

<h5 id="WS-TLS"><a href="#WS-TLS" class="headerlink" title="WS+TLS"></a>WS+TLS</h5><p>在V2Ray的配置文件config.json中，采用WS+TLS的写法示例如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  &quot;inbounds&quot;:[</span><br><span class="line">    ...</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;port&quot;: 8089,</span><br><span class="line">      &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;clients&quot;: [&#123;</span><br><span class="line">          &quot;id&quot;: &quot;71880ee2-4d15-47da-87b2-xxxxxxxxxx&quot;,</span><br><span class="line">          &quot;alterId&quot;: 64</span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;streamSettings&quot;: &#123;</span><br><span class="line">        &quot;network&quot;: &quot;ws&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;sniffing&quot;: &#123;</span><br><span class="line">        &quot;enabled&quot;: true,</span><br><span class="line">        &quot;destOverride&quot;: [&quot;http&quot;, &quot;tls&quot;]</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">  ],</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中port所指定的端口用于将流量转发到指定域名。caddy实现该转发功能，通过以下命令可打开其配置文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/caddy/Caddyfile</span><br></pre></td></tr></table></figure>

<p>指定地址为127.0.0.1:8089即可，其中8089为上面的port。</p>
<h3 id="Brook"><a href="#Brook" class="headerlink" title="Brook"></a>Brook</h3><h4 id="安装-4"><a href="#安装-4" class="headerlink" title="安装"></a>安装</h4><h5 id="一键安装脚本-5"><a href="#一键安装脚本-5" class="headerlink" title="一键安装脚本"></a>一键安装脚本</h5><h5 id="脚本一-2"><a href="#脚本一-2" class="headerlink" title="脚本一"></a>脚本一</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/brook.sh &amp;&amp; chmod +x brook.sh &amp;&amp; bash brook.sh</span><br></pre></td></tr></table></figure>

<h5 id="脚本二-2"><a href="#脚本二-2" class="headerlink" title="脚本二"></a>脚本二</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://github.com/txthinking/brook/releases/download/v20200909/brook_linux_amd64 -o /usr/bin/brook</span><br><span class="line">chmod +x /usr/bin/brook</span><br><span class="line">// 启动brook并增加守护进程，端口设置为9999，密码设置为password</span><br><span class="line">setsid ./brook server -l :9999 -p password</span><br></pre></td></tr></table></figure>

<h3 id="Trojan-1"><a href="#Trojan-1" class="headerlink" title="Trojan"></a>Trojan</h3><h4 id="安装-5"><a href="#安装-5" class="headerlink" title="安装"></a>安装</h4><h5 id="一键安装脚本-6"><a href="#一键安装脚本-6" class="headerlink" title="一键安装脚本"></a>一键安装脚本</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/atrandys/trojan/master/trojan_mult.sh)&quot;</span><br></pre></td></tr></table></figure>

<h3 id="WireGuard-2"><a href="#WireGuard-2" class="headerlink" title="WireGuard"></a>WireGuard</h3><p>WireGuard使用UDP。</p>
<h4 id="安装-6"><a href="#安装-6" class="headerlink" title="安装"></a>安装</h4><h5 id="一键安装脚本-7"><a href="#一键安装脚本-7" class="headerlink" title="一键安装脚本"></a>一键安装脚本</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://raw.githubusercontent.com/atrandys/wireguard/master/wg_mult.sh &amp;&amp; chmod +x wg_mult.sh &amp;&amp; ./wg_mult.sh</span><br></pre></td></tr></table></figure>

<p>安装完成后需要下载&#x2F;etc&#x2F;wireguard&#x2F;client.conf到本地。可通过以下命令直接打开该文件，然后复制文本内容至本地。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/wireguard/client.conf</span><br></pre></td></tr></table></figure>

<p>也可通过以下命令下载文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install lrzsz</span><br><span class="line">sz /etc/wireguard/client.conf</span><br></pre></td></tr></table></figure>

<p>使用客户端时配置文件选择刚才下载的conf即可。</p>
<h3 id="ZeroTier"><a href="#ZeroTier" class="headerlink" title="ZeroTier"></a>ZeroTier</h3><p>通过ZeroTier，可将服务器IP与客户端IP置于同一个内网，从而达到翻墙的目的。</p>
<p>服务器需要提前安装好Ubuntu。以非root身份登录服务器，并输入以下命令以安装Zerotier。脚本完成后记录输出中方括号内的ZeroTier地址。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -s &#x27;https://pgp.mit.edu/pks/lookup?op=get&amp;search=0x1657198823E52A61&#x27; | gpg --import &amp;&amp; if z=$(curl -s &#x27;https://install.zerotier.com/&#x27; | gpg); then echo &quot;$z&quot; | sudo bash; fi</span><br></pre></td></tr></table></figure>

<p>然后输入以下命令判断是否已经启用Linux内核数据转发，输出<code>net.ipv4.ip_forward = 0</code>为未启用，输出<code>net.ipv4.ip_forward = 1</code>为已启用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl net.ipv4.ip_forward</span><br></pre></td></tr></table></figure>

<p>若未启用，则输入以下命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/sysctl.conf</span><br></pre></td></tr></table></figure>

<p>在文件底部增加以下行，然后按Esc后输入<code>:wq</code>退出。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.ip_forward = 1</span><br></pre></td></tr></table></figure>

<p>输入以下命令以触发新的内核配置即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -p</span><br></pre></td></tr></table></figure>

<p>输入以下命令以显示网络接口的名称。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ip link show</span><br><span class="line"># 或ip addr</span><br></pre></td></tr></table></figure>

<p>示例如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000</span><br><span class="line">    link/ether 72:2d:7e:6f:5e:08 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">3: zt0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 2800 qdisc pfifo_fast state UNKNOWN mode DEFAULT group default qlen 1000</span><br><span class="line">    link/ether be:82:8f:f3:b4:cd brd ff:ff:ff:ff:ff:ff</span><br></pre></td></tr></table></figure>

<p>输入以下命令以添加规则，并允许服务器的网卡eth0转发所有ZeroTier虚拟网卡zt0的流量。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE</span><br><span class="line">sudo iptables -A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT</span><br><span class="line">sudo iptables -A FORWARD -i zt0 -o eth0 -j ACCEPT</span><br></pre></td></tr></table></figure>

<p>因为iptables规则会在服务器重启后丢失，因此需要输入以下命令安装iptables-persistent并保存添加的规则。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install iptables-persistent</span><br><span class="line">sudo netfilter-persistent save</span><br></pre></td></tr></table></figure>

<p>运行时会有提示，分别保存IPv4和IPv6的规则。需根据服务器是否提供该类地址而选择是否保存，若只有IPV4地址，则只保存IPV4规则即可，无需保存IPV6规则。</p>
<p>通过以下命令查看已保存的规则。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo iptables-save</span><br></pre></td></tr></table></figure>

<p>输出的规则内容如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># Generated by iptables-save v1.6.1 on Thu May 24 08:39:37 2018</span><br><span class="line">*nat</span><br><span class="line">:PREROUTING ACCEPT [256:29654]</span><br><span class="line">:INPUT ACCEPT [230:28276]</span><br><span class="line">:OUTPUT ACCEPT [2812:383290]</span><br><span class="line">:POSTROUTING ACCEPT [2220:333986]</span><br><span class="line">-A POSTROUTING -o eth0 -j MASQUERADE</span><br><span class="line">-A POSTROUTING -o eth0 -j MASQUERADE</span><br><span class="line">COMMIT</span><br><span class="line"># Completed on Thu May 24 08:39:37 2018</span><br><span class="line"># Generated by iptables-save v1.6.1 on Thu May 24 08:39:37 2018</span><br><span class="line">*filter</span><br><span class="line">:INPUT ACCEPT [39673:10536131]</span><br><span class="line">:FORWARD ACCEPT [0:0]</span><br><span class="line">:OUTPUT ACCEPT [41822:10787996]</span><br><span class="line">:sshguard - [0:0]</span><br><span class="line">-A INPUT -j sshguard</span><br><span class="line">-A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT</span><br><span class="line">-A FORWARD -i zt0 -o eth0 -j ACCEPT</span><br><span class="line">COMMIT</span><br><span class="line"># Completed on Thu May 24 08:39:37 2018</span><br></pre></td></tr></table></figure>

<p>上述内容表示已保存转发规则，可以转发来自客户端的流量。</p>
<p>打开以下链接并注册，进入后台后点击Networks-Create，记录Network ID。保证Access Control为Certificate (Private Network)，IPv4 Auto-Assign需要勾选Auto-Assign from Range，下面的地址可以任意选择。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.zerotier.com/</span><br></pre></td></tr></table></figure>

<p>在服务器上输入以下命令以连接到网络，其中Network ID需要修改为刚才记下的值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zerotier-cli join [NetworkID]</span><br></pre></td></tr></table></figure>

<p>在客户端下载Zerotier客户端，链接如下。打开客户端并输入刚才记下的Network ID以连接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.zerotier.com/download/</span><br></pre></td></tr></table></figure>

<p>返回Zerotier后台，在Members下可看到服务端和客户端，勾选它们前面的<code>Auth?</code>选项，等待一段时间后分别在服务端和客户端输入以下命令以查看自己的IP地址。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip addr sh zt0 | grep &#x27;inet&#x27;</span><br></pre></td></tr></table></figure>

<p>在服务端和客户端分别ping对方的地址，查看是否已经联通。回到Zerotier后台，在Managed Routes一栏下分别填写0.0.0.0&#x2F;0和服务器的IP地址，表示由该服务器处理所有客户端的流量。</p>
<p>在客户端勾选Route all traffic through ZeroTier和allow global IP，即可使客户端的流量通过服务器。</p>
<h3 id="全平台快速搭建"><a href="#全平台快速搭建" class="headerlink" title="全平台快速搭建"></a>全平台快速搭建</h3><h4 id="Streisand"><a href="#Streisand" class="headerlink" title="Streisand"></a>Streisand</h4><p>在VPS上运行多个不同的翻墙工具。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/StreisandEffect/streisand/blob/master/README-chs.md</span><br></pre></td></tr></table></figure>

<h4 id="ProxySU"><a href="#ProxySU" class="headerlink" title="ProxySU"></a>ProxySU</h4><p>适用于Windows。打开以下链接以下载ProxySU。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/proxysu/ProxySU</span><br></pre></td></tr></table></figure>

<p>完成后在本地打开，按照流程进行即可。</p>
<h2 id="相关命令"><a href="#相关命令" class="headerlink" title="相关命令"></a>相关命令</h2><h3 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h3><p>适用于CentOS。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 查看防火墙状态</span><br><span class="line">firewall-cmd --state</span><br><span class="line"></span><br><span class="line">// 停止防火墙</span><br><span class="line">systemctl stop firewalld.service</span><br><span class="line"></span><br><span class="line">// 禁止防火墙开机启动</span><br><span class="line">systemctl disable firewalld.service</span><br></pre></td></tr></table></figure>

<h3 id="修改中国时区"><a href="#修改中国时区" class="headerlink" title="修改中国时区"></a>修改中国时区</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\cp -f /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure>

<h3 id="利用NTP同步时间协议"><a href="#利用NTP同步时间协议" class="headerlink" title="利用NTP同步时间协议"></a>利用NTP同步时间协议</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// CentOS</span><br><span class="line">yum install ntp ntpdate -y</span><br><span class="line">// Ubuntu/Debian</span><br><span class="line">apt-get install ntp ntpdate -y</span><br><span class="line"></span><br><span class="line">service ntpd stop</span><br><span class="line">ntpdate us.pool.ntp.org</span><br><span class="line">service ntpd start</span><br></pre></td></tr></table></figure>

<h3 id="提示curl-command-not-found"><a href="#提示curl-command-not-found" class="headerlink" title="提示curl: command not found"></a>提示curl: command not found</h3><p>未安装curl导致。通过以下命令安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// ubuntu/debian系统</span><br><span class="line">apt-get update -y &amp;&amp; apt-get install curl -y</span><br><span class="line"></span><br><span class="line">// centOS系统</span><br><span class="line">yum update -y &amp;&amp; yum install curl -y</span><br></pre></td></tr></table></figure>

<h3 id="提示wget-command-not-found"><a href="#提示wget-command-not-found" class="headerlink" title="提示wget: command not found"></a>提示wget: command not found</h3><p>未安装wget导致。通过以下命令安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// ubuntu/debian系统</span><br><span class="line">apt-get update -y &amp;&amp; apt-get install -y wget</span><br><span class="line"></span><br><span class="line">// centOS系统</span><br><span class="line">yum update -y &amp;&amp; yum install -y wget</span><br></pre></td></tr></table></figure>

<h1 id="服务器进阶"><a href="#服务器进阶" class="headerlink" title="服务器进阶"></a>服务器进阶</h1><h2 id="SSH连接-1"><a href="#SSH连接-1" class="headerlink" title="SSH连接"></a>SSH连接</h2><p>SSH可用于连接到服务器。</p>
<h3 id="连接方法"><a href="#连接方法" class="headerlink" title="连接方法"></a>连接方法</h3><h4 id="浏览器连接"><a href="#浏览器连接" class="headerlink" title="浏览器连接"></a>浏览器连接</h4><p>GCP默认方式。点击服务器的<code>SSH</code>按钮即自动建立与服务器的SSH连接。</p>
<h4 id="命令行连接"><a href="#命令行连接" class="headerlink" title="命令行连接"></a>命令行连接</h4><p>在终端输入以下命令即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p 22 root@localhost</span><br></pre></td></tr></table></figure>

<h4 id="手机APP连接"><a href="#手机APP连接" class="headerlink" title="手机APP连接"></a>手机APP连接</h4><p>推荐使用HyperApp。</p>
<h3 id="文件传输-1"><a href="#文件传输-1" class="headerlink" title="文件传输"></a>文件传输</h3><p>可通过scp命令向连接到的服务器传输文件，命令格式如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 上传文件到服务器</span><br><span class="line">scp [本地文件路径] remote_username@remote_ip:[服务器文件路径]</span><br><span class="line">// 上传文件夹到服务器</span><br><span class="line">scp -r [本地文件夹路径] remote_username@remote_ip:[服务器文件夹路径]</span><br></pre></td></tr></table></figure>

<p>下载文件或文件夹，则将后面参数对调即可。</p>
<h3 id="服务器配置"><a href="#服务器配置" class="headerlink" title="服务器配置"></a>服务器配置</h3><p>一般服务器会提供SSH连接的入口，包括地址、密码等，端口默认为22。但有部分服务器需要手动配置。</p>
<h4 id="Google-Cloud-Platform-1"><a href="#Google-Cloud-Platform-1" class="headerlink" title="Google Cloud Platform"></a>Google Cloud Platform</h4><p>通过浏览器进入服务器后台，输入以下命令以切换到root并编辑SSH配置文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br><span class="line">vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure>

<p>在配置文件中修改PermitRootLogin和PasswordAuthentication为yes，如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Authentication:</span><br><span class="line">PermitRootLogin yes //默认为no，需要开启root用户访问改为yes</span><br><span class="line"></span><br><span class="line"># Change to no to disable tunnelled clear text passwords</span><br><span class="line">PasswordAuthentication yes //默认为no，改为yes开启密码登陆</span><br></pre></td></tr></table></figure>

<p>保存后输入以下命令以给root用户设置密码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd root</span><br></pre></td></tr></table></figure>

<p>设置完成后输入以下命令重启SSH服务即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/ssh restart</span><br></pre></td></tr></table></figure>

<h2 id="运行代码"><a href="#运行代码" class="headerlink" title="运行代码"></a>运行代码</h2><h3 id="配置服务器运行环境"><a href="#配置服务器运行环境" class="headerlink" title="配置服务器运行环境"></a>配置服务器运行环境</h3><p>以运行Python代码为例。连接到服务器并取得root权限，运行以下命令以安装Python 3.7和pip。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install python3.7</span><br><span class="line">apt-get install pip</span><br></pre></td></tr></table></figure>

<p>通过pip安装代码运行所需要的库，如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install [库名]</span><br></pre></td></tr></table></figure>

<p>进入到用户目录并新建文件夹，作为代码存放的位置。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /home/[用户名]</span><br><span class="line">mkdir [文件夹名]</span><br></pre></td></tr></table></figure>

<h3 id="配置本地运行环境"><a href="#配置本地运行环境" class="headerlink" title="配置本地运行环境"></a>配置本地运行环境</h3><p>打开Pycharm Professional，新建工程后选择File-Settings，进入project interpreter，点击add，选择SSH interpreter。输入服务器信息后进行连接，连接完成后配置编译器路径为<code>/usr/bin/python3</code>。</p>
<p>保存后选择Tool-Deployment-Configuration，点击刚才新建的服务器，在Mappings标签页选择路径为在服务器端新建好的文件夹。保存后选择Upload即可。</p>
<h3 id="运行代码-1"><a href="#运行代码-1" class="headerlink" title="运行代码"></a>运行代码</h3><h4 id="通过Pycharm"><a href="#通过Pycharm" class="headerlink" title="通过Pycharm"></a>通过Pycharm</h4><p>运行前选择服务器端的编译器，运行即可。</p>
<h4 id="通过服务器自身"><a href="#通过服务器自身" class="headerlink" title="通过服务器自身"></a>通过服务器自身</h4><p>在需要运行的Python代码最前面加入以下代码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python3</span><br></pre></td></tr></table></figure>

<p>进入服务器命令行，切换到代码目录后通过以下命令使代码后台运行并将输出存到文件。此时可以关闭该SSH连接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup python3 -u [test.py] &gt; [test.log] 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>

<p>需要结束运行时，执行以下代码即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep python3</span><br><span class="line">kill [PID]</span><br></pre></td></tr></table></figure>

<p>也可通过pm2的方式。安装pm2管理器后运行以下命令即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pm2 start [test.py] --name [name]</span><br><span class="line">pm2 save</span><br><span class="line">pm2 startup</span><br></pre></td></tr></table></figure>

<p>结束运行的命令与上面一致。</p>
<h2 id="网盘文件下载"><a href="#网盘文件下载" class="headerlink" title="网盘文件下载"></a>网盘文件下载</h2><h3 id="Google-Drive"><a href="#Google-Drive" class="headerlink" title="Google Drive"></a>Google Drive</h3><h4 id="通过wget"><a href="#通过wget" class="headerlink" title="通过wget"></a>通过wget</h4><p>从Google Drive分享文件后获取其链接，示例如下。其中<code>1dt4SEYtvK_7LcFNaxKsldGCDd1SMbBlAFILEID</code>即为<code>FILEID</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://drive.google.com/file/d/1dt4SEYtvK_7LcFNaxKsldGCDd1SMbBlA/view?usp=sharing</span><br></pre></td></tr></table></figure>

<p>对于小文件采用以下命令，其中<code>FILENAME</code>自己命名即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate ‘https://docs.google.com/uc?export=download&amp;id=FILEID’ -O FILENAME</span><br></pre></td></tr></table></figure>

<p>对于大文件采用以下命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --load-cookies /tmp/cookies.txt &quot;https://docs.google.com/uc?export=download&amp;confirm=$(wget --quiet --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate &#x27;https://docs.google.com/uc?export=download&amp;id=FILEID&#x27; -O- | sed -rn &#x27;s/.*confirm=([0-9A-Za-z_]+).*/\1\n/p&#x27;)&amp;id=FILEID&quot; -O FILENAME &amp;&amp; rm -rf /tmp/cookies.txt</span><br></pre></td></tr></table></figure>

<h4 id="通过gdown"><a href="#通过gdown" class="headerlink" title="通过gdown"></a>通过gdown</h4><p>在终端输入以下命令即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install gdown</span><br><span class="line">gdown https://drive.google.com/uc?id=[文件ID]</span><br></pre></td></tr></table></figure>

<h4 id="通过gdown脚本"><a href="#通过gdown脚本" class="headerlink" title="通过gdown脚本"></a>通过gdown脚本</h4><p>下载以下脚本。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://raw.githubusercontent.com/circulosmeos/gdown.pl/with-resume/gdown.pl</span><br></pre></td></tr></table></figure>

<p>在终端切换到脚本所在目录，运行以下命令即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gdown.pl [文件链接] [重命名的文件名]</span><br></pre></td></tr></table></figure>

<h2 id="创建图形界面系统"><a href="#创建图形界面系统" class="headerlink" title="创建图形界面系统"></a>创建图形界面系统</h2><h3 id="在Google-Cloud-Shell中"><a href="#在Google-Cloud-Shell中" class="headerlink" title="在Google Cloud Shell中"></a>在Google Cloud Shell中</h3><p>进入GCP并点击右上方的终端按钮，进入Cloud Shell。输入以下命令以部署并查看状态。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br><span class="line">docker run -itd -p 6080:6080 -e PASSWORD=1234 chenjr0719/ubuntu-unity-novnc</span><br><span class="line">docker ps</span><br></pre></td></tr></table></figure>

<p>点击Cloud Shell右上角的预览，更改端口为6080，更改并预览即可。</p>
<h3 id="在VM实例中"><a href="#在VM实例中" class="headerlink" title="在VM实例中"></a>在VM实例中</h3><p>新建VM实例并通过SSH连接，然后输入以下命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br><span class="line">apt update</span><br><span class="line">apt-get install --assume-yes wget</span><br><span class="line">wget https://dl.google.com/linux/direct/chrome-remote-desktop_current_amd64.deb</span><br><span class="line">dpkg --install chrome-remote-desktop_current_amd64.deb</span><br><span class="line">apt install --assume-yes --fix-broken</span><br><span class="line">DEBIAN_FRONTEND=noninteractive apt install --assume-yes xfce4 desktop-base</span><br><span class="line">bash -c &#x27;echo &quot;exec /etc/X11/Xsession /usr/bin/xfce4-session&quot; &gt; /etc/chrome-remote-desktop-session&#x27;</span><br><span class="line">apt install --assume-yes xscreensaver</span><br><span class="line"></span><br><span class="line">// （可选）安装全套Linux桌面应用，包括Firefox浏览器、LibreOffice办公应用套件和Evince PDF查看器</span><br><span class="line">apt install --assume-yes task-xfce-desktop</span><br><span class="line"></span><br><span class="line">systemctl disable lightdm.service</span><br><span class="line"></span><br><span class="line">// （可选）安装Chrome浏览器</span><br><span class="line">wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</span><br><span class="line">dpkg --install google-chrome-stable_current_amd64.deb</span><br><span class="line">apt install --assume-yes --fix-broken</span><br><span class="line"></span><br><span class="line">usermod -a -G chrome-remote-desktop $USER</span><br><span class="line">logout</span><br><span class="line">logout</span><br></pre></td></tr></table></figure>

<p>重新连接到实例，然后打开以下链接，一路下一步。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://remotedesktop.google.com/headless</span><br></pre></td></tr></table></figure>

<p>复制含DISPLAY的代码到VM实例中并运行，然后打开以下链接以访问远程桌面。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://remotedesktop.google.com/access/</span><br></pre></td></tr></table></figure>

<h2 id="安装matlab"><a href="#安装matlab" class="headerlink" title="安装matlab"></a>安装matlab</h2><p>通过以上过程安装图形界面，然后在图形界面中进入官网下载安装包即可。</p>
<p>安装完成后，通过SSH连接服务器并运行<code>matlab</code>即可调用matlab。</p>
<h2 id="端口限制上行网速"><a href="#端口限制上行网速" class="headerlink" title="端口限制上行网速"></a>端口限制上行网速</h2><p>在命令行输入以下命令，检查<code>iptables</code>和<code>tc</code>是否被安装，若未安装则通过apt等软件包管理器安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -V</span><br><span class="line">tc -V</span><br></pre></td></tr></table></figure>

<p>通过以下命令查看网卡。需要找到外网网卡，可通过IP地址判断。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig</span><br></pre></td></tr></table></figure>

<p>以eth0为例，命令如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">// 清理iptables Mangle规则</span><br><span class="line">iptables -t mangle -F</span><br><span class="line"></span><br><span class="line">// 清理eth0上原有的队列类型</span><br><span class="line">tc qdisc del dev eth0 root</span><br><span class="line"></span><br><span class="line">// 给eth0添加一个根规则</span><br><span class="line">tc qdisc add dev eth0 root handle 1: htb default 1</span><br><span class="line"></span><br><span class="line">// 创建根类（100mbps替换成服务器的实际带宽）</span><br><span class="line">tc class add dev eth0 parent 1: classid 1:1 htb rate 100mbps</span><br><span class="line"></span><br><span class="line">// 创建支类限速（以下数据根据需要进行替换）</span><br><span class="line">// rate1500Kbit代表最大带宽1536Kbit/s</span><br><span class="line">// ceil 2048Kbit代表突发带宽2048Kbit/s</span><br><span class="line">// ceil&gt;=rate</span><br><span class="line">// 1:5指每5秒钟检查一次</span><br><span class="line">tc class add dev eth0 parent 1:1 classid 1:5 htb rate 1500Kbit ceil 2048Kbit prio 1</span><br><span class="line"></span><br><span class="line">// 创建过滤器（flowid和上一条的classid对应）</span><br><span class="line">tc filter add dev eth0 parent 1:0 prio 1 protocol ip handle 5 fw flowid 1:5</span><br><span class="line"></span><br><span class="line">// 借助iptables针对端口限速（80为端口号）</span><br><span class="line">iptables -A OUTPUT -t mangle -p tcp --sport 80 -j MARK --set-mark 5</span><br><span class="line"></span><br><span class="line">// 限制多端口</span><br><span class="line">// iptables -A OUTPUT -t mangle -p tcp --sport 80,25,443,8989 -j MARK --set-mark 5</span><br><span class="line"></span><br><span class="line">// 限制10000-20000端口</span><br><span class="line">// iptables -A OUTPUT -t mangle -p tcp --sport 10000:20000 -j MARK --set-mark 5</span><br></pre></td></tr></table></figure>

<h2 id="挂机赚钱"><a href="#挂机赚钱" class="headerlink" title="挂机赚钱"></a>挂机赚钱</h2><h3 id="Vagex"><a href="#Vagex" class="headerlink" title="Vagex"></a>Vagex</h3><p>在命令行输入以下命令以安装容器。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name alpine-ssh-xfce4-vnc -p 22:22 -p 3389:3389 charliev5/alpine-desktop</span><br></pre></td></tr></table></figure>

<p>安装完成后通过远程桌面连接到服务器，然后用Firefox打开以下网址，注册后安装插件并重启浏览器即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://vagex.com/</span><br></pre></td></tr></table></figure>

<p>可通过以下命令检查是否正常运行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/WangCharlie/alpine-ssh-xfce4-vnc/master/check.sh</span><br><span class="line">sh check.sh</span><br></pre></td></tr></table></figure>

<h3 id="eBesucher"><a href="#eBesucher" class="headerlink" title="eBesucher"></a>eBesucher</h3><p>官网如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.ebesucher.com/</span><br></pre></td></tr></table></figure>

<h3 id="Google-Adsense"><a href="#Google-Adsense" class="headerlink" title="Google Adsense"></a>Google Adsense</h3><p>需要有个人网站。可用西联汇款收款。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.google.com.tw/intl/zh-CN_cn/adsense/start/?utm_campaign=redirect-301</span><br></pre></td></tr></table></figure>

<h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><h3 id="机制"><a href="#机制" class="headerlink" title="机制"></a>机制</h3><p>Docker即镜像，相当于打包好的系统，部署到服务器后即可直接使用。Docker一般可在Docker Hub上找到。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://registry.hub.docker.com/</span><br></pre></td></tr></table></figure>

<p>Docker部署到服务器后，该服务被称为Container，即容器。以Kubernetes集群为例，安装Docker时一般需要有yml文件以配置相关参数。</p>
<p>示例如下。将<code>v2-app</code>改为另一个名称，<code>pch18/baota:clear</code>更换为其他容器，<code>port: 8888</code>改为容器内暴露端口即可，其中暴露端口可看相关镜像的说明。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: v2-app</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: v2-app</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: v2-app</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - image: gingko/v2ray-nginx-websocket</span><br><span class="line">        name: v2-app</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: v2-app</span><br><span class="line">  annotations:</span><br><span class="line">    dev.okteto.com/auto-ingress: &quot;true&quot;</span><br><span class="line">spec:</span><br><span class="line">  type: ClusterIP  </span><br><span class="line">  ports:</span><br><span class="line">  - name: &quot;http-port-tcp&quot;</span><br><span class="line">    port: 8080</span><br><span class="line">  selector:</span><br><span class="line">    app: v2-app</span><br></pre></td></tr></table></figure>

<p>保存后执行以下命令部署即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f [yml文件路径]</span><br></pre></td></tr></table></figure>

<p>仓库和示例如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/pch18-docker/baota</span><br></pre></td></tr></table></figure>

<h3 id="yml文件"><a href="#yml文件" class="headerlink" title="yml文件"></a>yml文件</h3><h4 id="搭建宝塔"><a href="#搭建宝塔" class="headerlink" title="搭建宝塔"></a>搭建宝塔</h4><p>完成后通过所给的网站即可访问。用户名为<code>username</code>，密码为<code>password</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: bt-app</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: bt-app</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: bt-app</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - image: baiyuetribe/baota-mini</span><br><span class="line">        name: bt-app</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: bt-app</span><br><span class="line">  annotations:</span><br><span class="line">    dev.okteto.com/auto-ingress: &quot;true&quot;</span><br><span class="line">spec:</span><br><span class="line">  type: ClusterIP  </span><br><span class="line">  ports:</span><br><span class="line">  - name: &quot;http-port-tcp&quot;</span><br><span class="line">    port: 8888</span><br><span class="line">  selector:</span><br><span class="line">    app: bt-app</span><br></pre></td></tr></table></figure>

<h4 id="搭建Google镜像网站"><a href="#搭建Google镜像网站" class="headerlink" title="搭建Google镜像网站"></a>搭建Google镜像网站</h4><p>完成后通过所给的网站即可访问。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: google-app</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: google-app</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: google-app</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - image: jim3ma/google-mirror</span><br><span class="line">        name: google-app</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: google-app</span><br><span class="line">  annotations:</span><br><span class="line">    dev.okteto.com/auto-ingress: &quot;true&quot;</span><br><span class="line">spec:</span><br><span class="line">  type: ClusterIP  </span><br><span class="line">  ports:</span><br><span class="line">  - name: &quot;http-port-tcp&quot;</span><br><span class="line">    port: 80</span><br><span class="line">  selector:</span><br><span class="line">    app: google-app</span><br></pre></td></tr></table></figure>

<h4 id="搭建Linux"><a href="#搭建Linux" class="headerlink" title="搭建Linux"></a>搭建Linux</h4><p>完成后通过所给的网站即可访问，默认以root身份登录。密码为<code>vncpassword</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: google-app</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: ubuntu-app</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: ubuntu-app</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - image: fallfor/ubuntuvnc</span><br><span class="line">        name: ubuntu-app</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: ubuntu-app</span><br><span class="line">  annotations:</span><br><span class="line">    dev.okteto.com/auto-ingress: &quot;true&quot;</span><br><span class="line">spec:</span><br><span class="line">  type: ClusterIP  </span><br><span class="line">  ports:</span><br><span class="line">  - name: &quot;http-port-tcp&quot;</span><br><span class="line">    port: 6901</span><br><span class="line">  selector:</span><br><span class="line">    app: ubuntu-app</span><br></pre></td></tr></table></figure>

<p>可用的其他镜像如下，默认以非root身份登录。密码也为<code>vncpassword</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">consol/centos-xfce-vnc</span><br><span class="line">consol/ubuntu-xfce-vnc</span><br><span class="line">consol/centos-icewm-vnc</span><br><span class="line">consol/ubuntu-icewm-vnc</span><br></pre></td></tr></table></figure>

<h3 id="Docker收集"><a href="#Docker收集" class="headerlink" title="Docker收集"></a>Docker收集</h3><h4 id="库"><a href="#库" class="headerlink" title="库"></a>库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/mritd/dockerfile</span><br></pre></td></tr></table></figure>

<h4 id="签到"><a href="#签到" class="headerlink" title="签到"></a>签到</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/AragonSnow/qiandao</span><br></pre></td></tr></table></figure>

<h2 id="一键重装系统"><a href="#一键重装系统" class="headerlink" title="一键重装系统"></a>一键重装系统</h2><h3 id="原系统为Linux"><a href="#原系统为Linux" class="headerlink" title="原系统为Linux"></a>原系统为Linux</h3><p>特别注意OpenVZ构架不适用，安装之前备份重要数据。适用于由GRUB引导的CentOS&#x2F;Ubuntu&#x2F;Debian系统。使用官方发行版去掉模板预装的软件，同时也可以解决内核版本与软件不兼容的问题。</p>
<p>全自动安装默认root密码为Vicer。相关软件依赖如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// Debian/Ubuntu</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y gawk sed grep</span><br><span class="line"> </span><br><span class="line">// RedHat/CentOS</span><br><span class="line">yum update</span><br><span class="line">yum install -y gawk sed grep</span><br></pre></td></tr></table></figure>

<p>在安装Ubuntu时可能会遇到<code>Getting the time form a network time server...</code>并界面进度条很长时间不会动，可以等待其超时，或更换别的版本。</p>
<h4 id="Debian-7"><a href="#Debian-7" class="headerlink" title="Debian 7"></a>Debian 7</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># x86</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d 7 -v 32</span><br><span class="line"></span><br><span class="line"># x64</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d 7 -v 64</span><br></pre></td></tr></table></figure>

<h4 id="Debian-8"><a href="#Debian-8" class="headerlink" title="Debian 8"></a>Debian 8</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># x86</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d 8 -v 32</span><br><span class="line"></span><br><span class="line"># x64</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d 8 -v 64</span><br></pre></td></tr></table></figure>

<h4 id="Debian-9"><a href="#Debian-9" class="headerlink" title="Debian 9"></a>Debian 9</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># x86</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d 9 -v 32</span><br><span class="line"></span><br><span class="line"># x64</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d 9 -v 64</span><br></pre></td></tr></table></figure>

<h4 id="Ubuntu-14-04"><a href="#Ubuntu-14-04" class="headerlink" title="Ubuntu 14.04"></a>Ubuntu 14.04</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># x86</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d trusty -v 32</span><br><span class="line"></span><br><span class="line"># x64</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d trusty -v 64</span><br></pre></td></tr></table></figure>

<h4 id="Ubuntu-16-04"><a href="#Ubuntu-16-04" class="headerlink" title="Ubuntu 16.04"></a>Ubuntu 16.04</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># x86</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d xenial -v 32</span><br><span class="line"></span><br><span class="line"># x64</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d xenial -v 64</span><br></pre></td></tr></table></figure>

<h4 id="Ubuntu-17-04"><a href="#Ubuntu-17-04" class="headerlink" title="Ubuntu 17.04"></a>Ubuntu 17.04</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># x86</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d zesty -v 32</span><br><span class="line"></span><br><span class="line"># x64</span><br><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; chmod -x DebianNET.sh &amp;&amp; bash DebianNET.sh -d zesty -v 64</span><br></pre></td></tr></table></figure>

<h4 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h4><p>X64版本，root用户密码为<code>xiaofd.win</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget xiaofd.github.io/centos.sh &amp;&amp; bash centos.sh</span><br></pre></td></tr></table></figure>

<h4 id="Windows-2"><a href="#Windows-2" class="headerlink" title="Windows"></a>Windows</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -qO DebianNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/DebianNET.sh&#x27; &amp;&amp; bash DebianNET.sh -dd &#x27;https://moeclub.org/get-win7embx86-auto&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="原系统为Windows"><a href="#原系统为Windows" class="headerlink" title="原系统为Windows"></a>原系统为Windows</h3><h4 id="Linux-2"><a href="#Linux-2" class="headerlink" title="Linux"></a>Linux</h4><p>下载以下脚本并运行即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://moeclub.org/attachment/WindowsSoftware/win32loader.bat</span><br></pre></td></tr></table></figure>

<h1 id="特殊工具"><a href="#特殊工具" class="headerlink" title="特殊工具"></a>特殊工具</h1><h2 id="Tor"><a href="#Tor" class="headerlink" title="Tor"></a>Tor</h2><p>Tor是经过层层加密的浏览器，从使用者本机直到出口节点的传输是强加密的，其他人无法偷窥到真实网络流量，除非Tor软件本身出现严重安全漏洞，或者碰到的出口节点是蜜罐节点（或称为陷阱节点），即故意引诱用户攻击的目标。</p>
<p>Tor主要用于隐匿上网身份，也可用于伪装别国网民、隐匿公网IP、保护隐私等。Tor的官方Wiki如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://gitlab.torproject.org/legacy/trac/-/wikis/home</span><br></pre></td></tr></table></figure>

<h3 id="原理-4"><a href="#原理-4" class="headerlink" title="原理"></a>原理</h3><h4 id="Tor联网"><a href="#Tor联网" class="headerlink" title="Tor联网"></a>Tor联网</h4><p>当Tor客户端启动之后，会首先连接Tor的目录服务器，从目录服务器中获取全球的Tor节点信息。访问网站时，Tor客户端会随机挑选三个节点用于中转，如下。</p>
<table>
<thead>
<tr>
<th>节点类型</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>入口节点</td>
<td>直接与本机或前置代理（若使用双重代理）相连</td>
</tr>
<tr>
<td>中间节点</td>
<td>介于入口节点和出口节点之间，该节点威胁最小</td>
</tr>
<tr>
<td>出口节点</td>
<td>直接与访问的目标网站相连，该节点威胁最大</td>
</tr>
</tbody></table>
<p>只有出口节点会看到用户的上网行为，包括访问的网站、从该网站传输的流量等。其它节点完全无法了解上网行为。</p>
<p>如果这个网站使用HTTPS协议，出口节点看到的原始流量是HTTPS的密文。但如果这个网站使用HTTP 协议，那么出口节点看到的原始流量是HTTP的明文。</p>
<p>Tor为了加强隐匿性，会动态变化中转线路，每隔一段时间随机挑选三个节点，重新构造一条传输线路。因为线路动态变化，出口节点自然也动态变化，所以即使出口节点偷窥上网行为，也只能看到一个短暂的片段。</p>
<h4 id="流量混淆"><a href="#流量混淆" class="headerlink" title="流量混淆"></a>流量混淆</h4><p>若ISP和墙在监控流量，则可以判断出在使用Tor。因此需要使用流量混淆，把Tor流量伪装成其它的上网流量。出于软件架构方面的考虑，流量混淆通过插件的方式来提供，因为混淆流量的方式是多种多样的。</p>
<p>meek是常用的流量混淆插件，可以把Tor流量伪装成访问云计算平台的流量。当数据流量到达云计算平台之后，会经过一系列中转，最终转向真正访问的网站。由于传输流量经过伪装，墙比较难区分伪装的Tor流量和真正访问云计算的普通流量，而且meek依赖的云计算平台都是亚马逊、微软等大公司提供，墙不会轻易封锁其公网IP。</p>
<h3 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h3><h4 id="配置-2"><a href="#配置-2" class="headerlink" title="配置"></a>配置</h4><p>打开以下链接下载并安装。Mac也可直接通过Homebrew安装，但通过此方法安装的Tor并没有图形界面。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.torproject.org/download/</span><br></pre></td></tr></table></figure>

<p>也可通过发送标题为<code>help</code>的邮件到<code>gettor@torproject.org</code>获取。</p>
<p>安装完成后需要寻找支持HTTPS代理或Socks代理的代理，注意不能是HTTP代理。可以通过公共代理节点，也可通过在本地挂翻墙软件实现，大部分翻墙软件都可以与Tor组合。打开翻墙软件后，从配置中查看代理类型、代理地址和端口，比如SOCKS5代理的<code>localhost:1081</code>。</p>
<p>注意，GoAgent是Google Agent Engine（GAE）翻墙工具的一种，似乎只提供HTTP代理，没有提供原生的HTTPS代理，因此不能用作Tor的代理节点。</p>
<p>打开Tor后点击配置，勾选<code>我所在的国家对Tor进行了审查</code>，并选择<code>选择内置网桥</code>。勾选<code>使用代理访问互联网</code>，填入上面查询的内容，然后连接即可。</p>
<h4 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h4><p>可通过以下链接判断当前是否在使用Tor。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://check.torproject.org/</span><br></pre></td></tr></table></figure>

<h4 id="屏蔽节点"><a href="#屏蔽节点" class="headerlink" title="屏蔽节点"></a>屏蔽节点</h4><p>为避免蜜罐节点，可通过修改Tor的配置文件，规避特定地区的节点。打开Tor的配置文件torrc，添加以下内容。其中ExcludeNodes表示排除这些地区的节点，StrictNodes表示强制执行。</p>
<p>如果不设置strictnode 1，Tor首先也会规避ExcludeNodes列出的这些地区，但如果Tor找不到可用的线路，就会去尝试位于排除列表中的节点。如果设置了strictnode 1，即使Tor找不到可用的线路，也不会去尝试这些地区的节点。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ExcludeNodes  &#123;cn&#125;,&#123;hk&#125;,&#123;mo&#125;</span><br><span class="line">StrictNodes  1</span><br></pre></td></tr></table></figure>

<p>其余代码如下，可根据需求自行获取。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">北朝鲜 / &#123;kp&#125;</span><br><span class="line">伊朗 / &#123;ir&#125;</span><br><span class="line">叙利亚 / &#123;sy&#125;</span><br><span class="line">巴基斯坦 / &#123;pk&#125;</span><br><span class="line">古巴 / &#123;cu&#125;</span><br><span class="line">越南 / &#123;vn&#125;</span><br></pre></td></tr></table></figure>

<h4 id="共享Tor通道"><a href="#共享Tor通道" class="headerlink" title="共享Tor通道"></a>共享Tor通道</h4><p>打开Tor的配置文件torrc，新增以下内容。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SocksListenAddress 0.0.0.0:9150</span><br><span class="line">// SOCKSPort  0.0.0.0:9150</span><br></pre></td></tr></table></figure>

<p>重启Tor后，Tor的监听端口将绑定到0.0.0.0，即任何地址（任何机器）都可以连接到Tor 的监听端口。可能需要修改防火墙配置，允许Tor监听端口的TCP连入。</p>
<h4 id="特殊说明"><a href="#特殊说明" class="headerlink" title="特殊说明"></a>特殊说明</h4><p>Tor可以打开特有的onion域名链接，导航如下。注意抵制诱惑。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://thehiddenwiki.org/</span><br></pre></td></tr></table></figure>

<h2 id="ZeroNet"><a href="#ZeroNet" class="headerlink" title="ZeroNet"></a>ZeroNet</h2><p>也称零网，利用比特币加密和BT技术提供不受审查的网络与通信的BT平台。ZeroNet默认不匿名，用户可以通过内置的Tor功能进行匿名化。ZeroNet需要全局翻墙才能使用。</p>
<p>打开以下链接并下载软件包，双击打开即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://zeronet.io/</span><br></pre></td></tr></table></figure>

<h3 id="ZeroMe"><a href="#ZeroMe" class="headerlink" title="ZeroMe"></a>ZeroMe</h3><p>打开后点击ZeroMe，点击右上角允许请求权限，进入请求认证证书界面，输入用户名后即可授权成功。点击<code>在用户数据库中搜索</code>可查看已注册用户并拉入黑名单，点击右上角的<code>0</code>图标可回到控制台首页，在设置中也可管理屏蔽用户。再次进入ZeroMe，选择已注册好的账户并下载相关组件，完成之后加入即可。</p>
<h3 id="备份用户数据"><a href="#备份用户数据" class="headerlink" title="备份用户数据"></a>备份用户数据</h3><p>若将Zeronet整个文件夹删除，重新载入则失去对当前账户的所有权且无法找回，因此需备份users.json文件。</p>
<p>重新载入时，打开ZeroNet让其生成data文件夹，复制已备份好的users.json文件放置在data文件夹。重启ZeroNet并打开ZeroMe，下载完数据库点击授权，再重启ZeroNet打开ZeroMe即可。</p>
<h3 id="网址导航"><a href="#网址导航" class="headerlink" title="网址导航"></a>网址导航</h3><p>若遇到site Blocked或disable proxy，将<code>www.zerogate.tk</code>换成127.0.0.1:43110即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 零搜索</span><br><span class="line">https://www.zerogate.tk/lingdu.bit</span><br><span class="line"></span><br><span class="line">// 零123导航</span><br><span class="line">https://www.zerogate.tk/0123.bit</span><br><span class="line"></span><br><span class="line">// 海盗湾种子站</span><br><span class="line">http://127.0.0.1:43110/1PLAYgDQboKojowD3kwdb3CtWmWaokXvfp/</span><br><span class="line"></span><br><span class="line">// Kindle电子书</span><br><span class="line">http://127.0.0.1:43110/1KHCBG6dmbKXTZNenfwhWZ5x3oDyYyHSD4</span><br><span class="line"></span><br><span class="line">// 中文主题</span><br><span class="line">http://127.0.0.1:43110/1NzWeweqJ32aRVdM5UzFnYCszuvG5xV3vS</span><br></pre></td></tr></table></figure>

<h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><h2 id="通过信用卡验证"><a href="#通过信用卡验证" class="headerlink" title="通过信用卡验证"></a>通过信用卡验证</h2><p>使用VPS服务需要VISA或Mastercard的卡，不同VPS供应商的验证标准不同。</p>
<h3 id="免费虚拟卡"><a href="#免费虚拟卡" class="headerlink" title="免费虚拟卡"></a>免费虚拟卡</h3><h4 id="香港全球付预付卡（MasterCard）"><a href="#香港全球付预付卡（MasterCard）" class="headerlink" title="香港全球付预付卡（MasterCard）"></a>香港全球付预付卡（MasterCard）</h4><p>可通过2018年GCP验证，不可通过2019年及以后的GCP验证。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.globalcash.hk/v4/</span><br></pre></td></tr></table></figure>

<h4 id="香港拍住赏预付卡（MasterCard）"><a href="#香港拍住赏预付卡（MasterCard）" class="headerlink" title="香港拍住赏预付卡（MasterCard）"></a>香港拍住赏预付卡（MasterCard）</h4><p>需要香港号码，在App Store下载<code>拍住赏</code>即可。</p>
<h4 id="Yandex-Money（MasterCard）"><a href="#Yandex-Money（MasterCard）" class="headerlink" title="Yandex Money（MasterCard）"></a>Yandex Money（MasterCard）</h4><p>提供免费万事达虚拟信用卡，一年有效期。GCP、DO、Vultr均无法通过验证。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://money.yandex.ru/</span><br></pre></td></tr></table></figure>

<h4 id="Uquid（VISA）"><a href="#Uquid（VISA）" class="headerlink" title="Uquid（VISA）"></a>Uquid（VISA）</h4><p>未验证。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://uquid.com/uquid-card</span><br></pre></td></tr></table></figure>

<h3 id="付费虚拟卡"><a href="#付费虚拟卡" class="headerlink" title="付费虚拟卡"></a>付费虚拟卡</h3><h4 id="EastPay"><a href="#EastPay" class="headerlink" title="EastPay"></a>EastPay</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://card.easypayx.com/card/cards</span><br></pre></td></tr></table></figure>

<h3 id="实体卡"><a href="#实体卡" class="headerlink" title="实体卡"></a>实体卡</h3><h4 id="香港neat借记卡（MasterCard）"><a href="#香港neat借记卡（MasterCard）" class="headerlink" title="香港neat借记卡（MasterCard）"></a>香港neat借记卡（MasterCard）</h4><p>激活后若超过半年未使用，将从第七个月开始收取休眠费。</p>
<p>从App Store下载<code>neat</code>，把手机语言改成英语。打开APP并注册，添加收卡地址时会提示只能寄到商业地址，且用顺丰快递收取36到43人民币的邮费，但实际是可以寄到私人地址的，且通过Hong Kong post免费邮寄。</p>
<h4 id="中国银行长城跨境通单标储蓄卡（Visa-x2F-MasterCard）"><a href="#中国银行长城跨境通单标储蓄卡（Visa-x2F-MasterCard）" class="headerlink" title="中国银行长城跨境通单标储蓄卡（Visa&#x2F;MasterCard）"></a>中国银行长城跨境通单标储蓄卡（Visa&#x2F;MasterCard）</h4><p>可通过2019年GCP验证。</p>
<h4 id="爱汇国际旅支卡（MasterCard）"><a href="#爱汇国际旅支卡（MasterCard）" class="headerlink" title="爱汇国际旅支卡（MasterCard）"></a>爱汇国际旅支卡（MasterCard）</h4><p>用微信打开以下链接，点击<code>我要旅支卡</code>，跳转后点击添加新卡即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.ihui.com/alliance/share/43cc72a60e694fdeb775d9566c04e4fc.html</span><br></pre></td></tr></table></figure>

<h2 id="获取美国号码"><a href="#获取美国号码" class="headerlink" title="获取美国号码"></a>获取美国号码</h2><p>获取美国号码后可以很方便地通过VPS的验证。</p>
<h3 id="虚拟号码"><a href="#虚拟号码" class="headerlink" title="虚拟号码"></a>虚拟号码</h3><p>免费号码可使用TextNow、TextPlus、HeyWire、Ring4、TalkU、TextMe、TextFree、TextNow、Talkatone、Dingtone、Pinger等。</p>
<h3 id="Google-Voice"><a href="#Google-Voice" class="headerlink" title="Google Voice"></a>Google Voice</h3><p>包括以上的虚拟号码基本已无法通过Google Voice验证。</p>
<h4 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h4><h5 id="失效教程-3"><a href="#失效教程-3" class="headerlink" title="失效教程"></a>失效教程</h5><details>
<summary></summary>

<p>全程挂美国全局代理，浏览器用无痕模式。通过以下付费接码网站接收Google Voice验证码，购买时类型选择Google Voice。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// verfirywithsms</span><br><span class="line">https://verifywithsms.com/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// PVA Deals，购买Non VolP Numbers</span><br><span class="line">https://pvadeals.com/product/non-voip/</span><br></pre></td></tr></table></figure>
</details>

<h4 id="保号"><a href="#保号" class="headerlink" title="保号"></a>保号</h4><p>如果超过六个月没有拨打或者接听电话，也没有发出或接收过短信，号码就会被回收。可利用IFTTT自动接收和发送短信以保号。</p>
<h5 id="自动发送短信"><a href="#自动发送短信" class="headerlink" title="自动发送短信"></a>自动发送短信</h5><p>注册IFTTT账号后打开以下链接，分别设置时区和Google Voice号码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://ifttt.com/services/date_and_time/settings</span><br><span class="line">https://ifttt.com/sms</span><br></pre></td></tr></table></figure>

<p>打开以下链接以新建一个Applet。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://ifttt.com/create/</span><br></pre></td></tr></table></figure>

<p>点If This后的Add，并选择Date&amp;Time。有多种触发条件，根据自己的实际需求选择。再点Then that后的Add，选择SMS，并自定义短信内容。创建完打开该Applet即可。</p>
<h5 id="自动回复短信"><a href="#自动回复短信" class="headerlink" title="自动回复短信"></a>自动回复短信</h5><p>登录Google Voice，进入Settings—&gt;Settings—&gt;Forward messages to email，打开将短信转发到Gmail邮箱。完成后Google Voice收到的短信都会以邮件的形式发送到Gmail邮箱，邮件标题为<code>New text message from [发送者]</code>，发件人是后缀为<code>@txt.voice.google.com</code>的邮箱，前缀里包含短信发送方和接收方的号码。</p>
<p>仍打开上面的链接新建一个Applet，If this添加Gmail，并选择<code>[Inactive] New email in inbox from search</code>，内容填写<code>txt.voice.google.com</code>。然后Then that添加Gmail，并选择<code>Send an email</code>，按照以下内容配置，然后打开该Applet即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">To address / 点Add ingredient，选FromAddress</span><br><span class="line">Body / 短信内容</span><br><span class="line">Attachment URL / 清空</span><br></pre></td></tr></table></figure>

<h2 id="脚本-1"><a href="#脚本-1" class="headerlink" title="脚本"></a>脚本</h2><h3 id="性能测试"><a href="#性能测试" class="headerlink" title="性能测试"></a>性能测试</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- 86.re/bench.sh | bash</span><br><span class="line">wget -qO- --no-check-certificate https://raw.githubusercontent.com/oooldking/script/master/superbench.sh | bash</span><br><span class="line">wget https://raw.githubusercontent.com/oooldking/script/master/superspeed.sh &amp;&amp; chmod +x superspeed.sh &amp;&amp; ./superspeed.sh</span><br></pre></td></tr></table></figure>

<h3 id="Socat"><a href="#Socat" class="headerlink" title="Socat"></a>Socat</h3><p>一个多功能的网络工具。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/socat.sh &amp;&amp; chmod +x socat.sh &amp;&amp; bash socat.sh</span><br></pre></td></tr></table></figure>

<h3 id="HaProxy"><a href="#HaProxy" class="headerlink" title="HaProxy"></a>HaProxy</h3><p>负载均衡，与Nginx类似。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/haproxy.sh &amp;&amp; chmod +x haproxy.sh &amp;&amp; bash haproxy.sh</span><br></pre></td></tr></table></figure>

<h3 id="iptables"><a href="#iptables" class="headerlink" title="iptables"></a>iptables</h3><p>端口转发。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/iptables-pf.sh &amp;&amp; chmod +x iptables-pf.sh &amp;&amp; bash iptables-pf.sh</span><br></pre></td></tr></table></figure>

<h3 id="SimpleHTTPServer"><a href="#SimpleHTTPServer" class="headerlink" title="SimpleHTTPServer"></a>SimpleHTTPServer</h3><p>快速搭建HTTP服务。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/pythonhttp.sh &amp;&amp; chmod +x pythonhttp.sh &amp;&amp; bash pythonhttp.sh</span><br></pre></td></tr></table></figure>

<h3 id="V2Ray安装"><a href="#V2Ray安装" class="headerlink" title="V2Ray安装"></a>V2Ray安装</h3><p>复制以下代码到文本编辑器并另存为go.sh，放在工作目录即可使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># This file is accessible as https://install.direct/go.sh</span><br><span class="line"># Original source is located at github.com/v2ray/v2ray-core/release/install-release.sh</span><br><span class="line"></span><br><span class="line"># If not specify, default meaning of return value:</span><br><span class="line"># 0: Success</span><br><span class="line"># 1: System error</span><br><span class="line"># 2: Application error</span><br><span class="line"># 3: Network error</span><br><span class="line"></span><br><span class="line">CUR_VER=&quot;&quot;</span><br><span class="line">NEW_VER=&quot;&quot;</span><br><span class="line">ARCH=&quot;&quot;</span><br><span class="line">VDIS=&quot;64&quot;</span><br><span class="line">ZIPFILE=&quot;/tmp/v2ray/v2ray.zip&quot;</span><br><span class="line">V2RAY_RUNNING=0</span><br><span class="line">VSRC_ROOT=&quot;/tmp/v2ray&quot;</span><br><span class="line">EXTRACT_ONLY=0</span><br><span class="line">ERROR_IF_UPTODATE=0</span><br><span class="line">DIST_SRC=&quot;github&quot;</span><br><span class="line"></span><br><span class="line">CMD_INSTALL=&quot;&quot;</span><br><span class="line">CMD_UPDATE=&quot;&quot;</span><br><span class="line">SOFTWARE_UPDATED=0</span><br><span class="line"></span><br><span class="line">SYSTEMCTL_CMD=$(command -v systemctl 2&gt;/dev/null)</span><br><span class="line">SERVICE_CMD=$(command -v service 2&gt;/dev/null)</span><br><span class="line"></span><br><span class="line">CHECK=&quot;&quot;</span><br><span class="line">FORCE=&quot;&quot;</span><br><span class="line">HELP=&quot;&quot;</span><br><span class="line"></span><br><span class="line">#######color code########</span><br><span class="line">RED=&quot;31m&quot;      # Error message</span><br><span class="line">GREEN=&quot;32m&quot;    # Success message</span><br><span class="line">YELLOW=&quot;33m&quot;   # Warning message</span><br><span class="line">BLUE=&quot;36m&quot;     # Info message</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#########################</span><br><span class="line">while [[ $# &gt; 0 ]];do</span><br><span class="line">    key=&quot;$1&quot;</span><br><span class="line">    case $key in</span><br><span class="line">        -p|--proxy)</span><br><span class="line">        PROXY=&quot;-x $&#123;2&#125;&quot;</span><br><span class="line">        shift # past argument</span><br><span class="line">        ;;</span><br><span class="line">        -h|--help)</span><br><span class="line">        HELP=&quot;1&quot;</span><br><span class="line">        ;;</span><br><span class="line">        -f|--force)</span><br><span class="line">        FORCE=&quot;1&quot;</span><br><span class="line">        ;;</span><br><span class="line">        -c|--check)</span><br><span class="line">        CHECK=&quot;1&quot;</span><br><span class="line">        ;;</span><br><span class="line">        --remove)</span><br><span class="line">        REMOVE=&quot;1&quot;</span><br><span class="line">        ;;</span><br><span class="line">        --version)</span><br><span class="line">        VERSION=&quot;$2&quot;</span><br><span class="line">        shift</span><br><span class="line">        ;;</span><br><span class="line">        --extract)</span><br><span class="line">        VSRC_ROOT=&quot;$2&quot;</span><br><span class="line">        shift</span><br><span class="line">        ;;</span><br><span class="line">        --extractonly)</span><br><span class="line">        EXTRACT_ONLY=&quot;1&quot;</span><br><span class="line">        ;;</span><br><span class="line">        -l|--local)</span><br><span class="line">        LOCAL=&quot;$2&quot;</span><br><span class="line">        LOCAL_INSTALL=&quot;1&quot;</span><br><span class="line">        shift</span><br><span class="line">        ;;</span><br><span class="line">        --source)</span><br><span class="line">        DIST_SRC=&quot;$2&quot;</span><br><span class="line">        shift</span><br><span class="line">        ;;</span><br><span class="line">        --errifuptodate)</span><br><span class="line">        ERROR_IF_UPTODATE=&quot;1&quot;</span><br><span class="line">        ;;</span><br><span class="line">        *)</span><br><span class="line">                # unknown option</span><br><span class="line">        ;;</span><br><span class="line">    esac</span><br><span class="line">    shift # past argument or value</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">###############################</span><br><span class="line">colorEcho()&#123;</span><br><span class="line">    COLOR=$1</span><br><span class="line">    echo -e &quot;\033[$&#123;COLOR&#125;$&#123;@:2&#125;\033[0m&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sysArch()&#123;</span><br><span class="line">    ARCH=$(uname -m)</span><br><span class="line">    if [[ &quot;$ARCH&quot; == &quot;i686&quot; ]] || [[ &quot;$ARCH&quot; == &quot;i386&quot; ]]; then</span><br><span class="line">        VDIS=&quot;32&quot;</span><br><span class="line">    elif [[ &quot;$ARCH&quot; == *&quot;armv7&quot;* ]] || [[ &quot;$ARCH&quot; == &quot;armv6l&quot; ]]; then</span><br><span class="line">        VDIS=&quot;arm&quot;</span><br><span class="line">    elif [[ &quot;$ARCH&quot; == *&quot;armv8&quot;* ]] || [[ &quot;$ARCH&quot; == &quot;aarch64&quot; ]]; then</span><br><span class="line">        VDIS=&quot;arm64&quot;</span><br><span class="line">    elif [[ &quot;$ARCH&quot; == *&quot;mips64le&quot;* ]]; then</span><br><span class="line">        VDIS=&quot;mips64le&quot;</span><br><span class="line">    elif [[ &quot;$ARCH&quot; == *&quot;mips64&quot;* ]]; then</span><br><span class="line">        VDIS=&quot;mips64&quot;</span><br><span class="line">    elif [[ &quot;$ARCH&quot; == *&quot;mipsle&quot;* ]]; then</span><br><span class="line">        VDIS=&quot;mipsle&quot;</span><br><span class="line">    elif [[ &quot;$ARCH&quot; == *&quot;mips&quot;* ]]; then</span><br><span class="line">        VDIS=&quot;mips&quot;</span><br><span class="line">    elif [[ &quot;$ARCH&quot; == *&quot;s390x&quot;* ]]; then</span><br><span class="line">        VDIS=&quot;s390x&quot;</span><br><span class="line">    elif [[ &quot;$ARCH&quot; == &quot;ppc64le&quot; ]]; then</span><br><span class="line">        VDIS=&quot;ppc64le&quot;</span><br><span class="line">    elif [[ &quot;$ARCH&quot; == &quot;ppc64&quot; ]]; then</span><br><span class="line">        VDIS=&quot;ppc64&quot;</span><br><span class="line">    fi</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">downloadV2Ray()&#123;</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">installSoftware()&#123;</span><br><span class="line">    COMPONENT=$1</span><br><span class="line">    if [[ -n `command -v $COMPONENT` ]]; then</span><br><span class="line">        return 0</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    getPMT</span><br><span class="line">    if [[ $? -eq 1 ]]; then</span><br><span class="line">        colorEcho $&#123;RED&#125; &quot;The system package manager tool isn&#x27;t APT or YUM, please install $&#123;COMPONENT&#125; manually.&quot;</span><br><span class="line">        return 1 </span><br><span class="line">    fi</span><br><span class="line">    if [[ $SOFTWARE_UPDATED -eq 0 ]]; then</span><br><span class="line">        colorEcho $&#123;BLUE&#125; &quot;Updating software repo&quot;</span><br><span class="line">        $CMD_UPDATE      </span><br><span class="line">        SOFTWARE_UPDATED=1</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    colorEcho $&#123;BLUE&#125; &quot;Installing $&#123;COMPONENT&#125;&quot;</span><br><span class="line">    $CMD_INSTALL $COMPONENT</span><br><span class="line">    if [[ $? -ne 0 ]]; then</span><br><span class="line">        colorEcho $&#123;RED&#125; &quot;Failed to install $&#123;COMPONENT&#125;. Please install it manually.&quot;</span><br><span class="line">        return 1</span><br><span class="line">    fi</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># return 1: not apt, yum, or zypper</span><br><span class="line">getPMT()&#123;</span><br><span class="line">    if [[ -n `command -v apt-get` ]];then</span><br><span class="line">        CMD_INSTALL=&quot;apt-get -y -qq install&quot;</span><br><span class="line">        CMD_UPDATE=&quot;apt-get -qq update&quot;</span><br><span class="line">    elif [[ -n `command -v yum` ]]; then</span><br><span class="line">        CMD_INSTALL=&quot;yum -y -q install&quot;</span><br><span class="line">        CMD_UPDATE=&quot;yum -q makecache&quot;</span><br><span class="line">    elif [[ -n `command -v zypper` ]]; then</span><br><span class="line">        CMD_INSTALL=&quot;zypper -y install&quot;</span><br><span class="line">        CMD_UPDATE=&quot;zypper ref&quot;</span><br><span class="line">    else</span><br><span class="line">        return 1</span><br><span class="line">    fi</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">extract()&#123;</span><br><span class="line">    colorEcho $&#123;BLUE&#125;&quot;Extracting V2Ray package to /tmp/v2ray.&quot;</span><br><span class="line">    mkdir -p /tmp/v2ray</span><br><span class="line">    unzip $1 -d $&#123;VSRC_ROOT&#125;</span><br><span class="line">    if [[ $? -ne 0 ]]; then</span><br><span class="line">        colorEcho $&#123;RED&#125; &quot;Failed to extract V2Ray.&quot;</span><br><span class="line">        return 2</span><br><span class="line">    fi</span><br><span class="line">    if [[ -d &quot;/tmp/v2ray/v2ray-$&#123;NEW_VER&#125;-linux-$&#123;VDIS&#125;&quot; ]]; then</span><br><span class="line">      VSRC_ROOT=&quot;/tmp/v2ray/v2ray-$&#123;NEW_VER&#125;-linux-$&#123;VDIS&#125;&quot;</span><br><span class="line">    fi</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 1: new V2Ray. 0: no. 2: not installed. 3: check failed. 4: don&#x27;t check.</span><br><span class="line">getVersion()&#123;</span><br><span class="line">    if [[ -n &quot;$VERSION&quot; ]]; then</span><br><span class="line">        NEW_VER=&quot;$VERSION&quot;</span><br><span class="line">        if [[ $&#123;NEW_VER&#125; != v* ]]; then</span><br><span class="line">          NEW_VER=v$&#123;NEW_VER&#125;</span><br><span class="line">        fi</span><br><span class="line">        return 4</span><br><span class="line">    else</span><br><span class="line">        VER=`/usr/bin/v2ray/v2ray -version 2&gt;/dev/null`</span><br><span class="line">        RETVAL=&quot;$?&quot;</span><br><span class="line">        CUR_VER=`echo $VER | head -n 1 | cut -d &quot; &quot; -f2`</span><br><span class="line">        if [[ $&#123;CUR_VER&#125; != v* ]]; then</span><br><span class="line">            CUR_VER=v$&#123;CUR_VER&#125;</span><br><span class="line">        fi</span><br><span class="line">        TAG_URL=&quot;https://api.github.com/repos/v2ray/v2ray-core/releases/latest&quot;</span><br><span class="line">        NEW_VER=`curl $&#123;PROXY&#125; -s $&#123;TAG_URL&#125; --connect-timeout 10| grep &#x27;tag_name&#x27; | cut -d\&quot; -f4`</span><br><span class="line">        if [[ $&#123;NEW_VER&#125; != v* ]]; then</span><br><span class="line">          NEW_VER=v$&#123;NEW_VER&#125;</span><br><span class="line">        fi</span><br><span class="line">        if [[ $? -ne 0 ]] || [[ $NEW_VER == &quot;&quot; ]]; then</span><br><span class="line">            colorEcho $&#123;RED&#125; &quot;Failed to fetch release information. Please check your network or try again.&quot;</span><br><span class="line">            return 3</span><br><span class="line">        elif [[ $RETVAL -ne 0 ]];then</span><br><span class="line">            return 2</span><br><span class="line">        elif [[ `echo $NEW_VER | cut -d. -f-2` != `echo $CUR_VER | cut -d. -f-2` ]];then</span><br><span class="line">            return 1</span><br><span class="line">        fi</span><br><span class="line">        return 0</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stopV2ray()&#123;</span><br><span class="line">    colorEcho $&#123;BLUE&#125; &quot;Shutting down V2Ray service.&quot;</span><br><span class="line">    if [[ -n &quot;$&#123;SYSTEMCTL_CMD&#125;&quot; ]] || [[ -f &quot;/lib/systemd/system/v2ray.service&quot; ]] || [[ -f &quot;/etc/systemd/system/v2ray.service&quot; ]]; then</span><br><span class="line">        $&#123;SYSTEMCTL_CMD&#125; stop v2ray</span><br><span class="line">    elif [[ -n &quot;$&#123;SERVICE_CMD&#125;&quot; ]] || [[ -f &quot;/etc/init.d/v2ray&quot; ]]; then</span><br><span class="line">        $&#123;SERVICE_CMD&#125; v2ray stop</span><br><span class="line">    fi</span><br><span class="line">    if [[ $? -ne 0 ]]; then</span><br><span class="line">        colorEcho $&#123;YELLOW&#125; &quot;Failed to shutdown V2Ray service.&quot;</span><br><span class="line">        return 2</span><br><span class="line">    fi</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">startV2ray()&#123;</span><br><span class="line">    if [ -n &quot;$&#123;SYSTEMCTL_CMD&#125;&quot; ] &amp;&amp; [ -f &quot;/lib/systemd/system/v2ray.service&quot; ]; then</span><br><span class="line">        $&#123;SYSTEMCTL_CMD&#125; start v2ray</span><br><span class="line">    elif [ -n &quot;$&#123;SYSTEMCTL_CMD&#125;&quot; ] &amp;&amp; [ -f &quot;/etc/systemd/system/v2ray.service&quot; ]; then</span><br><span class="line">        $&#123;SYSTEMCTL_CMD&#125; start v2ray</span><br><span class="line">    elif [ -n &quot;$&#123;SERVICE_CMD&#125;&quot; ] &amp;&amp; [ -f &quot;/etc/init.d/v2ray&quot; ]; then</span><br><span class="line">        $&#123;SERVICE_CMD&#125; v2ray start</span><br><span class="line">    fi</span><br><span class="line">    if [[ $? -ne 0 ]]; then</span><br><span class="line">        colorEcho $&#123;YELLOW&#125; &quot;Failed to start V2Ray service.&quot;</span><br><span class="line">        return 2</span><br><span class="line">    fi</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">copyFile() &#123;</span><br><span class="line">    NAME=$1</span><br><span class="line">    ERROR=`cp &quot;$&#123;VSRC_ROOT&#125;/$&#123;NAME&#125;&quot; &quot;/usr/bin/v2ray/$&#123;NAME&#125;&quot; 2&gt;&amp;1`</span><br><span class="line">    if [[ $? -ne 0 ]]; then</span><br><span class="line">        colorEcho $&#123;YELLOW&#125; &quot;$&#123;ERROR&#125;&quot;</span><br><span class="line">        return 1</span><br><span class="line">    fi</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">makeExecutable() &#123;</span><br><span class="line">    chmod +x &quot;/usr/bin/v2ray/$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">installV2Ray()&#123;</span><br><span class="line">    # Install V2Ray binary to /usr/bin/v2ray</span><br><span class="line">    mkdir -p /usr/bin/v2ray</span><br><span class="line">    copyFile v2ray</span><br><span class="line">    if [[ $? -ne 0 ]]; then</span><br><span class="line">        colorEcho $&#123;RED&#125; &quot;Failed to copy V2Ray binary and resources.&quot;</span><br><span class="line">        return 1</span><br><span class="line">    fi</span><br><span class="line">    makeExecutable v2ray</span><br><span class="line">    copyFile v2ctl &amp;&amp; makeExecutable v2ctl</span><br><span class="line">    copyFile geoip.dat</span><br><span class="line">    copyFile geosite.dat</span><br><span class="line"></span><br><span class="line">    # Install V2Ray server config to /etc/v2ray</span><br><span class="line">    if [[ ! -f &quot;/etc/v2ray/config.json&quot; ]]; then</span><br><span class="line">        mkdir -p /etc/v2ray</span><br><span class="line">        mkdir -p /var/log/v2ray</span><br><span class="line">        cp &quot;$&#123;VSRC_ROOT&#125;/vpoint_vmess_freedom.json&quot; &quot;/etc/v2ray/config.json&quot;</span><br><span class="line">        if [[ $? -ne 0 ]]; then</span><br><span class="line">            colorEcho $&#123;YELLOW&#125; &quot;Failed to create V2Ray configuration file. Please create it manually.&quot;</span><br><span class="line">            return 1</span><br><span class="line">        fi</span><br><span class="line">        let PORT=$RANDOM+10000</span><br><span class="line">        UUID=$(cat /proc/sys/kernel/random/uuid)</span><br><span class="line"></span><br><span class="line">        sed -i &quot;s/10086/$&#123;PORT&#125;/g&quot; &quot;/etc/v2ray/config.json&quot;</span><br><span class="line">        sed -i &quot;s/23ad6b10-8d1a-40f7-8ad0-e3e35cd38297/$&#123;UUID&#125;/g&quot; &quot;/etc/v2ray/config.json&quot;</span><br><span class="line"></span><br><span class="line">        colorEcho $&#123;BLUE&#125; &quot;PORT:$&#123;PORT&#125;&quot;</span><br><span class="line">        colorEcho $&#123;BLUE&#125; &quot;UUID:$&#123;UUID&#125;&quot;</span><br><span class="line">    fi</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">installInitScript()&#123;</span><br><span class="line">    if [[ -n &quot;$&#123;SYSTEMCTL_CMD&#125;&quot; ]];then</span><br><span class="line">        if [[ ! -f &quot;/etc/systemd/system/v2ray.service&quot; ]]; then</span><br><span class="line">            if [[ ! -f &quot;/lib/systemd/system/v2ray.service&quot; ]]; then</span><br><span class="line">                cp &quot;$&#123;VSRC_ROOT&#125;/systemd/v2ray.service&quot; &quot;/etc/systemd/system/&quot;</span><br><span class="line">                systemctl enable v2ray.service</span><br><span class="line">            fi</span><br><span class="line">        fi</span><br><span class="line">        return</span><br><span class="line">    elif [[ -n &quot;$&#123;SERVICE_CMD&#125;&quot; ]] &amp;&amp; [[ ! -f &quot;/etc/init.d/v2ray&quot; ]]; then</span><br><span class="line">        installSoftware &quot;daemon&quot; || return $?</span><br><span class="line">        cp &quot;$&#123;VSRC_ROOT&#125;/systemv/v2ray&quot; &quot;/etc/init.d/v2ray&quot;</span><br><span class="line">        chmod +x &quot;/etc/init.d/v2ray&quot;</span><br><span class="line">        update-rc.d v2ray defaults</span><br><span class="line">    fi</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Help()&#123;</span><br><span class="line">    echo &quot;./install-release.sh [-h] [-c] [--remove] [-p proxy] [-f] [--version vx.y.z] [-l file]&quot;</span><br><span class="line">    echo &quot;  -h, --help            Show help&quot;</span><br><span class="line">    echo &quot;  -p, --proxy           To download through a proxy server, use -p socks5://127.0.0.1:1080 or -p http://127.0.0.1:3128 etc&quot;</span><br><span class="line">    echo &quot;  -f, --force           Force install&quot;</span><br><span class="line">    echo &quot;      --version         Install a particular version, use --version v3.15&quot;</span><br><span class="line">    echo &quot;  -l, --local           Install from a local file&quot;</span><br><span class="line">    echo &quot;      --remove          Remove installed V2Ray&quot;</span><br><span class="line">    echo &quot;  -c, --check           Check for update&quot;</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">remove()&#123;</span><br><span class="line">    if [[ -n &quot;$&#123;SYSTEMCTL_CMD&#125;&quot; ]] &amp;&amp; [[ -f &quot;/etc/systemd/system/v2ray.service&quot; ]];then</span><br><span class="line">        if pgrep &quot;v2ray&quot; &gt; /dev/null ; then</span><br><span class="line">            stopV2ray</span><br><span class="line">        fi</span><br><span class="line">        systemctl disable v2ray.service</span><br><span class="line">        rm -rf &quot;/usr/bin/v2ray&quot; &quot;/etc/systemd/system/v2ray.service&quot;</span><br><span class="line">        if [[ $? -ne 0 ]]; then</span><br><span class="line">            colorEcho $&#123;RED&#125; &quot;Failed to remove V2Ray.&quot;</span><br><span class="line">            return 0</span><br><span class="line">        else</span><br><span class="line">            colorEcho $&#123;GREEN&#125; &quot;Removed V2Ray successfully.&quot;</span><br><span class="line">            colorEcho $&#123;BLUE&#125; &quot;If necessary, please remove configuration file and log file manually.&quot;</span><br><span class="line">            return 0</span><br><span class="line">        fi</span><br><span class="line">    elif [[ -n &quot;$&#123;SYSTEMCTL_CMD&#125;&quot; ]] &amp;&amp; [[ -f &quot;/lib/systemd/system/v2ray.service&quot; ]];then</span><br><span class="line">        if pgrep &quot;v2ray&quot; &gt; /dev/null ; then</span><br><span class="line">            stopV2ray</span><br><span class="line">        fi</span><br><span class="line">        systemctl disable v2ray.service</span><br><span class="line">        rm -rf &quot;/usr/bin/v2ray&quot; &quot;/lib/systemd/system/v2ray.service&quot;</span><br><span class="line">        if [[ $? -ne 0 ]]; then</span><br><span class="line">            colorEcho $&#123;RED&#125; &quot;Failed to remove V2Ray.&quot;</span><br><span class="line">            return 0</span><br><span class="line">        else</span><br><span class="line">            colorEcho $&#123;GREEN&#125; &quot;Removed V2Ray successfully.&quot;</span><br><span class="line">            colorEcho $&#123;BLUE&#125; &quot;If necessary, please remove configuration file and log file manually.&quot;</span><br><span class="line">            return 0</span><br><span class="line">        fi</span><br><span class="line">    elif [[ -n &quot;$&#123;SERVICE_CMD&#125;&quot; ]] &amp;&amp; [[ -f &quot;/etc/init.d/v2ray&quot; ]]; then</span><br><span class="line">        if pgrep &quot;v2ray&quot; &gt; /dev/null ; then</span><br><span class="line">            stopV2ray</span><br><span class="line">        fi</span><br><span class="line">        rm -rf &quot;/usr/bin/v2ray&quot; &quot;/etc/init.d/v2ray&quot;</span><br><span class="line">        if [[ $? -ne 0 ]]; then</span><br><span class="line">            colorEcho $&#123;RED&#125; &quot;Failed to remove V2Ray.&quot;</span><br><span class="line">            return 0</span><br><span class="line">        else</span><br><span class="line">            colorEcho $&#123;GREEN&#125; &quot;Removed V2Ray successfully.&quot;</span><br><span class="line">            colorEcho $&#123;BLUE&#125; &quot;If necessary, please remove configuration file and log file manually.&quot;</span><br><span class="line">            return 0</span><br><span class="line">        fi       </span><br><span class="line">    else</span><br><span class="line">        colorEcho $&#123;YELLOW&#125; &quot;V2Ray not found.&quot;</span><br><span class="line">        return 0</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">checkUpdate()&#123;</span><br><span class="line">    echo &quot;Checking for update.&quot;</span><br><span class="line">    VERSION=&quot;&quot;</span><br><span class="line">    getVersion</span><br><span class="line">    RETVAL=&quot;$?&quot;</span><br><span class="line">    if [[ $RETVAL -eq 1 ]]; then</span><br><span class="line">        colorEcho $&#123;BLUE&#125; &quot;Found new version $&#123;NEW_VER&#125; for V2Ray.(Current version:$CUR_VER)&quot;</span><br><span class="line">    elif [[ $RETVAL -eq 0 ]]; then</span><br><span class="line">        colorEcho $&#123;BLUE&#125; &quot;No new version. Current version is $&#123;NEW_VER&#125;.&quot;</span><br><span class="line">    elif [[ $RETVAL -eq 2 ]]; then</span><br><span class="line">        colorEcho $&#123;YELLOW&#125; &quot;No V2Ray installed.&quot;</span><br><span class="line">        colorEcho $&#123;BLUE&#125; &quot;The newest version for V2Ray is $&#123;NEW_VER&#125;.&quot;</span><br><span class="line">    fi</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main()&#123;</span><br><span class="line">    #helping information</span><br><span class="line">    [[ &quot;$HELP&quot; == &quot;1&quot; ]] &amp;&amp; Help &amp;&amp; return</span><br><span class="line">    [[ &quot;$CHECK&quot; == &quot;1&quot; ]] &amp;&amp; checkUpdate &amp;&amp; return</span><br><span class="line">    [[ &quot;$REMOVE&quot; == &quot;1&quot; ]] &amp;&amp; remove &amp;&amp; return</span><br><span class="line"></span><br><span class="line">    sysArch</span><br><span class="line">    # extract local file</span><br><span class="line">    if [[ $LOCAL_INSTALL -eq 1 ]]; then</span><br><span class="line">        colorEcho $&#123;YELLOW&#125; &quot;Installing V2Ray via local file. Please make sure the file is a valid V2Ray package, as we are not able to determine that.&quot;</span><br><span class="line">        NEW_VER=local</span><br><span class="line">        installSoftware unzip || return $?</span><br><span class="line">        rm -rf /tmp/v2ray</span><br><span class="line">        extract $LOCAL || return $?</span><br><span class="line">        #FILEVDIS=`ls /tmp/v2ray |grep v2ray-v |cut -d &quot;-&quot; -f4`</span><br><span class="line">        #SYSTEM=`ls /tmp/v2ray |grep v2ray-v |cut -d &quot;-&quot; -f3`</span><br><span class="line">        #if [[ $&#123;SYSTEM&#125; != &quot;linux&quot; ]]; then</span><br><span class="line">        #    colorEcho $&#123;RED&#125; &quot;The local V2Ray can not be installed in linux.&quot;</span><br><span class="line">        #    return 1</span><br><span class="line">        #elif [[ $&#123;FILEVDIS&#125; != $&#123;VDIS&#125; ]]; then</span><br><span class="line">        #    colorEcho $&#123;RED&#125; &quot;The local V2Ray can not be installed in $&#123;ARCH&#125; system.&quot;</span><br><span class="line">        #    return 1</span><br><span class="line">        #else</span><br><span class="line">        #    NEW_VER=`ls /tmp/v2ray |grep v2ray-v |cut -d &quot;-&quot; -f2`</span><br><span class="line">        #fi</span><br><span class="line">    else</span><br><span class="line">        # download via network and extract</span><br><span class="line">        installSoftware &quot;curl&quot; || return $?</span><br><span class="line">        getVersion</span><br><span class="line">        RETVAL=&quot;$?&quot;</span><br><span class="line">        if [[ $RETVAL == 0 ]] &amp;&amp; [[ &quot;$FORCE&quot; != &quot;1&quot; ]]; then</span><br><span class="line">            colorEcho $&#123;BLUE&#125; &quot;Latest version $&#123;NEW_VER&#125; is already installed.&quot;</span><br><span class="line">            if [[ &quot;$&#123;ERROR_IF_UPTODATE&#125;&quot; == &quot;1&quot; ]]; then</span><br><span class="line">              return 10</span><br><span class="line">            fi</span><br><span class="line">            return</span><br><span class="line">        elif [[ $RETVAL == 3 ]]; then</span><br><span class="line">            return 3</span><br><span class="line">        else</span><br><span class="line">            colorEcho $&#123;BLUE&#125; &quot;Installing V2Ray $&#123;NEW_VER&#125; on $&#123;ARCH&#125;&quot;</span><br><span class="line">            downloadV2Ray || return $?</span><br><span class="line">            installSoftware unzip || return $?</span><br><span class="line">            extract $&#123;ZIPFILE&#125; || return $?</span><br><span class="line">        fi</span><br><span class="line">    fi </span><br><span class="line"></span><br><span class="line">    if [[ &quot;$&#123;EXTRACT_ONLY&#125;&quot; == &quot;1&quot; ]]; then</span><br><span class="line">        colorEcho $&#123;GREEN&#125; &quot;V2Ray extracted to $&#123;VSRC_ROOT&#125;, and exiting...&quot;</span><br><span class="line">        return 0</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    if pgrep &quot;v2ray&quot; &gt; /dev/null ; then</span><br><span class="line">        V2RAY_RUNNING=1</span><br><span class="line">        stopV2ray</span><br><span class="line">    fi</span><br><span class="line">    installV2Ray || return $?</span><br><span class="line">    installInitScript || return $?</span><br><span class="line">    if [[ $&#123;V2RAY_RUNNING&#125; -eq 1 ]];then</span><br><span class="line">        colorEcho $&#123;BLUE&#125; &quot;Restarting V2Ray service.&quot;</span><br><span class="line">        startV2ray</span><br><span class="line">    fi</span><br><span class="line">    colorEcho $&#123;GREEN&#125; &quot;V2Ray $&#123;NEW_VER&#125; is installed.&quot;</span><br><span class="line">    rm -rf /tmp/v2ray</span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main</span><br></pre></td></tr></table></figure>

<h3 id="系统重装"><a href="#系统重装" class="headerlink" title="系统重装"></a>系统重装</h3><h4 id="原系统为Linux-1"><a href="#原系统为Linux-1" class="headerlink" title="原系统为Linux"></a>原系统为Linux</h4><h5 id="Linux-3"><a href="#Linux-3" class="headerlink" title="Linux"></a>Linux</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"> </span><br><span class="line">while [[ $# -ge 1 ]]; do</span><br><span class="line">  case $1 in</span><br><span class="line">    -v|--ver)</span><br><span class="line">      shift</span><br><span class="line">      VERtmp=&quot;$1&quot;</span><br><span class="line">      shift</span><br><span class="line">      ;;</span><br><span class="line">    -d|--debian|--ubuntu)</span><br><span class="line">      shift</span><br><span class="line">      vDEBtmp=&quot;$1&quot;</span><br><span class="line">      shift</span><br><span class="line">      ;;</span><br><span class="line">    -p|--password)</span><br><span class="line">      shift</span><br><span class="line">      WDtmp=&quot;$1&quot;</span><br><span class="line">      shift</span><br><span class="line">      ;;</span><br><span class="line">    -a|--auto)</span><br><span class="line">      shift</span><br><span class="line">      INStmp=&#x27;auto&#x27;</span><br><span class="line">      ;;</span><br><span class="line">    -m|--manual)</span><br><span class="line">      shift</span><br><span class="line">      INStmp=&#x27;manual&#x27;</span><br><span class="line">      ;;</span><br><span class="line">    -apt|--mirror)</span><br><span class="line">      shift</span><br><span class="line">      isMirror=&#x27;1&#x27;</span><br><span class="line">      tmpMirror=&quot;$1&quot;</span><br><span class="line">      shift</span><br><span class="line">      ;;</span><br><span class="line">    *)</span><br><span class="line">      echo -ne &quot; Usage:\n\tbash $0\t-d/--debian [7/\033[33m\033[04mwheezy\033[0m|8/jessie|9/stretch]\n\t\t\t\t-v/--ver [32/\033[33m\033[04mi386\033[0m|64/amd64]\n\t\t\t\t-apt/--mirror\n\t\t\t\t-a/--auto\n\t\t\t\t-m/--manual\n&quot;</span><br><span class="line">      exit 1;</span><br><span class="line">      ;;</span><br><span class="line">    esac</span><br><span class="line">  done</span><br><span class="line"> </span><br><span class="line">[ $EUID -ne 0 ] &amp;&amp; echo &quot;Error:This script must be run as root!&quot; &amp;&amp; exit 1</span><br><span class="line">[ -f /boot/grub/grub.cfg ] &amp;&amp; GRUBOLD=&#x27;0&#x27; &amp;&amp; GRUBDIR=&#x27;/boot/grub&#x27; &amp;&amp; GRUBFILE=&#x27;grub.cfg&#x27;</span><br><span class="line">[ -z $GRUBDIR ] &amp;&amp; [ -f /boot/grub2/grub.cfg ] &amp;&amp; GRUBOLD=&#x27;0&#x27; &amp;&amp; GRUBDIR=&#x27;/boot/grub2&#x27; &amp;&amp; GRUBFILE=&#x27;grub.cfg&#x27;</span><br><span class="line">[ -z $GRUBDIR ] &amp;&amp; [ -f /boot/grub/grub.conf ] &amp;&amp; GRUBOLD=&#x27;1&#x27; &amp;&amp; GRUBDIR=&#x27;/boot/grub&#x27; &amp;&amp; GRUBFILE=&#x27;grub.conf&#x27;</span><br><span class="line">[ -z $GRUBDIR -o -z $GRUBFILE ] &amp;&amp; echo &quot;Error! Not Found grub path.&quot; &amp;&amp; exit 1</span><br><span class="line"> </span><br><span class="line">[ -n $vDEBtmp ] &amp;&amp; &#123;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;7&#x27; -o &quot;$vDEBtmp&quot; == &#x27;wheezy&#x27; ] &amp;&amp; linuxdists=&#x27;debian&#x27; &amp;&amp; vDEB=&#x27;wheezy&#x27;;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;8&#x27; -o &quot;$vDEBtmp&quot; == &#x27;jessie&#x27; ] &amp;&amp; linuxdists=&#x27;debian&#x27; &amp;&amp; vDEB=&#x27;jessie&#x27;;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;9&#x27; -o &quot;$vDEBtmp&quot; == &#x27;stretch&#x27; ] &amp;&amp; linuxdists=&#x27;debian&#x27; &amp;&amp; vDEB=&#x27;stretch&#x27;;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;precise&#x27; ] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;precise&#x27;;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;trusty&#x27; ] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;trusty&#x27;;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;wily&#x27; ] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;wily&#x27;;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;xenial&#x27; ] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;xenial&#x27;;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;yakkety&#x27; ] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;yakkety&#x27;;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;zesty&#x27; ] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;zesty&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">[ -n $vDEBtmp ] &amp;&amp; &#123;</span><br><span class="line">[ &quot;$VERtmp&quot; == &#x27;32&#x27; -o &quot;$VERtmp&quot; == &#x27;i386&#x27; ] &amp;&amp; VER=&#x27;i386&#x27;;</span><br><span class="line">[ &quot;$VERtmp&quot; == &#x27;64&#x27; -o &quot;$VERtmp&quot; == &#x27;amd64&#x27; ] &amp;&amp; VER=&#x27;amd64&#x27;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[ -z $linuxdists ] &amp;&amp; linuxdists=&#x27;debian&#x27;</span><br><span class="line">[ -n $isMirror ] &amp;&amp; [ &quot;$isMirror&quot; == &#x27;1&#x27; ] &amp;&amp; [ -n $tmpMirror ] &amp;&amp; &#123;</span><br><span class="line">tmpDebianMirror=&quot;$(echo -n &quot;$tmpMirror&quot; |grep -Eo &#x27;.*\.(\w+)&#x27;)&quot;</span><br><span class="line">echo -n &quot;$tmpDebianMirror&quot; |grep -q &#x27;://&#x27;</span><br><span class="line">[ $? -eq &#x27;0&#x27; ] &amp;&amp; &#123;</span><br><span class="line">DebianMirror=&quot;$(echo -n &quot;$tmpDebianMirror&quot; |awk -F&#x27;://&#x27; &#x27;&#123;print $2&#125;&#x27;)&quot;</span><br><span class="line">&#125; || &#123;</span><br><span class="line">DebianMirror=&quot;$(echo -n &quot;$tmpDebianMirror&quot;)&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125; || &#123;</span><br><span class="line">[[ $linuxdists == &#x27;debian&#x27; ]] &amp;&amp; DebianMirror=&#x27;httpredir.debian.org&#x27;</span><br><span class="line">[[ $linuxdists == &#x27;ubuntu&#x27; ]] &amp;&amp; DebianMirror=&#x27;archive.ubuntu.com&#x27;</span><br><span class="line">&#125;</span><br><span class="line">[ -z $DebianMirrorDirectory ] &amp;&amp; [ -n $DebianMirror ] &amp;&amp; [ -n $tmpMirror ] &amp;&amp; &#123;</span><br><span class="line">DebianMirrorDirectory=&quot;$(echo -n &quot;$tmpMirror&quot; |awk -F&#x27;&#x27;$&#123;DebianMirror&#125;&#x27;&#x27; &#x27;&#123;print $2&#125;&#x27; |sed &#x27;s/\/$//g&#x27;)&quot;</span><br><span class="line">&#125;</span><br><span class="line">[ &quot;$DebianMirrorDirectory&quot; == &#x27;/&#x27; ] &amp;&amp; [ -n $DebianMirror ] &amp;&amp; &#123;</span><br><span class="line">[[ $linuxdists == &#x27;debian&#x27; ]] &amp;&amp; DebianMirrorDirectory=&#x27;/debian&#x27;</span><br><span class="line">[[ $linuxdists == &#x27;ubuntu&#x27; ]] &amp;&amp; DebianMirrorDirectory=&#x27;/ubuntu&#x27;</span><br><span class="line">&#125;</span><br><span class="line">[ -z $DebianMirrorDirectory ] &amp;&amp; [ -n $DebianMirror ] &amp;&amp; &#123;</span><br><span class="line">[[ $linuxdists == &#x27;debian&#x27; ]] &amp;&amp; DebianMirrorDirectory=&#x27;/debian&#x27;</span><br><span class="line">[[ $linuxdists == &#x27;ubuntu&#x27; ]] &amp;&amp; DebianMirrorDirectory=&#x27;/ubuntu&#x27;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[ -n $INStmp ] &amp;&amp; &#123;</span><br><span class="line">[ &quot;$INStmp&quot; == &#x27;auto&#x27; ] &amp;&amp; inVNC=&#x27;n&#x27;</span><br><span class="line">[ &quot;$INStmp&quot; == &#x27;manual&#x27; ] &amp;&amp; inVNC=&#x27;y&#x27;</span><br><span class="line">&#125;</span><br><span class="line">[ -n $WDtmp ] &amp;&amp; myPASSWORD=&quot;$WDtmp&quot;</span><br><span class="line"> </span><br><span class="line">[ -z $vDEB ] &amp;&amp; vDEB=&#x27;wheezy&#x27;;</span><br><span class="line">[ -z $VER ] &amp;&amp; VER=&#x27;i386&#x27;;</span><br><span class="line">[ -z $myPASSWORD ] &amp;&amp; myPASSWORD=&#x27;Vicer&#x27;</span><br><span class="line"> </span><br><span class="line">clear &amp;&amp; echo -e &quot;\n\033[36m# Install\033[0m\n&quot;</span><br><span class="line"> </span><br><span class="line">[ -z $inVNC ] &amp;&amp; ASKVNC()&#123;</span><br><span class="line">inVNC=&#x27;y&#x27;;</span><br><span class="line">echo -ne &quot;\033[34mCan you login VNC?\033[0m\e[33m[\e[32my\e[33m/n]\e[0m &quot;</span><br><span class="line">read inVNCtmp</span><br><span class="line">[[ -n &quot;$inVNCtmp&quot; ]] &amp;&amp; inVNC=$inVNCtmp</span><br><span class="line">[ &quot;$inVNC&quot; == &#x27;y&#x27; -o &quot;$inVNC&quot; == &#x27;Y&#x27; ] &amp;&amp; inVNC=&#x27;y&#x27;</span><br><span class="line">[ &quot;$inVNC&quot; == &#x27;n&#x27; -o &quot;$inVNC&quot; == &#x27;N&#x27; ] &amp;&amp; inVNC=&#x27;n&#x27;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[ &quot;$inVNC&quot; == &#x27;y&#x27; -o &quot;$inVNC&quot; == &#x27;n&#x27; ] || ASKVNC;</span><br><span class="line"> </span><br><span class="line">[[ $linuxdists == &#x27;debian&#x27; ]] &amp;&amp; LinuxName=&#x27;Debian&#x27;</span><br><span class="line">[[ $linuxdists == &#x27;ubuntu&#x27; ]] &amp;&amp; LinuxName=&#x27;Ubuntu&#x27;</span><br><span class="line">[ &quot;$inVNC&quot; == &#x27;y&#x27; ] &amp;&amp; echo -e &quot;\033[34mManual Mode\033[0m insatll \033[33m$LinuxName\033[0m [\033[33m$vDEB\033[0m] [\033[33m$VER\033[0m] in VNC. &quot;</span><br><span class="line">[ &quot;$inVNC&quot; == &#x27;n&#x27; ] &amp;&amp; echo -e &quot;\033[34mAuto Mode\033[0m insatll \033[33m$LinuxName\033[0m [\033[33m$vDEB\033[0m] [\033[33m$VER\033[0m]. &quot;</span><br><span class="line"> </span><br><span class="line">echo -e &quot;\n[\033[33m$vDEB\033[0m] [\033[33m$VER\033[0m] Downloading...&quot;</span><br><span class="line">[ -z $DebianMirror ] &amp;&amp; echo -ne &quot;\033[31mError! \033[0mGet debian mirror fail! \n&quot; &amp;&amp; exit 1</span><br><span class="line">[ -z $DebianMirrorDirectory ] &amp;&amp; echo -ne &quot;\033[31mError! \033[0mGet debian mirror directory fail! \n&quot; &amp;&amp; exit 1</span><br><span class="line">wget --no-check-certificate -qO &#x27;/boot/initrd.gz&#x27; &quot;http://$DebianMirror$DebianMirrorDirectory/dists/$vDEB/main/installer-$VER/current/images/netboot/$linuxdists-installer/$VER/initrd.gz&quot;</span><br><span class="line">[ $? -ne &#x27;0&#x27; ] &amp;&amp; echo -ne &quot;\033[31mError! \033[0mDownload &#x27;initrd.gz&#x27; failed! \n&quot; &amp;&amp; exit 1</span><br><span class="line">wget --no-check-certificate -qO &#x27;/boot/linux&#x27; &quot;http://$DebianMirror$DebianMirrorDirectory/dists/$vDEB/main/installer-$VER/current/images/netboot/$linuxdists-installer/$VER/linux&quot;</span><br><span class="line">[ $? -ne &#x27;0&#x27; ] &amp;&amp; echo -ne &quot;\033[31mError! \033[0mDownload &#x27;linux&#x27; failed! \n&quot; &amp;&amp; exit 1</span><br><span class="line"> </span><br><span class="line">DEFAULTNET=&quot;$(ip route show |grep -o &#x27;default via [0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.*&#x27; |head -n1 |sed &#x27;s/proto.*\|onlink.*//g&#x27; |awk &#x27;&#123;print $NF&#125;&#x27;)&quot;</span><br><span class="line">[ -n &quot;$DEFAULTNET&quot; ] &amp;&amp; IPSUB=&quot;$(ip addr |grep &#x27;&#x27;$&#123;DEFAULTNET&#125;&#x27;&#x27; |grep &#x27;global&#x27; |grep &#x27;brd&#x27; |head -n1 |grep -o &#x27;[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;/[0-9]\&#123;1,2\&#125;&#x27;)&quot;</span><br><span class="line">IPv4=&quot;$(echo -n &quot;$IPSUB&quot; |cut -d&#x27;/&#x27; -f1)&quot;</span><br><span class="line">NETSUB=&quot;$(echo -n &quot;$IPSUB&quot; |grep -o &#x27;/[0-9]\&#123;1,2\&#125;&#x27;)&quot;</span><br><span class="line">GATE=&quot;$(ip route show |grep -o &#x27;default via [0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;&#x27; |head -n1 |grep -o &#x27;[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;&#x27;)&quot;</span><br><span class="line">[ -n &quot;$NETSUB&quot; ] &amp;&amp; MASK=&quot;$(echo -n &#x27;128.0.0.0/1,192.0.0.0/2,224.0.0.0/3,240.0.0.0/4,248.0.0.0/5,252.0.0.0/6,254.0.0.0/7,255.0.0.0/8,255.128.0.0/9,255.192.0.0/10,255.224.0.0/11,255.240.0.0/12,255.248.0.0/13,255.252.0.0/14,255.254.0.0/15,255.255.0.0/16,255.255.128.0/17,255.255.192.0/18,255.255.224.0/19,255.255.240.0/20,255.255.248.0/21,255.255.252.0/22,255.255.254.0/23,255.255.255.0/24,255.255.255.128/25,255.255.255.192/26,255.255.255.224/27,255.255.255.240/28,255.255.255.248/29,255.255.255.252/30,255.255.255.254/31,255.255.255.255/32&#x27; |grep -o &#x27;[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;&#x27;$&#123;NETSUB&#125;&#x27;&#x27; |cut -d&#x27;/&#x27; -f1)&quot;</span><br><span class="line"> </span><br><span class="line">[ -n &quot;$GATE&quot; ] &amp;&amp; [ -n &quot;$MASK&quot; ] &amp;&amp; [ -n &quot;$IPv4&quot; ] || &#123;</span><br><span class="line">echo &quot;Not found `ip command`, It will use `route command`.&quot;</span><br><span class="line">ipNum() &#123;</span><br><span class="line">  local IFS=&#x27;.&#x27;</span><br><span class="line">  read ip1 ip2 ip3 ip4 &lt;&lt;&lt;&quot;$1&quot;</span><br><span class="line">  echo $((ip1*(1&lt;&lt;24)+ip2*(1&lt;&lt;16)+ip3*(1&lt;&lt;8)+ip4))</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">SelectMax()&#123;</span><br><span class="line">ii=0</span><br><span class="line">for IPITEM in `route -n |awk -v OUT=$1 &#x27;&#123;print $OUT&#125;&#x27; |grep &#x27;[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;&#x27;`</span><br><span class="line">  do</span><br><span class="line">    NumTMP=&quot;$(ipNum $IPITEM)&quot;</span><br><span class="line">    eval &quot;arrayNum[$ii]=&#x27;$NumTMP,$IPITEM&#x27;&quot;</span><br><span class="line">    ii=$[$ii+1]</span><br><span class="line">  done</span><br><span class="line">echo $&#123;arrayNum[@]&#125; |sed &#x27;s/\s/\n/g&#x27; |sort -n -k 1 -t &#x27;,&#x27; |tail -n1 |cut -d&#x27;,&#x27; -f2</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[[ -z $IPv4 ]] &amp;&amp; IPv4=&quot;$(ifconfig |grep &#x27;Bcast&#x27; |head -n1 |grep -o &#x27;[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;&#x27; |head -n1)&quot;</span><br><span class="line">[[ -z $GATE ]] &amp;&amp; GATE=&quot;$(SelectMax 2)&quot;</span><br><span class="line">[[ -z $MASK ]] &amp;&amp; MASK=&quot;$(SelectMax 3)&quot;</span><br><span class="line"> </span><br><span class="line">[ -n &quot;$GATE&quot; ] &amp;&amp; [ -n &quot;$MASK&quot; ] &amp;&amp; [ -n &quot;$IPv4&quot; ] || &#123;</span><br><span class="line">echo &quot;Error! Not configure network. &quot;</span><br><span class="line">exit 1</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[ -f /etc/network/interfaces ] &amp;&amp; &#123;</span><br><span class="line">[[ -z &quot;$(sed -n &#x27;/iface.*inet static/p&#x27; /etc/network/interfaces)&quot; ]] &amp;&amp; AutoNet=&#x27;1&#x27; || AutoNet=&#x27;0&#x27;</span><br><span class="line">[ -d /etc/network/interfaces.d ] &amp;&amp; &#123;</span><br><span class="line">ICFGN=&quot;$(find /etc/network/interfaces.d -name &#x27;*.cfg&#x27; |wc -l)&quot; || ICFGN=&#x27;0&#x27;</span><br><span class="line">[ &quot;$ICFGN&quot; -ne &#x27;0&#x27; ] &amp;&amp; &#123;</span><br><span class="line">for NetCFG in `ls -1 /etc/network/interfaces.d/*.cfg`</span><br><span class="line"> do </span><br><span class="line">  [[ -z &quot;$(cat $NetCFG | sed -n &#x27;/iface.*inet static/p&#x27;)&quot; ]] &amp;&amp; AutoNet=&#x27;1&#x27; || AutoNet=&#x27;0&#x27;</span><br><span class="line">  [ &quot;$AutoNet&quot; -eq &#x27;0&#x27; ] &amp;&amp; break</span><br><span class="line">done</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">[ -d /etc/sysconfig/network-scripts ] &amp;&amp; &#123;</span><br><span class="line">ICFGN=&quot;$(find /etc/sysconfig/network-scripts -name &#x27;ifcfg-*&#x27; |grep -v &#x27;lo&#x27;|wc -l)&quot; || ICFGN=&#x27;0&#x27;</span><br><span class="line">[ &quot;$ICFGN&quot; -ne &#x27;0&#x27; ] &amp;&amp; &#123;</span><br><span class="line">for NetCFG in `ls -1 /etc/sysconfig/network-scripts/ifcfg-* |grep -v &#x27;lo$&#x27; |grep -v &#x27;:[0-9]\&#123;1,\&#125;&#x27;`</span><br><span class="line"> do </span><br><span class="line">  [[ -n &quot;$(cat $NetCFG | sed -n &#x27;/BOOTPROTO.*[dD][hH][cC][pP]/p&#x27;)&quot; ]] &amp;&amp; AutoNet=&#x27;1&#x27; || &#123;</span><br><span class="line">  AutoNet=&#x27;0&#x27; &amp;&amp; . $NetCFG</span><br><span class="line">  [ -n $NETMASK ] &amp;&amp; MASK=&quot;$NETMASK&quot;</span><br><span class="line">  [ -n $GATEWAY ] &amp;&amp; GATE=&quot;$GATEWAY&quot;</span><br><span class="line">&#125;</span><br><span class="line">  [ &quot;$AutoNet&quot; -eq &#x27;0&#x27; ] &amp;&amp; break</span><br><span class="line">done</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[ ! -f $GRUBDIR/$GRUBFILE ] &amp;&amp; echo &quot;Error! Not Found $GRUBFILE. &quot; &amp;&amp; exit 1</span><br><span class="line"> </span><br><span class="line">[ ! -f $GRUBDIR/$GRUBFILE.old ] &amp;&amp; [ -f $GRUBDIR/$GRUBFILE.bak ] &amp;&amp; mv -f $GRUBDIR/$GRUBFILE.bak $GRUBDIR/$GRUBFILE.old</span><br><span class="line">mv -f $GRUBDIR/$GRUBFILE $GRUBDIR/$GRUBFILE.bak</span><br><span class="line">[ -f $GRUBDIR/$GRUBFILE.old ] &amp;&amp; cat $GRUBDIR/$GRUBFILE.old &gt;$GRUBDIR/$GRUBFILE || cat $GRUBDIR/$GRUBFILE.bak &gt;$GRUBDIR/$GRUBFILE</span><br><span class="line"> </span><br><span class="line">[ &quot;$GRUBOLD&quot; == &#x27;0&#x27; ] &amp;&amp; &#123;</span><br><span class="line">CFG0=&quot;$(awk &#x27;/menuentry /&#123;print NR&#125;&#x27; $GRUBDIR/$GRUBFILE|head -n 1)&quot;</span><br><span class="line">CFG2=&quot;$(awk &#x27;/menuentry /&#123;print NR&#125;&#x27; $GRUBDIR/$GRUBFILE|head -n 2 |tail -n 1)&quot;</span><br><span class="line">CFG1=&quot;&quot;</span><br><span class="line">for CFGtmp in `awk &#x27;/&#125;/&#123;print NR&#125;&#x27; $GRUBDIR/$GRUBFILE`</span><br><span class="line"> do</span><br><span class="line">  [ $CFGtmp -gt &quot;$CFG0&quot; -a $CFGtmp -lt &quot;$CFG2&quot; ] &amp;&amp; CFG1=&quot;$CFGtmp&quot;;</span><br><span class="line"> done</span><br><span class="line">[ -z &quot;$CFG1&quot; ] &amp;&amp; &#123;</span><br><span class="line">echo &quot;Error! read $GRUBFILE. &quot;</span><br><span class="line">exit 1</span><br><span class="line">&#125;</span><br><span class="line">sed -n &quot;$CFG0,$CFG1&quot;p $GRUBDIR/$GRUBFILE &gt;/tmp/grub.new</span><br><span class="line">[ -f /tmp/grub.new ] &amp;&amp; [ &quot;$(grep -c &#x27;&#123;&#x27; /tmp/grub.new)&quot; -eq &quot;$(grep -c &#x27;&#125;&#x27; /tmp/grub.new)&quot; ] || &#123;</span><br><span class="line">echo -ne &quot;\033[31mError! \033[0mNot configure $GRUBFILE. \n&quot;</span><br><span class="line">exit 1</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">sed -i &quot;/menuentry.*/c\menuentry\ \&#x27;Install OS \[$vDEB\ $VER\]\&#x27;\ --class debian\ --class\ gnu-linux\ --class\ gnu\ --class\ os\ \&#123;&quot; /tmp/grub.new</span><br><span class="line">[ &quot;$(grep -c &#x27;&#123;&#x27; /tmp/grub.new)&quot; -eq &quot;$(grep -c &#x27;&#125;&#x27; /tmp/grub.new)&quot; ] || &#123;</span><br><span class="line">echo &quot;Error! configure append $GRUBFILE. &quot;</span><br><span class="line">exit 1</span><br><span class="line">&#125;</span><br><span class="line">sed -i &quot;/echo.*Loading/d&quot; /tmp/grub.new</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[ &quot;$GRUBOLD&quot; == &#x27;1&#x27; ] &amp;&amp; &#123;</span><br><span class="line">CFG0=&quot;$(awk &#x27;/title /&#123;print NR&#125;&#x27; $GRUBDIR/$GRUBFILE|head -n 1)&quot;</span><br><span class="line">CFG1=&quot;$(awk &#x27;/title /&#123;print NR&#125;&#x27; $GRUBDIR/$GRUBFILE|head -n 2 |tail -n 1)&quot;</span><br><span class="line">[ -n $CFG0 ] &amp;&amp; [ -z $CFG1 -o $CFG1 == $CFG0 ] &amp;&amp; sed -n &quot;$CFG0,$&quot;p $GRUBDIR/$GRUBFILE &gt;/tmp/grub.new</span><br><span class="line">[ -n $CFG0 ] &amp;&amp; [ -z $CFG1 -o $CFG1 != $CFG0 ] &amp;&amp; sed -n &quot;$CFG0,$CFG1&quot;p $GRUBDIR/$GRUBFILE &gt;/tmp/grub.new</span><br><span class="line">[ ! -f /tmp/grub.new ] &amp;&amp; echo &quot;Error! configure append $GRUBFILE. &quot; &amp;&amp; exit 1</span><br><span class="line">sed -i &quot;/title.*/c\title\ \&#x27;Install OS \[$vDEB\ $VER\]\&#x27;&quot; /tmp/grub.new</span><br><span class="line">sed -i &#x27;/^#/d&#x27; /tmp/grub.new</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[ -n &quot;$(grep &#x27;initrd.*/&#x27; /tmp/grub.new |awk &#x27;&#123;print $2&#125;&#x27; |tail -n 1 |grep &#x27;^/boot/&#x27;)&quot; ] &amp;&amp; Type=&#x27;InBoot&#x27; || Type=&#x27;NoBoot&#x27;</span><br><span class="line"> </span><br><span class="line">LinuxKernel=&quot;$(grep &#x27;linux.*/&#x27; /tmp/grub.new |awk &#x27;&#123;print $1&#125;&#x27; |head -n 1)&quot;</span><br><span class="line">[ -z $LinuxKernel ] &amp;&amp; LinuxKernel=&quot;$(grep &#x27;kernel.*/&#x27; /tmp/grub.new |awk &#x27;&#123;print $1&#125;&#x27; |head -n 1)&quot;</span><br><span class="line">LinuxIMG=&quot;$(grep &#x27;initrd.*/&#x27; /tmp/grub.new |awk &#x27;&#123;print $1&#125;&#x27; |tail -n 1)&quot;</span><br><span class="line"> </span><br><span class="line">[ &quot;$Type&quot; == &#x27;InBoot&#x27; ] &amp;&amp; &#123;</span><br><span class="line">sed -i &quot;/$LinuxKernel.*\//c\\\t$LinuxKernel\\t\/boot\/linux auto=true hostname=$linuxdists domain= -- quiet&quot; /tmp/grub.new</span><br><span class="line">sed -i &quot;/$LinuxIMG.*\//c\\\t$LinuxIMG\\t\/boot\/initrd.gz&quot; /tmp/grub.new</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[ &quot;$Type&quot; == &#x27;NoBoot&#x27; ] &amp;&amp; &#123;</span><br><span class="line">sed -i &quot;/$LinuxKernel.*\//c\\\t$LinuxKernel\\t\/linux auto=true hostname=$linuxdists domain= -- quiet&quot; /tmp/grub.new</span><br><span class="line">sed -i &quot;/$LinuxIMG.*\//c\\\t$LinuxIMG\\t\/initrd.gz&quot; /tmp/grub.new</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">sed -i &#x27;$a\\n&#x27; /tmp/grub.new</span><br><span class="line"> </span><br><span class="line">[ &quot;$inVNC&quot; == &#x27;n&#x27; ] &amp;&amp; &#123;</span><br><span class="line">GRUBPATCH=&#x27;0&#x27;</span><br><span class="line">[ -f /etc/network/interfaces -o -d /etc/sysconfig/network-scripts ] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;&#x27;$&#123;CFG0&#125;&#x27;i\\n&#x27; $GRUBDIR/$GRUBFILE</span><br><span class="line">sed -i &#x27;&#x27;$&#123;CFG0&#125;&#x27;r /tmp/grub.new&#x27; $GRUBDIR/$GRUBFILE</span><br><span class="line">[ -z $AutoNet ] &amp;&amp; echo &quot;Error, Not found interfaces config.&quot; &amp;&amp; exit 1</span><br><span class="line">[ -f  $GRUBDIR/grubenv ] &amp;&amp; sed -i &#x27;s/saved_entry/#saved_entry/g&#x27; $GRUBDIR/grubenv</span><br><span class="line">[ -d /boot/tmp ] &amp;&amp; rm -rf /boot/tmp</span><br><span class="line">mkdir -p /boot/tmp/</span><br><span class="line">cd /boot/tmp/</span><br><span class="line">gzip -d &lt; ../initrd.gz | cpio --extract --verbose --make-directories --no-absolute-filenames &gt;&gt;/dev/null 2&gt;&amp;1</span><br><span class="line">cat &gt;/boot/tmp/preseed.cfg&lt;&lt;EOF</span><br><span class="line">d-i debian-installer/locale string en_US</span><br><span class="line">d-i console-setup/layoutcode string us</span><br><span class="line"> </span><br><span class="line">d-i keyboard-configuration/xkb-keymap string us</span><br><span class="line"> </span><br><span class="line">d-i netcfg/choose_interface select auto</span><br><span class="line"> </span><br><span class="line">d-i netcfg/disable_autoconfig boolean true</span><br><span class="line">d-i netcfg/dhcp_failed note</span><br><span class="line">d-i netcfg/dhcp_options select Configure network manually</span><br><span class="line">d-i netcfg/get_ipaddress string $IPv4</span><br><span class="line">d-i netcfg/get_netmask string $MASK</span><br><span class="line">d-i netcfg/get_gateway string $GATE</span><br><span class="line">d-i netcfg/get_nameservers string 8.8.8.8</span><br><span class="line">d-i netcfg/no_default_route boolean true</span><br><span class="line">d-i netcfg/confirm_static boolean true</span><br><span class="line"> </span><br><span class="line">d-i mirror/country string manual</span><br><span class="line">d-i mirror/http/hostname string $DebianMirror</span><br><span class="line">d-i mirror/http/directory string $DebianMirrorDirectory</span><br><span class="line">d-i mirror/http/proxy string</span><br><span class="line"> </span><br><span class="line">d-i passwd/root-login boolean ture</span><br><span class="line">d-i passwd/make-user boolean false</span><br><span class="line">d-i passwd/root-password password $myPASSWORD</span><br><span class="line">d-i passwd/root-password-again password $myPASSWORD</span><br><span class="line">d-i user-setup/allow-password-weak boolean true</span><br><span class="line">d-i user-setup/encrypt-home boolean false</span><br><span class="line"> </span><br><span class="line">d-i clock-setup/utc boolean true</span><br><span class="line">d-i time/zone string US/Eastern</span><br><span class="line">d-i clock-setup/ntp boolean true</span><br><span class="line"> </span><br><span class="line">d-i partman/early_command string \</span><br><span class="line">debconf-set partman-auto/disk &quot;\$(list-devices disk |head -n1)&quot;; \</span><br><span class="line">debconf-set grub-installer/bootdev string &quot;\$(list-devices disk |head -n1)&quot;; \</span><br><span class="line">umount /media || true;</span><br><span class="line">d-i partman/mount_style select uuid</span><br><span class="line">d-i partman-auto/init_automatically_partition select Guided - use entire disk</span><br><span class="line">d-i partman-auto/method string regular</span><br><span class="line">d-i partman-lvm/device_remove_lvm boolean true</span><br><span class="line">d-i partman-md/device_remove_md boolean true</span><br><span class="line">d-i partman-auto/choose_recipe select atomic</span><br><span class="line">d-i partman-partitioning/confirm_write_new_label boolean true</span><br><span class="line">d-i partman/choose_partition select finish</span><br><span class="line">d-i partman-lvm/confirm boolean true</span><br><span class="line">d-i partman-lvm/confirm_nooverwrite boolean true</span><br><span class="line">d-i partman/confirm boolean true</span><br><span class="line">d-i partman/confirm_nooverwrite boolean true</span><br><span class="line"> </span><br><span class="line">d-i debian-installer/allow_unauthenticated boolean true</span><br><span class="line"> </span><br><span class="line">tasksel tasksel/first multiselect minimal</span><br><span class="line">d-i pkgsel/update-policy select none</span><br><span class="line">d-i pkgsel/include string openssh-server</span><br><span class="line">d-i pkgsel/upgrade select none</span><br><span class="line"> </span><br><span class="line">popularity-contest popularity-contest/participate boolean false</span><br><span class="line"> </span><br><span class="line">d-i grub-installer/only_debian boolean true</span><br><span class="line">d-i grub-installer/bootdev string default</span><br><span class="line">d-i finish-install/reboot_in_progress note</span><br><span class="line">d-i debian-installer/exit/reboot boolean true</span><br><span class="line">d-i preseed/late_command string \</span><br><span class="line">sed -i &#x27;s/^.*PermitRootLogin.*/PermitRootLogin yes/g&#x27; /target/etc/ssh/sshd_config; \</span><br><span class="line">sed -i &#x27;s/^.*PasswordAuthentication.*/PasswordAuthentication yes/g&#x27; /target/etc/ssh/sshd_config;</span><br><span class="line">EOF</span><br><span class="line">[ &quot;$AutoNet&quot; -eq &#x27;1&#x27; ] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;/netcfg\/disable_autoconfig/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;/netcfg\/dhcp_options/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;/netcfg\/get_.*/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;/netcfg\/confirm_static/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">&#125;</span><br><span class="line">[ &quot;$vDEB&quot; == &#x27;trusty&#x27; ] &amp;&amp; GRUBPATCH=&#x27;1&#x27;</span><br><span class="line">[ &quot;$vDEB&quot; == &#x27;wily&#x27; ] &amp;&amp; GRUBPATCH=&#x27;1&#x27;</span><br><span class="line">[ &quot;$GRUBPATCH&quot; == &#x27;1&#x27; ] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;s/^d-i\ grub-installer\/bootdev\ string\ default//g&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">&#125;</span><br><span class="line">[ &quot;$GRUBPATCH&quot; == &#x27;0&#x27; ] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;s/debconf-set\ grub-installer\/bootdev.*\&quot;\;//g&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">&#125;</span><br><span class="line">[ &quot;$linuxdists&quot; == &#x27;debian&#x27; ] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;/user-setup\/allow-password-weak/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;/user-setup\/encrypt-home/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;/pkgsel\/update-policy/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;s/umount\ \/media.*\;//g&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">&#125;</span><br><span class="line">rm -rf ../initrd.gz</span><br><span class="line">find . | cpio -H newc --create --verbose | gzip -9 &gt; ../initrd.gz</span><br><span class="line">rm -rf /boot/tmp</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[ &quot;$inVNC&quot; == &#x27;y&#x27; ] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;$i\\n&#x27; $GRUBDIR/$GRUBFILE</span><br><span class="line">sed -i &#x27;$r /tmp/grub.new&#x27; $GRUBDIR/$GRUBFILE</span><br><span class="line">echo -e &quot;\n\033[33m\033[04mIt will reboot! \nPlease look at VNC! \nSelect\033[0m\033[32m Install OS [$vDEB $VER] \033[33m\033[4mto install system.\033[04m\n\n\033[31m\033[04mThere is some information for you.\nDO NOT CLOSE THE WINDOW! \033[0m\n&quot;</span><br><span class="line">echo -e &quot;\033[35mIPv4\t\tNETMASK\t\tGATEWAY\033[0m&quot;</span><br><span class="line">echo -e &quot;\033[36m\033[04m$IPv4\033[0m\t\033[36m\033[04m$MASK\033[0m\t\033[36m\033[04m$GATE\033[0m\n\n&quot;</span><br><span class="line"> </span><br><span class="line">read -n 1 -p &quot;Press Enter to reboot...&quot; INP</span><br><span class="line">if [ &quot;$INP&quot; != &#x27;&#x27; ] ; then</span><br><span class="line">echo -ne &#x27;\b \n&#x27;</span><br><span class="line">echo &quot;&quot;;</span><br><span class="line">fi</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">chown root:root $GRUBDIR/$GRUBFILE</span><br><span class="line">chmod 444 $GRUBDIR/$GRUBFILE</span><br><span class="line"> </span><br><span class="line">sleep 3 &amp;&amp; reboot &gt;/dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<h5 id="Windows-3"><a href="#Windows-3" class="headerlink" title="Windows"></a>Windows</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"> </span><br><span class="line">while [[ $# -ge 1 ]]; do</span><br><span class="line">  case $1 in</span><br><span class="line">    -v|--ver)</span><br><span class="line">      shift</span><br><span class="line">      VERtmp=&quot;$1&quot;</span><br><span class="line">      shift</span><br><span class="line">      ;;</span><br><span class="line">    -d|--debian|--ubuntu)</span><br><span class="line">      shift</span><br><span class="line">      vDEBtmp=&quot;$1&quot;</span><br><span class="line">      shift</span><br><span class="line">      ;;</span><br><span class="line">    -dd|--ddwin)</span><br><span class="line">      shift</span><br><span class="line">      ddMode=&#x27;1&#x27;</span><br><span class="line">      URLtmp=&quot;$1&quot;</span><br><span class="line">      shift</span><br><span class="line">      ;;</span><br><span class="line">    -p|--password)</span><br><span class="line">      shift</span><br><span class="line">      WDtmp=&quot;$1&quot;</span><br><span class="line">      shift</span><br><span class="line">      ;;</span><br><span class="line">    -a|--auto)</span><br><span class="line">      shift</span><br><span class="line">      INStmp=&#x27;auto&#x27;</span><br><span class="line">      ;;</span><br><span class="line">    -m|--manual)</span><br><span class="line">      shift</span><br><span class="line">      INStmp=&#x27;manual&#x27;</span><br><span class="line">      ;;</span><br><span class="line">    -apt|--mirror)</span><br><span class="line">      shift</span><br><span class="line">      isMirror=&#x27;1&#x27;</span><br><span class="line">      tmpMirror=&quot;$1&quot;</span><br><span class="line">      shift</span><br><span class="line">      ;;</span><br><span class="line">    -ssl)</span><br><span class="line">      shift</span><br><span class="line">      tmpSSL=&quot;$1&quot;</span><br><span class="line">      shift</span><br><span class="line">      ;;</span><br><span class="line">    *)</span><br><span class="line">      echo -ne &quot; Usage:\n\tbash $0\t-d/--debian [7/\033[33m\033[04mwheezy\033[0m|8/jessie|9/stretch]\n\t\t\t\t-v/--ver [32/\033[33m\033[04mi386\033[0m|64/amd64]\n\t\t\t\t-apt/--mirror\n\t\t\t\t-dd/--ddwin\n\t\t\t\t-a/--auto\n\t\t\t\t-m/--manual\n&quot;</span><br><span class="line">      exit 1;</span><br><span class="line">      ;;</span><br><span class="line">    esac</span><br><span class="line">  done</span><br><span class="line"> </span><br><span class="line">[[ $EUID -ne 0 ]] &amp;&amp; echo &quot;Error:This script must be run as root!&quot; &amp;&amp; exit 1</span><br><span class="line">[[ -f /boot/grub/grub.cfg ]] &amp;&amp; GRUBOLD=&#x27;0&#x27; &amp;&amp; GRUBDIR=&#x27;/boot/grub&#x27; &amp;&amp; GRUBFILE=&#x27;grub.cfg&#x27;</span><br><span class="line">[[ -z $GRUBDIR ]] &amp;&amp; [[ -f /boot/grub2/grub.cfg ]] &amp;&amp; GRUBOLD=&#x27;0&#x27; &amp;&amp; GRUBDIR=&#x27;/boot/grub2&#x27; &amp;&amp; GRUBFILE=&#x27;grub.cfg&#x27;</span><br><span class="line">[[ -z $GRUBDIR ]] &amp;&amp; [[ -f /boot/grub/grub.conf ]] &amp;&amp; GRUBOLD=&#x27;1&#x27; &amp;&amp; GRUBDIR=&#x27;/boot/grub&#x27; &amp;&amp; GRUBFILE=&#x27;grub.conf&#x27;</span><br><span class="line">[ -z $GRUBDIR -o -z $GRUBFILE ] &amp;&amp; echo &quot;Error! Not Found grub path.&quot; &amp;&amp; exit 1</span><br><span class="line"> </span><br><span class="line">[[ -n $vDEBtmp ]] &amp;&amp; &#123;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;7&#x27; -o &quot;$vDEBtmp&quot; == &#x27;wheezy&#x27; ] &amp;&amp; linuxdists=&#x27;debian&#x27; &amp;&amp; vDEB=&#x27;wheezy&#x27;;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;8&#x27; -o &quot;$vDEBtmp&quot; == &#x27;jessie&#x27; ] &amp;&amp; linuxdists=&#x27;debian&#x27; &amp;&amp; vDEB=&#x27;jessie&#x27;;</span><br><span class="line">[ &quot;$vDEBtmp&quot; == &#x27;9&#x27; -o &quot;$vDEBtmp&quot; == &#x27;stretch&#x27; ] &amp;&amp; linuxdists=&#x27;debian&#x27; &amp;&amp; vDEB=&#x27;stretch&#x27;;</span><br><span class="line">[[ &quot;$vDEBtmp&quot; == &#x27;precise&#x27; ]] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;precise&#x27;;</span><br><span class="line">[[ &quot;$vDEBtmp&quot; == &#x27;trusty&#x27; ]] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;trusty&#x27;;</span><br><span class="line">[[ &quot;$vDEBtmp&quot; == &#x27;wily&#x27; ]] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;wily&#x27;;</span><br><span class="line">[[ &quot;$vDEBtmp&quot; == &#x27;xenial&#x27; ]] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;xenial&#x27;;</span><br><span class="line">[[ &quot;$vDEBtmp&quot; == &#x27;yakkety&#x27; ]] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;yakkety&#x27;;</span><br><span class="line">[[ &quot;$vDEBtmp&quot; == &#x27;zesty&#x27; ]] &amp;&amp; linuxdists=&#x27;ubuntu&#x27; &amp;&amp; vDEB=&#x27;zesty&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">[[ -n $vDEBtmp ]] &amp;&amp; &#123;</span><br><span class="line">[ &quot;$VERtmp&quot; == &#x27;32&#x27; -o &quot;$VERtmp&quot; == &#x27;i386&#x27; ] &amp;&amp; VER=&#x27;i386&#x27;;</span><br><span class="line">[ &quot;$VERtmp&quot; == &#x27;64&#x27; -o &quot;$VERtmp&quot; == &#x27;amd64&#x27; ] &amp;&amp; VER=&#x27;amd64&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">[[ -n $ddMode ]] &amp;&amp; [[ &quot;$ddMode&quot; == &#x27;1&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">[[ -n $URLtmp ]] &amp;&amp; &#123;</span><br><span class="line">linuxdists=&#x27;debian&#x27;;</span><br><span class="line">vDEB=&#x27;jessie&#x27;;</span><br><span class="line">VER=&#x27;amd64&#x27;;</span><br><span class="line">INStmp=&#x27;auto&#x27;</span><br><span class="line">DDURL=&quot;$URLtmp&quot;</span><br><span class="line">[[ -n $tmpSSL ]] &amp;&amp; CURL_SUPPORT=&quot;$tmpSSL&quot;</span><br><span class="line">[[ -z $CURL_SUPPORT ]] &amp;&amp; CURL_SUPPORT=&#x27;https://moeclub.org/get-curl_udeb_amd64&#x27;</span><br><span class="line">&#125; || &#123;</span><br><span class="line">echo &#x27;Please input vaild URL! &#x27;</span><br><span class="line">exit 1</span><br><span class="line">&#125;</span><br><span class="line">&#125; || &#123;</span><br><span class="line">ddMode=&#x27;0&#x27;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[[ -z $linuxdists ]] &amp;&amp; linuxdists=&#x27;debian&#x27;</span><br><span class="line">[[ -n $isMirror ]] &amp;&amp; [[ &quot;$isMirror&quot; == &#x27;1&#x27; ]] &amp;&amp; [[ -n $tmpMirror ]] &amp;&amp; &#123;</span><br><span class="line">tmpDebianMirror=&quot;$(echo -n &quot;$tmpMirror&quot; |grep -Eo &#x27;.*\.(\w+)&#x27;)&quot;</span><br><span class="line">echo -n &quot;$tmpDebianMirror&quot; |grep -q &#x27;://&#x27;</span><br><span class="line">[[ $? -eq &#x27;0&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">DebianMirror=&quot;$(echo -n &quot;$tmpDebianMirror&quot; |awk -F&#x27;://&#x27; &#x27;&#123;print $2&#125;&#x27;)&quot;</span><br><span class="line">&#125; || &#123;</span><br><span class="line">DebianMirror=&quot;$(echo -n &quot;$tmpDebianMirror&quot;)&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125; || &#123;</span><br><span class="line">[[ $linuxdists == &#x27;debian&#x27; ]] &amp;&amp; DebianMirror=&#x27;httpredir.debian.org&#x27;</span><br><span class="line">[[ $linuxdists == &#x27;ubuntu&#x27; ]] &amp;&amp; DebianMirror=&#x27;archive.ubuntu.com&#x27;</span><br><span class="line">&#125;</span><br><span class="line">[[ -z $DebianMirrorDirectory ]] &amp;&amp; [[ -n $DebianMirror ]] &amp;&amp; [[ -n $tmpMirror ]] &amp;&amp; &#123;</span><br><span class="line">DebianMirrorDirectory=&quot;$(echo -n &quot;$tmpMirror&quot; |awk -F&#x27;&#x27;$&#123;DebianMirror&#125;&#x27;&#x27; &#x27;&#123;print $2&#125;&#x27; |sed &#x27;s/\/$//g&#x27;)&quot;</span><br><span class="line">&#125;</span><br><span class="line">[[ &quot;$DebianMirrorDirectory&quot; == &#x27;/&#x27; ]] &amp;&amp; [[ -n $DebianMirror ]] &amp;&amp; &#123;</span><br><span class="line">[[ $linuxdists == &#x27;debian&#x27; ]] &amp;&amp; DebianMirrorDirectory=&#x27;/debian&#x27;</span><br><span class="line">[[ $linuxdists == &#x27;ubuntu&#x27; ]] &amp;&amp; DebianMirrorDirectory=&#x27;/ubuntu&#x27;</span><br><span class="line">&#125;</span><br><span class="line">[[ -z $DebianMirrorDirectory ]] &amp;&amp; [[ -n $DebianMirror ]] &amp;&amp; &#123;</span><br><span class="line">[[ $linuxdists == &#x27;debian&#x27; ]] &amp;&amp; DebianMirrorDirectory=&#x27;/debian&#x27;</span><br><span class="line">[[ $linuxdists == &#x27;ubuntu&#x27; ]] &amp;&amp; DebianMirrorDirectory=&#x27;/ubuntu&#x27;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[[ -n $INStmp ]] &amp;&amp; &#123;</span><br><span class="line">[[ &quot;$INStmp&quot; == &#x27;auto&#x27; ]] &amp;&amp; inVNC=&#x27;n&#x27;</span><br><span class="line">[[ &quot;$INStmp&quot; == &#x27;manual&#x27; ]] &amp;&amp; inVNC=&#x27;y&#x27;</span><br><span class="line">&#125;</span><br><span class="line">[[ -n $WDtmp ]] &amp;&amp; myPASSWORD=&quot;$WDtmp&quot;</span><br><span class="line"> </span><br><span class="line">[[ -z $vDEB ]] &amp;&amp; vDEB=&#x27;wheezy&#x27;;</span><br><span class="line">[[ -z $VER ]] &amp;&amp; VER=&#x27;i386&#x27;;</span><br><span class="line">[[ -z $myPASSWORD ]] &amp;&amp; myPASSWORD=&#x27;Vicer&#x27;</span><br><span class="line"> </span><br><span class="line">clear &amp;&amp; echo -e &quot;\n\033[36m# Install\033[0m\n&quot;</span><br><span class="line"> </span><br><span class="line">[[ -z $inVNC ]] &amp;&amp; ASKVNC()&#123;</span><br><span class="line">inVNC=&#x27;y&#x27;;</span><br><span class="line">[[ &quot;$ddMode&quot; == &#x27;0&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">echo -ne &quot;\033[34mCan you login VNC?\033[0m\e[33m[\e[32my\e[33m/n]\e[0m &quot;</span><br><span class="line">read inVNCtmp</span><br><span class="line">[[ -n &quot;$inVNCtmp&quot; ]] &amp;&amp; inVNC=$inVNCtmp</span><br><span class="line">&#125;</span><br><span class="line">[ &quot;$inVNC&quot; == &#x27;y&#x27; -o &quot;$inVNC&quot; == &#x27;Y&#x27; ] &amp;&amp; inVNC=&#x27;y&#x27;</span><br><span class="line">[ &quot;$inVNC&quot; == &#x27;n&#x27; -o &quot;$inVNC&quot; == &#x27;N&#x27; ] &amp;&amp; inVNC=&#x27;n&#x27;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[ &quot;$inVNC&quot; == &#x27;y&#x27; -o &quot;$inVNC&quot; == &#x27;n&#x27; ] || ASKVNC;</span><br><span class="line"> </span><br><span class="line">[[ $linuxdists == &#x27;debian&#x27; ]] &amp;&amp; LinuxName=&#x27;Debian&#x27;</span><br><span class="line">[[ $linuxdists == &#x27;ubuntu&#x27; ]] &amp;&amp; LinuxName=&#x27;Ubuntu&#x27;</span><br><span class="line">[[ &quot;$ddMode&quot; == &#x27;0&#x27; ]] &amp;&amp; &#123; </span><br><span class="line">[[ &quot;$inVNC&quot; == &#x27;y&#x27; ]] &amp;&amp; echo -e &quot;\033[34mManual Mode\033[0m insatll \033[33m$LinuxName\033[0m [\033[33m$vDEB\033[0m] [\033[33m$VER\033[0m] in VNC. &quot;</span><br><span class="line">[[ &quot;$inVNC&quot; == &#x27;n&#x27; ]] &amp;&amp; echo -e &quot;\033[34mAuto Mode\033[0m insatll \033[33m$LinuxName\033[0m [\033[33m$vDEB\033[0m] [\033[33m$VER\033[0m]. &quot;</span><br><span class="line">&#125;</span><br><span class="line">[[ &quot;$ddMode&quot; == &#x27;1&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">echo -ne &quot;\033[34mAuto Mode\033[0m insatll \033[33mWindows\033[0m\n[\033[33m$DDURL\033[0m]\n&quot;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">echo -e &quot;\n[\033[33m$vDEB\033[0m] [\033[33m$VER\033[0m] Downloading...&quot;</span><br><span class="line">[[ -z $DebianMirror ]] &amp;&amp; echo -ne &quot;\033[31mError! \033[0mGet debian mirror fail! \n&quot; &amp;&amp; exit 1</span><br><span class="line">[[ -z $DebianMirrorDirectory ]] &amp;&amp; echo -ne &quot;\033[31mError! \033[0mGet debian mirror directory fail! \n&quot; &amp;&amp; exit 1</span><br><span class="line">wget --no-check-certificate -qO &#x27;/boot/initrd.gz&#x27; &quot;http://$DebianMirror$DebianMirrorDirectory/dists/$vDEB/main/installer-$VER/current/images/netboot/$linuxdists-installer/$VER/initrd.gz&quot;</span><br><span class="line">[[ $? -ne &#x27;0&#x27; ]] &amp;&amp; echo -ne &quot;\033[31mError! \033[0mDownload &#x27;initrd.gz&#x27; failed! \n&quot; &amp;&amp; exit 1</span><br><span class="line">wget --no-check-certificate -qO &#x27;/boot/linux&#x27; &quot;http://$DebianMirror$DebianMirrorDirectory/dists/$vDEB/main/installer-$VER/current/images/netboot/$linuxdists-installer/$VER/linux&quot;</span><br><span class="line">[[ $? -ne &#x27;0&#x27; ]] &amp;&amp; echo -ne &quot;\033[31mError! \033[0mDownload &#x27;linux&#x27; failed! \n&quot; &amp;&amp; exit 1</span><br><span class="line"> </span><br><span class="line">DEFAULTNET=&quot;$(ip route show |grep -o &#x27;default via [0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.*&#x27; |head -n1 |sed &#x27;s/proto.*\|onlink.*//g&#x27; |awk &#x27;&#123;print $NF&#125;&#x27;)&quot;</span><br><span class="line">[[ -n &quot;$DEFAULTNET&quot; ]] &amp;&amp; IPSUB=&quot;$(ip addr |grep &#x27;&#x27;$&#123;DEFAULTNET&#125;&#x27;&#x27; |grep &#x27;global&#x27; |grep &#x27;brd&#x27; |head -n1 |grep -o &#x27;[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;/[0-9]\&#123;1,2\&#125;&#x27;)&quot;</span><br><span class="line">IPv4=&quot;$(echo -n &quot;$IPSUB&quot; |cut -d&#x27;/&#x27; -f1)&quot;</span><br><span class="line">NETSUB=&quot;$(echo -n &quot;$IPSUB&quot; |grep -o &#x27;/[0-9]\&#123;1,2\&#125;&#x27;)&quot;</span><br><span class="line">GATE=&quot;$(ip route show |grep -o &#x27;default via [0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;&#x27; |head -n1 |grep -o &#x27;[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;&#x27;)&quot;</span><br><span class="line">[[ -n &quot;$NETSUB&quot; ]] &amp;&amp; MASK=&quot;$(echo -n &#x27;128.0.0.0/1,192.0.0.0/2,224.0.0.0/3,240.0.0.0/4,248.0.0.0/5,252.0.0.0/6,254.0.0.0/7,255.0.0.0/8,255.128.0.0/9,255.192.0.0/10,255.224.0.0/11,255.240.0.0/12,255.248.0.0/13,255.252.0.0/14,255.254.0.0/15,255.255.0.0/16,255.255.128.0/17,255.255.192.0/18,255.255.224.0/19,255.255.240.0/20,255.255.248.0/21,255.255.252.0/22,255.255.254.0/23,255.255.255.0/24,255.255.255.128/25,255.255.255.192/26,255.255.255.224/27,255.255.255.240/28,255.255.255.248/29,255.255.255.252/30,255.255.255.254/31,255.255.255.255/32&#x27; |grep -o &#x27;[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;&#x27;$&#123;NETSUB&#125;&#x27;&#x27; |cut -d&#x27;/&#x27; -f1)&quot;</span><br><span class="line"> </span><br><span class="line">[[ -n &quot;$GATE&quot; ]] &amp;&amp; [[ -n &quot;$MASK&quot; ]] &amp;&amp; [[ -n &quot;$IPv4&quot; ]] || &#123;</span><br><span class="line">echo &quot;Not found `ip command`, It will use `route command`.&quot;</span><br><span class="line">ipNum() &#123;</span><br><span class="line">  local IFS=&#x27;.&#x27;</span><br><span class="line">  read ip1 ip2 ip3 ip4 &lt;&lt;&lt;&quot;$1&quot;</span><br><span class="line">  echo $((ip1*(1&lt;&lt;24)+ip2*(1&lt;&lt;16)+ip3*(1&lt;&lt;8)+ip4))</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">SelectMax()&#123;</span><br><span class="line">ii=0</span><br><span class="line">for IPITEM in `route -n |awk -v OUT=$1 &#x27;&#123;print $OUT&#125;&#x27; |grep &#x27;[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;&#x27;`</span><br><span class="line">  do</span><br><span class="line">    NumTMP=&quot;$(ipNum $IPITEM)&quot;</span><br><span class="line">    eval &quot;arrayNum[$ii]=&#x27;$NumTMP,$IPITEM&#x27;&quot;</span><br><span class="line">    ii=$[$ii+1]</span><br><span class="line">  done</span><br><span class="line">echo $&#123;arrayNum[@]&#125; |sed &#x27;s/\s/\n/g&#x27; |sort -n -k 1 -t &#x27;,&#x27; |tail -n1 |cut -d&#x27;,&#x27; -f2</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[[ -z $IPv4 ]] &amp;&amp; IPv4=&quot;$(ifconfig |grep &#x27;Bcast&#x27; |head -n1 |grep -o &#x27;[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;.[0-9]\&#123;1,3\&#125;&#x27; |head -n1)&quot;</span><br><span class="line">[[ -z $GATE ]] &amp;&amp; GATE=&quot;$(SelectMax 2)&quot;</span><br><span class="line">[[ -z $MASK ]] &amp;&amp; MASK=&quot;$(SelectMax 3)&quot;</span><br><span class="line"> </span><br><span class="line">[[ -n &quot;$GATE&quot; ]] &amp;&amp; [[ -n &quot;$MASK&quot; ]] &amp;&amp; [[ -n &quot;$IPv4&quot; ]] || &#123;</span><br><span class="line">echo &quot;Error! Not configure network. &quot;</span><br><span class="line">exit 1</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[[ -f /etc/network/interfaces ]] &amp;&amp; &#123;</span><br><span class="line">[[ -z &quot;$(sed -n &#x27;/iface.*inet static/p&#x27; /etc/network/interfaces)&quot; ]] &amp;&amp; AutoNet=&#x27;1&#x27; || AutoNet=&#x27;0&#x27;</span><br><span class="line">[[ -d /etc/network/interfaces.d ]] &amp;&amp; &#123;</span><br><span class="line">ICFGN=&quot;$(find /etc/network/interfaces.d -name &#x27;*.cfg&#x27; |wc -l)&quot; || ICFGN=&#x27;0&#x27;</span><br><span class="line">[[ &quot;$ICFGN&quot; -ne &#x27;0&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">for NetCFG in `ls -1 /etc/network/interfaces.d/*.cfg`</span><br><span class="line"> do </span><br><span class="line">  [[ -z &quot;$(cat $NetCFG | sed -n &#x27;/iface.*inet static/p&#x27;)&quot; ]] &amp;&amp; AutoNet=&#x27;1&#x27; || AutoNet=&#x27;0&#x27;</span><br><span class="line">  [[ &quot;$AutoNet&quot; -eq &#x27;0&#x27; ]] &amp;&amp; break</span><br><span class="line">done</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">[[ -d /etc/sysconfig/network-scripts ]] &amp;&amp; &#123;</span><br><span class="line">ICFGN=&quot;$(find /etc/sysconfig/network-scripts -name &#x27;ifcfg-*&#x27; |grep -v &#x27;lo&#x27;|wc -l)&quot; || ICFGN=&#x27;0&#x27;</span><br><span class="line">[[ &quot;$ICFGN&quot; -ne &#x27;0&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">for NetCFG in `ls -1 /etc/sysconfig/network-scripts/ifcfg-* |grep -v &#x27;lo$&#x27; |grep -v &#x27;:[0-9]\&#123;1,\&#125;&#x27;`</span><br><span class="line"> do </span><br><span class="line">  [[ -n &quot;$(cat $NetCFG | sed -n &#x27;/BOOTPROTO.*[dD][hH][cC][pP]/p&#x27;)&quot; ]] &amp;&amp; AutoNet=&#x27;1&#x27; || &#123;</span><br><span class="line">  AutoNet=&#x27;0&#x27; &amp;&amp; . $NetCFG</span><br><span class="line">  [[ -n $NETMASK ]] &amp;&amp; MASK=&quot;$NETMASK&quot;</span><br><span class="line">  [[ -n $GATEWAY ]] &amp;&amp; GATE=&quot;$GATEWAY&quot;</span><br><span class="line">&#125;</span><br><span class="line">  [[ &quot;$AutoNet&quot; -eq &#x27;0&#x27; ]] &amp;&amp; break</span><br><span class="line">done</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[[ ! -f $GRUBDIR/$GRUBFILE ]] &amp;&amp; echo &quot;Error! Not Found $GRUBFILE. &quot; &amp;&amp; exit 1</span><br><span class="line"> </span><br><span class="line">[[ ! -f $GRUBDIR/$GRUBFILE.old ]] &amp;&amp; [[ -f $GRUBDIR/$GRUBFILE.bak ]] &amp;&amp; mv -f $GRUBDIR/$GRUBFILE.bak $GRUBDIR/$GRUBFILE.old</span><br><span class="line">mv -f $GRUBDIR/$GRUBFILE $GRUBDIR/$GRUBFILE.bak</span><br><span class="line">[[ -f $GRUBDIR/$GRUBFILE.old ]] &amp;&amp; cat $GRUBDIR/$GRUBFILE.old &gt;$GRUBDIR/$GRUBFILE || cat $GRUBDIR/$GRUBFILE.bak &gt;$GRUBDIR/$GRUBFILE</span><br><span class="line"> </span><br><span class="line">[[ &quot;$GRUBOLD&quot; == &#x27;0&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">CFG0=&quot;$(awk &#x27;/menuentry /&#123;print NR&#125;&#x27; $GRUBDIR/$GRUBFILE|head -n 1)&quot;</span><br><span class="line">CFG2=&quot;$(awk &#x27;/menuentry /&#123;print NR&#125;&#x27; $GRUBDIR/$GRUBFILE|head -n 2 |tail -n 1)&quot;</span><br><span class="line">CFG1=&quot;&quot;</span><br><span class="line">for CFGtmp in `awk &#x27;/&#125;/&#123;print NR&#125;&#x27; $GRUBDIR/$GRUBFILE`</span><br><span class="line"> do</span><br><span class="line">  [ $CFGtmp -gt &quot;$CFG0&quot; -a $CFGtmp -lt &quot;$CFG2&quot; ] &amp;&amp; CFG1=&quot;$CFGtmp&quot;;</span><br><span class="line"> done</span><br><span class="line">[[ -z &quot;$CFG1&quot; ]] &amp;&amp; &#123;</span><br><span class="line">echo &quot;Error! read $GRUBFILE. &quot;</span><br><span class="line">exit 1</span><br><span class="line">&#125;</span><br><span class="line">sed -n &quot;$CFG0,$CFG1&quot;p $GRUBDIR/$GRUBFILE &gt;/tmp/grub.new</span><br><span class="line">[[ -f /tmp/grub.new ]] &amp;&amp; [[ &quot;$(grep -c &#x27;&#123;&#x27; /tmp/grub.new)&quot; -eq &quot;$(grep -c &#x27;&#125;&#x27; /tmp/grub.new)&quot; ]] || &#123;</span><br><span class="line">echo -ne &quot;\033[31mError! \033[0mNot configure $GRUBFILE. \n&quot;</span><br><span class="line">exit 1</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">sed -i &quot;/menuentry.*/c\menuentry\ \&#x27;Install OS \[$vDEB\ $VER\]\&#x27;\ --class debian\ --class\ gnu-linux\ --class\ gnu\ --class\ os\ \&#123;&quot; /tmp/grub.new</span><br><span class="line">[[ &quot;$(grep -c &#x27;&#123;&#x27; /tmp/grub.new)&quot; -eq &quot;$(grep -c &#x27;&#125;&#x27; /tmp/grub.new)&quot; ]] || &#123;</span><br><span class="line">echo &quot;Error! configure append $GRUBFILE. &quot;</span><br><span class="line">exit 1</span><br><span class="line">&#125;</span><br><span class="line">sed -i &quot;/echo.*Loading/d&quot; /tmp/grub.new</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[[ &quot;$GRUBOLD&quot; == &#x27;1&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">CFG0=&quot;$(awk &#x27;/title /&#123;print NR&#125;&#x27; $GRUBDIR/$GRUBFILE|head -n 1)&quot;</span><br><span class="line">CFG1=&quot;$(awk &#x27;/title /&#123;print NR&#125;&#x27; $GRUBDIR/$GRUBFILE|head -n 2 |tail -n 1)&quot;</span><br><span class="line">[[ -n $CFG0 ]] &amp;&amp; [ -z $CFG1 -o $CFG1 == $CFG0 ] &amp;&amp; sed -n &quot;$CFG0,$&quot;p $GRUBDIR/$GRUBFILE &gt;/tmp/grub.new</span><br><span class="line">[[ -n $CFG0 ]] &amp;&amp; [ -z $CFG1 -o $CFG1 != $CFG0 ] &amp;&amp; sed -n &quot;$CFG0,$CFG1&quot;p $GRUBDIR/$GRUBFILE &gt;/tmp/grub.new</span><br><span class="line">[[ ! -f /tmp/grub.new ]] &amp;&amp; echo &quot;Error! configure append $GRUBFILE. &quot; &amp;&amp; exit 1</span><br><span class="line">sed -i &quot;/title.*/c\title\ \&#x27;Install OS \[$vDEB\ $VER\]\&#x27;&quot; /tmp/grub.new</span><br><span class="line">sed -i &#x27;/^#/d&#x27; /tmp/grub.new</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[[ -n &quot;$(grep &#x27;initrd.*/&#x27; /tmp/grub.new |awk &#x27;&#123;print $2&#125;&#x27; |tail -n 1 |grep &#x27;^/boot/&#x27;)&quot; ]] &amp;&amp; Type=&#x27;InBoot&#x27; || Type=&#x27;NoBoot&#x27;</span><br><span class="line"> </span><br><span class="line">LinuxKernel=&quot;$(grep &#x27;linux.*/&#x27; /tmp/grub.new |awk &#x27;&#123;print $1&#125;&#x27; |head -n 1)&quot;</span><br><span class="line">[[ -z $LinuxKernel ]] &amp;&amp; LinuxKernel=&quot;$(grep &#x27;kernel.*/&#x27; /tmp/grub.new |awk &#x27;&#123;print $1&#125;&#x27; |head -n 1)&quot;</span><br><span class="line">LinuxIMG=&quot;$(grep &#x27;initrd.*/&#x27; /tmp/grub.new |awk &#x27;&#123;print $1&#125;&#x27; |tail -n 1)&quot;</span><br><span class="line"> </span><br><span class="line">[[ &quot;$Type&quot; == &#x27;InBoot&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">sed -i &quot;/$LinuxKernel.*\//c\\\t$LinuxKernel\\t\/boot\/linux auto=true hostname=$linuxdists domain= -- quiet&quot; /tmp/grub.new</span><br><span class="line">sed -i &quot;/$LinuxIMG.*\//c\\\t$LinuxIMG\\t\/boot\/initrd.gz&quot; /tmp/grub.new</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[[ &quot;$Type&quot; == &#x27;NoBoot&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">sed -i &quot;/$LinuxKernel.*\//c\\\t$LinuxKernel\\t\/linux auto=true hostname=$linuxdists domain= -- quiet&quot; /tmp/grub.new</span><br><span class="line">sed -i &quot;/$LinuxIMG.*\//c\\\t$LinuxIMG\\t\/initrd.gz&quot; /tmp/grub.new</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">sed -i &#x27;$a\\n&#x27; /tmp/grub.new</span><br><span class="line"> </span><br><span class="line">[[ &quot;$inVNC&quot; == &#x27;n&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">GRUBPATCH=&#x27;0&#x27;</span><br><span class="line">[ -f /etc/network/interfaces -o -d /etc/sysconfig/network-scripts ] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;&#x27;$&#123;CFG0&#125;&#x27;i\\n&#x27; $GRUBDIR/$GRUBFILE</span><br><span class="line">sed -i &#x27;&#x27;$&#123;CFG0&#125;&#x27;r /tmp/grub.new&#x27; $GRUBDIR/$GRUBFILE</span><br><span class="line">[[ -z $AutoNet ]] &amp;&amp; echo &quot;Error, Not found interfaces config.&quot; &amp;&amp; exit 1</span><br><span class="line">[[ -f  $GRUBDIR/grubenv ]] &amp;&amp; sed -i &#x27;s/saved_entry/#saved_entry/g&#x27; $GRUBDIR/grubenv</span><br><span class="line">[[ -d /boot/tmp ]] &amp;&amp; rm -rf /boot/tmp</span><br><span class="line">mkdir -p /boot/tmp/</span><br><span class="line">cd /boot/tmp/</span><br><span class="line">gzip -d &lt; ../initrd.gz | cpio --extract --verbose --make-directories --no-absolute-filenames &gt;&gt;/dev/null 2&gt;&amp;1</span><br><span class="line">cat &gt;/boot/tmp/preseed.cfg&lt;&lt;EOF</span><br><span class="line">d-i debian-installer/locale string en_US</span><br><span class="line">d-i console-setup/layoutcode string us</span><br><span class="line"> </span><br><span class="line">d-i keyboard-configuration/xkb-keymap string us</span><br><span class="line"> </span><br><span class="line">d-i netcfg/choose_interface select auto</span><br><span class="line"> </span><br><span class="line">d-i netcfg/disable_autoconfig boolean true</span><br><span class="line">d-i netcfg/dhcp_failed note</span><br><span class="line">d-i netcfg/dhcp_options select Configure network manually</span><br><span class="line">d-i netcfg/get_ipaddress string $IPv4</span><br><span class="line">d-i netcfg/get_netmask string $MASK</span><br><span class="line">d-i netcfg/get_gateway string $GATE</span><br><span class="line">d-i netcfg/get_nameservers string 8.8.8.8</span><br><span class="line">d-i netcfg/no_default_route boolean true</span><br><span class="line">d-i netcfg/confirm_static boolean true</span><br><span class="line"> </span><br><span class="line">d-i hw-detect/load_firmware boolean false</span><br><span class="line"> </span><br><span class="line">d-i mirror/country string manual</span><br><span class="line">d-i mirror/http/hostname string $DebianMirror</span><br><span class="line">d-i mirror/http/directory string $DebianMirrorDirectory</span><br><span class="line">d-i mirror/http/proxy string</span><br><span class="line"> </span><br><span class="line">d-i passwd/root-login boolean ture</span><br><span class="line">d-i passwd/make-user boolean false</span><br><span class="line">d-i passwd/root-password password $myPASSWORD</span><br><span class="line">d-i passwd/root-password-again password $myPASSWORD</span><br><span class="line">d-i user-setup/allow-password-weak boolean true</span><br><span class="line">d-i user-setup/encrypt-home boolean false</span><br><span class="line"> </span><br><span class="line">d-i clock-setup/utc boolean true</span><br><span class="line">d-i time/zone string US/Eastern</span><br><span class="line">d-i clock-setup/ntp boolean true</span><br><span class="line"> </span><br><span class="line">d-i preseed/early_command string anna-install libfuse2-udeb fuse-udeb ntfs-3g-udeb fuse-modules-3.16.0-4-amd64-di</span><br><span class="line">d-i partman/early_command string \</span><br><span class="line">debconf-set partman-auto/disk &quot;\$(list-devices disk |head -n1)&quot;; \</span><br><span class="line">wget -qO- &#x27;$DDURL&#x27; |gunzip -dc |/bin/dd of=\$(list-devices disk |head -n1); \</span><br><span class="line">mount.ntfs-3g \$(list-devices partition |head -n1) /mnt; \</span><br><span class="line">cp -f &#x27;/net.bat&#x27; &#x27;/mnt/ProgramData/Microsoft/Windows/Start Menu/Programs/Startup/net.bat&#x27;; \</span><br><span class="line">/sbin/reboot; \</span><br><span class="line">debconf-set grub-installer/bootdev string &quot;\$(list-devices disk |head -n1)&quot;; \</span><br><span class="line">umount /media || true; \</span><br><span class="line"> </span><br><span class="line">d-i partman/mount_style select uuid</span><br><span class="line">d-i partman-auto/init_automatically_partition select Guided - use entire disk</span><br><span class="line">d-i partman-auto/method string regular</span><br><span class="line">d-i partman-lvm/device_remove_lvm boolean true</span><br><span class="line">d-i partman-md/device_remove_md boolean true</span><br><span class="line">d-i partman-auto/choose_recipe select atomic</span><br><span class="line">d-i partman-partitioning/confirm_write_new_label boolean true</span><br><span class="line">d-i partman/choose_partition select finish</span><br><span class="line">d-i partman-lvm/confirm boolean true</span><br><span class="line">d-i partman-lvm/confirm_nooverwrite boolean true</span><br><span class="line">d-i partman/confirm boolean true</span><br><span class="line">d-i partman/confirm_nooverwrite boolean true</span><br><span class="line"> </span><br><span class="line">d-i debian-installer/allow_unauthenticated boolean true</span><br><span class="line"> </span><br><span class="line">tasksel tasksel/first multiselect minimal</span><br><span class="line">d-i pkgsel/update-policy select none</span><br><span class="line">d-i pkgsel/include string openssh-server</span><br><span class="line">d-i pkgsel/upgrade select none</span><br><span class="line"> </span><br><span class="line">popularity-contest popularity-contest/participate boolean false</span><br><span class="line"> </span><br><span class="line">d-i grub-installer/only_debian boolean true</span><br><span class="line">d-i grub-installer/bootdev string default</span><br><span class="line">d-i finish-install/reboot_in_progress note</span><br><span class="line">d-i debian-installer/exit/reboot boolean true</span><br><span class="line">d-i preseed/late_command string \</span><br><span class="line">sed -i &#x27;s/^.*PermitRootLogin.*/PermitRootLogin yes/g&#x27; /target/etc/ssh/sshd_config; \</span><br><span class="line">sed -i &#x27;s/^.*PasswordAuthentication.*/PasswordAuthentication yes/g&#x27; /target/etc/ssh/sshd_config;</span><br><span class="line">EOF</span><br><span class="line">[[ &quot;$AutoNet&quot; -eq &#x27;1&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;/netcfg\/disable_autoconfig/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;/netcfg\/dhcp_options/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;/netcfg\/get_.*/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;/netcfg\/confirm_static/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">&#125;</span><br><span class="line">[[ &quot;$vDEB&quot; == &#x27;trusty&#x27; ]] &amp;&amp; GRUBPATCH=&#x27;1&#x27;</span><br><span class="line">[[ &quot;$vDEB&quot; == &#x27;wily&#x27; ]] &amp;&amp; GRUBPATCH=&#x27;1&#x27;</span><br><span class="line">[[ &quot;$GRUBPATCH&quot; == &#x27;1&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;s/^d-i\ grub-installer\/bootdev\ string\ default//g&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">&#125;</span><br><span class="line">[[ &quot;$GRUBPATCH&quot; == &#x27;0&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;s/debconf-set\ grub-installer\/bootdev.*\&quot;\;//g&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">&#125;</span><br><span class="line">[[ &quot;$vDEB&quot; == &#x27;xenial&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;s/^d-i\ clock-setup\/ntp\ boolean\ true/d-i\ clock-setup\/ntp\ boolean\ false/g&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">&#125;</span><br><span class="line">[[ &quot;$linuxdists&quot; == &#x27;debian&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;/user-setup\/allow-password-weak/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;/user-setup\/encrypt-home/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;/pkgsel\/update-policy/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;s/umount\ \/media.*true\;\ //g&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">&#125;</span><br><span class="line">[[ &quot;$ddMode&quot; == &#x27;1&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">[[ &quot;$AutoNet&quot; -eq &#x27;1&#x27; ]] &amp;&amp; echo -ne &quot;@ECHO OFF\r\ncd\040\057d\040\042\045ProgramData\045\057Microsoft\057Windows\057Start\040Menu\057Programs\057Startup\042\r\ndel\040\057f\040\057q\040net\056bat\r\n\r\n&quot; &gt;&#x27;/boot/tmp/net.tmp&#x27;;</span><br><span class="line">[[ &quot;$AutoNet&quot; -eq &#x27;0&#x27; ]] &amp;&amp; echo -ne &quot;@ECHO OFF\r\ncd\056\076\045windir\045\GetAdmin\r\nif\040exist\040\045windir\045\GetAdmin\040\050del\040\057f\040\057q\040\042\045windir\045\GetAdmin\042\051\040else\040\050\r\necho\040CreateObject^\050\042Shell\056Application\042^\051\056ShellExecute\040\042\045~s0\042\054\040\042\045\052\042\054\040\042\042\054\040\042runas\042\054\040\061\040\076\076\040\042\045temp\045\Admin\056vbs\042\r\n\042\045temp\045\Admin\056vbs\042\r\ndel\040\057f\040\057q\040\042\045temp\045\Admin\056vbs\042\r\nexit\040\057b\040\062\051\r\nfor\040\057f\040\042tokens=\063\052\042\040\045\045i\040in\040\050\047netsh\040interface\040show\040interface\040^|more\040+3\040^|findstr\040\057R\040\042本地\056\052\040以太\056\052\040Local\056\052\040Ethernet\042\047\051\040do\040\050set\040EthName=\045\045j\051\r\nnetsh\040-c\040interface\040ip\040set\040address\040name=\042\045EthName\045\042\040source=static\040address=$IPv4\040mask=$MASK\040gateway=$GATE\r\nnetsh\040-c\040interface\040ip\040add\040dnsservers\040name=\042\045EthName\045\042 address=\070\056\070\056\070\056\070\040index=1\040validate=no\r\nnetsh\040-c\040interface\040ip\040add\040dnsservers\040name=\042\045EthName\045\042\040address=\070\056\070\056\064\056\064\040index=2\040validate=no\r\ncd\040\057d\040\042\045ProgramData\045\057Microsoft\057Windows\057Start\040Menu\057Programs\057Startup\042\r\ndel\040\057f\040\057q\040net\056bat\r\n\r\n&quot; &gt;&#x27;/boot/tmp/net.tmp&#x27;;</span><br><span class="line">iconv -f &#x27;UTF-8&#x27; -t &#x27;GBK&#x27; &#x27;/boot/tmp/net.tmp&#x27; -o &#x27;/boot/tmp/net.bat&#x27;</span><br><span class="line">rm -rf &#x27;/boot/tmp/net.tmp&#x27;</span><br><span class="line">echo &quot;$DDURL&quot; |grep -q &#x27;^https://&#x27;</span><br><span class="line">[[ $? -eq &#x27;0&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">echo -ne &#x27;\nAdd curl support...\n&#x27;</span><br><span class="line">[[ -n $CURL_SUPPORT ]] &amp;&amp; &#123;</span><br><span class="line">wget --no-check-certificate -qO- &quot;$CURL_SUPPORT&quot; |tar -x</span><br><span class="line">[[ ! -f  /boot/tmp/usr/bin/curl ]] &amp;&amp; echo &#x27;Error! CURL_SUPPORT.&#x27; &amp;&amp; exit 1;</span><br><span class="line">sed -i &#x27;s/wget\ -qO-/\/usr\/bin\/curl -ksSL/g&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">[[ $? -eq &#x27;0&#x27; ]] &amp;&amp; echo &#x27;Success! \n\n&#x27;</span><br><span class="line">&#125; || &#123;</span><br><span class="line">echo -ne &#x27;Not curl support package! \n\n&#x27;</span><br><span class="line">exit 1</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">[[ &quot;$ddMode&quot; == &#x27;0&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;/anna-install/d&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">sed -i &#x27;s/wget.*\/sbin\/reboot\;\ //g&#x27; /boot/tmp/preseed.cfg</span><br><span class="line">&#125;</span><br><span class="line">rm -rf ../initrd.gz</span><br><span class="line">find . | cpio -H newc --create --verbose | gzip -9 &gt; ../initrd.gz</span><br><span class="line">rm -rf /boot/tmp</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[[ &quot;$inVNC&quot; == &#x27;y&#x27; ]] &amp;&amp; &#123;</span><br><span class="line">sed -i &#x27;$i\\n&#x27; $GRUBDIR/$GRUBFILE</span><br><span class="line">sed -i &#x27;$r /tmp/grub.new&#x27; $GRUBDIR/$GRUBFILE</span><br><span class="line">echo -e &quot;\n\033[33m\033[04mIt will reboot! \nPlease look at VNC! \nSelect\033[0m\033[32m Install OS [$vDEB $VER] \033[33m\033[4mto install system.\033[04m\n\n\033[31m\033[04mThere is some information for you.\nDO NOT CLOSE THE WINDOW! \033[0m\n&quot;</span><br><span class="line">echo -e &quot;\033[35mIPv4\t\tNETMASK\t\tGATEWAY\033[0m&quot;</span><br><span class="line">echo -e &quot;\033[36m\033[04m$IPv4\033[0m\t\033[36m\033[04m$MASK\033[0m\t\033[36m\033[04m$GATE\033[0m\n\n&quot;</span><br><span class="line"> </span><br><span class="line">read -n 1 -p &quot;Press Enter to reboot...&quot; INP</span><br><span class="line">if [[ &quot;$INP&quot; != &#x27;&#x27; ]] ; then</span><br><span class="line">echo -ne &#x27;\b \n&#x27;</span><br><span class="line">echo &quot;&quot;;</span><br><span class="line">fi</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">chown root:root $GRUBDIR/$GRUBFILE</span><br><span class="line">chmod 444 $GRUBDIR/$GRUBFILE</span><br><span class="line"> </span><br><span class="line">sleep 3 &amp;&amp; reboot &gt;/dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<h4 id="原系统为Windows-1"><a href="#原系统为Windows-1" class="headerlink" title="原系统为Windows"></a>原系统为Windows</h4><h5 id="Linux-4"><a href="#Linux-4" class="headerlink" title="Linux"></a>Linux</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line">@ECHO OFF&amp;PUSHD %~DP0 &amp;TITLE Win32Loader</span><br><span class="line">setlocal enabledelayedexpansion</span><br><span class="line">::Author MoeClub.org</span><br><span class="line">color 87</span><br><span class="line">cd.&gt;%windir%\GetAdmin</span><br><span class="line">if exist %windir%\GetAdmin (del /f /q &quot;%windir%\GetAdmin&quot;) else (</span><br><span class="line">echo CreateObject^(&quot;Shell.Application&quot;^).ShellExecute &quot;%~s0&quot;, &quot;%*&quot;, &quot;&quot;, &quot;runas&quot;, 1 &gt;&gt; &quot;%temp%\Admin.vbs&quot;</span><br><span class="line">&quot;%temp%\Admin.vbs&quot;</span><br><span class="line">del /s /q &quot;%temp%\Admin.vbs&quot;</span><br><span class="line">exit /b 2)</span><br><span class="line">cls</span><br><span class="line"> </span><br><span class="line">echo * Init Win32Loader.</span><br><span class="line">set URL=https://moeclub.org/attachment/WindowsSoftware</span><br><span class="line"></span><br><span class="line">set download=0</span><br><span class="line">set try_download=1</span><br><span class="line"> </span><br><span class="line">:Init</span><br><span class="line">mkdir &quot;%SystemDrive%\win32-loader&quot; &gt;NUL 2&gt;NUL</span><br><span class="line">if exist &quot;%SystemDrive%\Windows\System32\WindowsPowerShell&quot; (</span><br><span class="line">set use_ps=1</span><br><span class="line">) else (</span><br><span class="line">set use_ps=0</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line">if %use_ps% equ 1 (</span><br><span class="line">goto InitIt</span><br><span class="line">) else (</span><br><span class="line">goto InitFail</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line">:InitIt</span><br><span class="line">set try_download=0</span><br><span class="line">powershell.exe -command &quot;&amp; &#123;$client = new-object System.Net.WebClient; $client.DownloadFile(&#x27;!URL!/g2ldr/g2ldr&#x27;,&#x27;%SystemDrive%\g2ldr&#x27;)&#125;&quot; &gt;NUL 2&gt;NUL</span><br><span class="line">powershell.exe -command &quot;&amp; &#123;$client = new-object System.Net.WebClient; $client.DownloadFile(&#x27;!URL!/g2ldr/g2ldr.mbr&#x27;,&#x27;%SystemDrive%\g2ldr.mbr&#x27;)&#125;&quot; &gt;NUL 2&gt;NUL</span><br><span class="line">powershell.exe -command &quot;&amp; &#123;$client = new-object System.Net.WebClient; $client.DownloadFile(&#x27;!URL!/g2ldr/grub.cfg&#x27;,&#x27;%SystemDrive%\win32-loader\grub.cfg&#x27;)&#125;&quot; &gt;NUL 2&gt;NUL</span><br><span class="line">goto InitDone</span><br><span class="line"> </span><br><span class="line">:InitFail</span><br><span class="line">echo Not found powershell, please download them by yourself.</span><br><span class="line">echo &#x27;%SystemDrive%\g2ldr&#x27;</span><br><span class="line">echo &#x27;%SystemDrive%\g2ldr.mbr&#x27;</span><br><span class="line">echo &#x27;%SystemDrive%\win32-loader\grub.cfg&#x27;</span><br><span class="line">echo Press [ENTER] when you finished.</span><br><span class="line">pause &gt;NUL 2&gt;NUL</span><br><span class="line">goto InitDone</span><br><span class="line"> </span><br><span class="line">:InitDone</span><br><span class="line">if !try_download! equ 0 (</span><br><span class="line">set InitOption=InitFail</span><br><span class="line">) else (</span><br><span class="line">set InitOption=Init</span><br><span class="line">)</span><br><span class="line">if not exist &quot;%SystemDrive%\g2ldr&quot; goto !InitOption!</span><br><span class="line">if not exist &quot;%SystemDrive%\g2ldr.mbr&quot; goto !InitOption!</span><br><span class="line">if not exist &quot;%SystemDrive%\win32-loader\grub.cfg&quot; goto !InitOption!</span><br><span class="line"> </span><br><span class="line">:Image</span><br><span class="line">echo.</span><br><span class="line">echo * Please select initrd mode.</span><br><span class="line">echo     [1] Online download</span><br><span class="line">echo     [2] Local file</span><br><span class="line">choice /n /c 12 /m Select:</span><br><span class="line">if errorlevel 2 goto LocalMode</span><br><span class="line">if errorlevel 1 goto OnlineMode</span><br><span class="line">goto Image</span><br><span class="line"> </span><br><span class="line">:OnlineMode</span><br><span class="line">echo.</span><br><span class="line">echo * Please select source.</span><br><span class="line">echo     [1] by MoeClub (DHCP or VNC Support)</span><br><span class="line">echo     [2] by yourself</span><br><span class="line">choice /n /c 12 /m Select:</span><br><span class="line">if errorlevel 2 goto Yourself</span><br><span class="line">if errorlevel 1 goto MoeClub</span><br><span class="line">goto OnlineMode</span><br><span class="line">:Yourself</span><br><span class="line">echo.</span><br><span class="line">echo if &#x27;initrd.img&#x27; URL is &#x27;https://moeclub.org/onedrive/IMAGE/Loader/DebianJessie/initrd.img&#x27;, Please input &#x27;https://moeclub.org/onedrive/IMAGE/Loader/DebianJessie&#x27;.</span><br><span class="line">set /p IMG_URL=URL :</span><br><span class="line">if defined IMG_URL (</span><br><span class="line">goto Download</span><br><span class="line">) else (</span><br><span class="line">goto MoeClub</span><br><span class="line">)</span><br><span class="line">:MoeClub</span><br><span class="line">set IMG_URL=https://moeclub.org/onedrive/IMAGE/Loader/DebianJessie</span><br><span class="line">goto Download</span><br><span class="line">:Download</span><br><span class="line">if %use_ps% equ 1 (</span><br><span class="line">echo.</span><br><span class="line">echo Downloading &#x27;initrd.img&#x27;...</span><br><span class="line">powershell.exe -command &quot;&amp; &#123;$client = new-object System.Net.WebClient; $client.DownloadFile(&#x27;!IMG_URL!/initrd.img&#x27;,&#x27;%SystemDrive%\win32-loader\initrd.img&#x27;)&#125;&quot; &gt;NUL 2&gt;NUL</span><br><span class="line">echo Downloading &#x27;vmlinuz&#x27;...</span><br><span class="line">powershell.exe -command &quot;&amp; &#123;$client = new-object System.Net.WebClient; $client.DownloadFile(&#x27;!IMG_URL!/vmlinuz&#x27;,&#x27;%SystemDrive%\win32-loader\vmlinuz&#x27;)&#125;&quot; &gt;NUL 2&gt;NUL</span><br><span class="line">set download=1</span><br><span class="line">) else (</span><br><span class="line">echo Not support online download, auto change Local initrd.</span><br><span class="line">goto LocalMode</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line">:LocalMode</span><br><span class="line">if !download! equ 0 (</span><br><span class="line">echo.</span><br><span class="line">echo Please put &#x27;initrd.img&#x27; and &#x27;vmlinuz&#x27; to &#x27;%SystemDrive%\win32-loader&#x27; .</span><br><span class="line">echo Press [ENTER] when you finished.</span><br><span class="line">pause &gt;NUL 2&gt;NUL</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line">:Done0</span><br><span class="line">set download=0</span><br><span class="line">if exist &quot;%SystemDrive%\win32-loader\initrd.img&quot; (</span><br><span class="line">goto Done1</span><br><span class="line">) else (</span><br><span class="line">echo Not found &#x27;%SystemDrive%\win32-loader\initrd.img&#x27; .</span><br><span class="line">goto LocalMode</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line">:Done1</span><br><span class="line">set download=0</span><br><span class="line">if exist &quot;%SystemDrive%\win32-loader\vmlinuz&quot; (</span><br><span class="line">goto Done</span><br><span class="line">) else (</span><br><span class="line">echo Not found &#x27;%SystemDrive%\win32-loader\vmlinuz&#x27; .</span><br><span class="line">goto LocalMode</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line">:Done</span><br><span class="line">echo.</span><br><span class="line">echo Press [ENTER] to reboot...</span><br><span class="line">pause &gt;NUL 2&gt;NUL</span><br><span class="line">if not exist &quot;%SystemDrive%\g2ldr&quot; echo Not found &#x27;%SystemDrive%\g2ldr&#x27; . &amp;&amp; exit 1</span><br><span class="line">if not exist &quot;%SystemDrive%\g2ldr.mbr&quot; echo Not found &#x27;%SystemDrive%\g2ldr.mbr&#x27; . &amp;&amp; exit 1</span><br><span class="line">if not exist &quot;%SystemDrive%\win32-loader\grub.cfg&quot; echo Not found &#x27;%SystemDrive%\win32-loader\grub.cfg&#x27; . &amp;&amp; exit 1</span><br><span class="line">if not exist &quot;%SystemDrive%\win32-loader\initrd.img&quot; echo Not found &#x27;%SystemDrive%\win32-loader\initrd.img&#x27; . &amp;&amp; exit 1</span><br><span class="line">if not exist &quot;%SystemDrive%\win32-loader\vmlinuz&quot; echo Not found &#x27;%SystemDrive%\win32-loader\vmlinuz&#x27; . &amp;&amp; exit 1</span><br><span class="line">set id=&#123;01234567-89ab-cdef-0123-456789abcdef&#125;</span><br><span class="line">bcdedit /create %id% /d &quot;Debian GUN/Linux&quot; /application bootsector &gt;NUL 2&gt;NUL</span><br><span class="line">bcdedit /set %id% device partition=%SystemDrive% &gt;NUL 2&gt;NUL</span><br><span class="line">bcdedit /set %id% path \g2ldr.mbr &gt;NUL 2&gt;NUL</span><br><span class="line">bcdedit /displayorder %id% /addlast &gt;NUL 2&gt;NUL</span><br><span class="line">bcdedit /bootsequence %id% /addfirst &gt;NUL 2&gt;NUL</span><br><span class="line">shutdown -r -t 0</span><br></pre></td></tr></table></figure>

<h3 id="HTTP-x2F-2检测"><a href="#HTTP-x2F-2检测" class="headerlink" title="HTTP&#x2F;2检测"></a>HTTP&#x2F;2检测</h3><p>在支持loadTimes的chrome浏览器下执行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(function()&#123;</span><br><span class="line">    if(window.chrome &amp;&amp; typeof chrome.loadTimes === &#x27;function&#x27;) &#123;</span><br><span class="line">        var loadTimes = window.chrome.loadTimes();</span><br><span class="line">        var spdy = loadTimes.wasFetchedViaSpdy;</span><br><span class="line">        var info = loadTimes.npnNegotiatedProtocol || loadTimes.connectionInfo;</span><br><span class="line">        // 就以 「h2」作为判断标识</span><br><span class="line">        if(spdy &amp;&amp; /^h2/i.test(info)) &#123;</span><br><span class="line">            return console.info(&#x27;本站点使用了HTTP/2&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    console.warn(&#x27;本站点没有使用HTTP/2&#x27;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h2 id="生成UUID"><a href="#生成UUID" class="headerlink" title="生成UUID"></a>生成UUID</h2><p>可在终端输入以下命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/sys/kernel/random/uuid</span><br></pre></td></tr></table></figure>

<p>也可通过以下网站。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.uuidgenerator.net/</span><br></pre></td></tr></table></figure>

<h2 id="生成指定前缀信用卡卡号"><a href="#生成指定前缀信用卡卡号" class="headerlink" title="生成指定前缀信用卡卡号"></a>生成指定前缀信用卡卡号</h2><p>运行以下命令即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/malaohu/ruyo-shell/master/credit_card_number.py</span><br><span class="line">python credit_card_number.py</span><br></pre></td></tr></table></figure>

<p>运行示例如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 生成前缀为&#x27;123456&#x27;，1个，卡号长度16位</span><br><span class="line">fakecard = credit_card_number(&#x27;123456&#x27;)</span><br><span class="line"># 生成前缀为&#x27;123456&#x27;，1个，卡号长度16位</span><br><span class="line">fakecard = credit_card_number(&#x27;123456&#x27;,1,16)</span><br><span class="line"># 生成前缀为&#x27;123&#x27;或&#x27;234&#x27;的信用卡卡号，共15个，卡号长度16位</span><br><span class="line">fakecard = credit_card_number([&#x27;123&#x27;,&#x27;234&#x27;], 15,16)</span><br></pre></td></tr></table></figure>

<p>脚本如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">from random import Random</span><br><span class="line">import copy</span><br><span class="line"> </span><br><span class="line">def completed_number(prefix, length):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    &#x27;prefix&#x27; is the start of the CC number as a string, any number of digits.</span><br><span class="line">    &#x27;length&#x27; is the length of the CC number to generate. Typically 13 or 16</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    generator = Random()</span><br><span class="line">    generator.seed()    # Seed from current time</span><br><span class="line">    ccnumber = prefix</span><br><span class="line">    # generate digits</span><br><span class="line">    while len(ccnumber) &lt; (length - 1):</span><br><span class="line">        digit = str(generator.choice(range(0, 10)))</span><br><span class="line">        ccnumber.append(digit)</span><br><span class="line">  # Calculate sum</span><br><span class="line">    sum = 0</span><br><span class="line">    pos = 0</span><br><span class="line">    reversedCCnumber = []</span><br><span class="line">    reversedCCnumber.extend(ccnumber)</span><br><span class="line">    reversedCCnumber.reverse()</span><br><span class="line">    while pos &lt; length - 1:</span><br><span class="line">        odd = int(reversedCCnumber[pos]) * 2</span><br><span class="line">        if odd &gt; 9:</span><br><span class="line">            odd -= 9</span><br><span class="line">        sum += odd</span><br><span class="line">        if pos != (length - 2):</span><br><span class="line">            sum += int(reversedCCnumber[pos + 1])</span><br><span class="line">        pos += 2</span><br><span class="line">  # Calculate check digit</span><br><span class="line">    checkdigit = ((sum // 10 + 1) * 10 - sum) % 10</span><br><span class="line">    ccnumber.append(str(checkdigit))</span><br><span class="line">    return &#x27;&#x27;.join(ccnumber)</span><br><span class="line"> </span><br><span class="line">def credit_card_number(prefixList, howMany=1, length=16):</span><br><span class="line">    generator = Random()</span><br><span class="line">    generator.seed()    # Seed from current time</span><br><span class="line">    if type(prefixList)==str:</span><br><span class="line">        prefixList=[[i for i in prefixList]]</span><br><span class="line">    if type(prefixList[0])==str:</span><br><span class="line">        prefixList=[[i for i in List] for List in prefixList]</span><br><span class="line">    result = []</span><br><span class="line">    while len(result) &lt; howMany:</span><br><span class="line">        ccnumber = copy.copy(generator.choice(prefixList))</span><br><span class="line">        result.append(completed_number(ccnumber, length))</span><br><span class="line">    return result</span><br></pre></td></tr></table></figure>

<h2 id="DNS-2"><a href="#DNS-2" class="headerlink" title="DNS"></a>DNS</h2><h3 id="DNS列表"><a href="#DNS列表" class="headerlink" title="DNS列表"></a>DNS列表</h3><p>普通DNS如下。</p>
<table>
<thead>
<tr>
<th>供应商</th>
<th>主DNS</th>
<th>备用DNS</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>Google</td>
<td>8.8.8.8</td>
<td>4.4.4.4</td>
<td><a target="_blank" rel="noopener" href="https://developers.google.com/speed/public-dns">https://developers.google.com/speed/public-dns</a></td>
</tr>
<tr>
<td>OpenDNS</td>
<td>208.67.222.222</td>
<td>208.67.220.220</td>
<td><a target="_blank" rel="noopener" href="https://www.opendns.com/">https://www.opendns.com/</a></td>
</tr>
<tr>
<td>Level3</td>
<td>209.244.0.3</td>
<td>209.244.0.4</td>
<td></td>
</tr>
<tr>
<td>DNS Advantage</td>
<td>156.154.70.1</td>
<td>156.154.71.1</td>
<td></td>
</tr>
<tr>
<td>Verizon</td>
<td>4.2.2.1</td>
<td>4.2.2.1</td>
<td></td>
</tr>
<tr>
<td>SmartViper</td>
<td>208.76.50.50</td>
<td>208.76.51.51</td>
<td><a target="_blank" rel="noopener" href="https://www.markosweb.com/free-dns/">https://www.markosweb.com/free-dns/</a></td>
</tr>
<tr>
<td>AIXYZ DNS</td>
<td>123.206.21.48</td>
<td>115.159.146.99</td>
<td></td>
</tr>
<tr>
<td>HelloDNS</td>
<td>123.56.46.123</td>
<td>182.254.185.148</td>
<td></td>
</tr>
<tr>
<td>Ali</td>
<td>223.5.5.5</td>
<td>223.6.6.6</td>
<td></td>
</tr>
<tr>
<td>Tencent</td>
<td>119.29.29.29</td>
<td>119.28.28.28</td>
<td></td>
</tr>
<tr>
<td>114</td>
<td>114.114.114.114</td>
<td>114.114.115.115</td>
<td></td>
</tr>
<tr>
<td>rubyfish DoT</td>
<td>tls:&#x2F;&#x2F;rubyfish.cn:853</td>
<td>tls:&#x2F;&#x2F;dns.rubyfish.cn:853</td>
<td></td>
</tr>
<tr>
<td>rubyfish DoH</td>
<td><a target="_blank" rel="noopener" href="https://rubyfish.cn/">https://rubyfish.cn</a></td>
<td><a target="_blank" rel="noopener" href="https://dns.rubyfish.cn/">https://dns.rubyfish.cn</a></td>
<td></td>
</tr>
</tbody></table>
<p>带安全功能的DNS如下。</p>
<table>
<thead>
<tr>
<th>供应商</th>
<th>主DNS</th>
<th>备用DNS</th>
</tr>
</thead>
<tbody><tr>
<td>Norton ConnectSafe</td>
<td>198.153.192.40</td>
<td>198.153.194.40</td>
</tr>
<tr>
<td></td>
<td>198.153.192.50</td>
<td>198.153.194.50</td>
</tr>
<tr>
<td></td>
<td>198.153.192.60</td>
<td>198.153.194.60</td>
</tr>
<tr>
<td>Comodo Secure DNS</td>
<td>8.26.56.26</td>
<td>8.20.247.20</td>
</tr>
<tr>
<td>Securly</td>
<td>184.169.143.224</td>
<td>184.169.161.155</td>
</tr>
<tr>
<td>ScrubIT</td>
<td>67.138.54.100</td>
<td>207.225.209.66</td>
</tr>
</tbody></table>
<h3 id="DNS供应商"><a href="#DNS供应商" class="headerlink" title="DNS供应商"></a>DNS供应商</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"># 阿里云公共DNS</span><br><span class="line">https://www.alidns.com/setup/</span><br><span class="line"></span><br><span class="line"># Public DNS</span><br><span class="line">https://www.publicdns.xyz/public/puntcat.html</span><br><span class="line"></span><br><span class="line"># Yandex.DNS</span><br><span class="line">https://dns.yandex.com/</span><br><span class="line"></span><br><span class="line"># Freenom World</span><br><span class="line">http://www.freenom.world/zh/index.html</span><br><span class="line"></span><br><span class="line"># 1.1.1.1</span><br><span class="line">https://1.1.1.1/</span><br><span class="line"></span><br><span class="line"># Quad9</span><br><span class="line">https://quad9.net/</span><br><span class="line"></span><br><span class="line"># OpenNIC</span><br><span class="line">https://www.opennic.org/</span><br><span class="line"></span><br><span class="line"># 京东智联云</span><br><span class="line">https://www.jdcloud.com/cn/products/jd-cloud-dns</span><br><span class="line"></span><br><span class="line"># 华为云</span><br><span class="line">https://www.huaweicloud.com/product/dns.html</span><br><span class="line"></span><br><span class="line"># DNS.COM</span><br><span class="line">https://www.dns.com/</span><br><span class="line"></span><br><span class="line"># dnsever</span><br><span class="line">https://www.dnsever.com/</span><br><span class="line"></span><br><span class="line"># Zoneedit</span><br><span class="line">https://www.zoneedit.com/</span><br><span class="line"></span><br><span class="line"># DNS EXIT，免费动态DNS，托管DNS服务</span><br><span class="line">https://www.dnsexit.com/</span><br><span class="line"></span><br><span class="line"># GeoScaling DNS2，每月最多100万个DNS请求</span><br><span class="line">https://www.geoscaling.com/</span><br><span class="line"></span><br><span class="line"># DNS.LA</span><br><span class="line">https://www.dns.la/</span><br><span class="line"></span><br><span class="line"># 八戒DNS</span><br><span class="line">https://www.bajiedns.com/</span><br><span class="line"></span><br><span class="line"># DNS盾</span><br><span class="line">https://www.dnsdun.com/</span><br><span class="line"></span><br><span class="line"># xip.io</span><br><span class="line">http://xip.io/</span><br><span class="line"></span><br><span class="line"># dynv6</span><br><span class="line">https://dynv6.com/</span><br><span class="line"></span><br><span class="line"># SPDYN</span><br><span class="line">https://www.spdyn.de/</span><br><span class="line"></span><br><span class="line"># FreeDNS</span><br><span class="line">https://freedns.afraid.org/</span><br><span class="line"></span><br><span class="line"># DYNDNSS</span><br><span class="line">https://dyndnss.net/eng/</span><br><span class="line"></span><br><span class="line"># ClouDNS</span><br><span class="line">https://asia.cloudns.net/</span><br><span class="line"></span><br><span class="line"># DNSPOD</span><br><span class="line">https://www.dnspod.cn/</span><br><span class="line">https://www.dnspod.com/</span><br><span class="line"># 优惠券</span><br><span class="line">https://www.dnspod.cn/promo/coupon</span><br><span class="line">https://cloud.tencent.com/act/pro/DNSPodDomainsCarnival?fromSource=gwzcw.1293314.1293314.1293314&amp;cps_key=98e3b13dc4a1659435daf62289161ee5</span><br><span class="line"></span><br><span class="line"># Duck DNS</span><br><span class="line">https://www.duckdns.org/</span><br><span class="line"></span><br><span class="line"># FreeDNS</span><br><span class="line">https://freedns.afraid.org/</span><br><span class="line"></span><br><span class="line"># LuaDNS</span><br><span class="line">https://www.luadns.com/</span><br><span class="line"></span><br><span class="line"># Hurricane Electric Free DNS Management</span><br><span class="line">https://dns.he.net/</span><br><span class="line"></span><br><span class="line"># Dynu</span><br><span class="line">https://www.dynu.com/</span><br><span class="line"></span><br><span class="line"># no.ip</span><br><span class="line">https://www.noip.com/</span><br><span class="line"></span><br><span class="line"># ZoneWatcher</span><br><span class="line">https://zonewatcher.com/</span><br><span class="line"></span><br><span class="line"># Zoneedit</span><br><span class="line">https://www.zoneedit.com/free-dns/</span><br><span class="line"></span><br><span class="line"># Lilore</span><br><span class="line">https://zilore.com/en/dns</span><br><span class="line"></span><br><span class="line"># GratisDNS</span><br><span class="line">https://web.gratisdns.dk/domaener/dns/</span><br><span class="line"></span><br><span class="line"># Selectel</span><br><span class="line">https://old.selectel.ru/en/services/additional/dns/</span><br><span class="line"></span><br><span class="line"># PointDNS</span><br><span class="line">https://pointhq.com/developer</span><br><span class="line"></span><br><span class="line"># NS1</span><br><span class="line">https://ns1.com/</span><br><span class="line"></span><br><span class="line"># DomainTools</span><br><span class="line">https://www.domaintools.com/</span><br></pre></td></tr></table></figure>

<h3 id="DNS服务程序"><a href="#DNS服务程序" class="headerlink" title="DNS服务程序"></a>DNS服务程序</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Overture</span><br><span class="line">https://github.com/shawn1m/overture</span><br><span class="line"></span><br><span class="line"># glider</span><br><span class="line">https://github.com/nadoo/glider</span><br><span class="line"></span><br><span class="line"># dnsmasq-china-list</span><br><span class="line">https://github.com/felixonmars/dnsmasq-china-list</span><br><span class="line"></span><br><span class="line"># ChinaDNS</span><br><span class="line">https://github.com/aa65535/ChinaDNS</span><br></pre></td></tr></table></figure>

<h2 id="Hosts"><a href="#Hosts" class="headerlink" title="Hosts"></a>Hosts</h2><h3 id="源"><a href="#源" class="headerlink" title="源"></a>源</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># GoogleHosts</span><br><span class="line">https://github.com/googlehosts/hosts</span><br><span class="line"></span><br><span class="line"># ipv6-hosts</span><br><span class="line">https://github.com/lennylxx/ipv6-hosts</span><br></pre></td></tr></table></figure>

<h3 id="管理工具"><a href="#管理工具" class="headerlink" title="管理工具"></a>管理工具</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># SwitchHosts!</span><br><span class="line">https://oldj.github.io/SwitchHosts/</span><br><span class="line"></span><br><span class="line"># Gas Mask</span><br><span class="line">https://www.macupdate.com/app/mac/29949/gas-mask/</span><br><span class="line"></span><br><span class="line"># Hozz</span><br><span class="line">https://blog.zhangruipeng.me/Hozz/</span><br></pre></td></tr></table></figure>

<h2 id="GeoIP"><a href="#GeoIP" class="headerlink" title="GeoIP"></a>GeoIP</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Free IP Geolocation API</span><br><span class="line">https://freegeoip.app/</span><br><span class="line"></span><br><span class="line"># GeoDataSource</span><br><span class="line">https://www.geodatasource.com/</span><br><span class="line"></span><br><span class="line"># Maxmind</span><br><span class="line">https://dev.maxmind.com/geoip/geoip2/geolite2/</span><br><span class="line">https://geolite.clash.dev/</span><br><span class="line">https://github.com/Dreamacro/maxmind-geoip</span><br></pre></td></tr></table></figure>

<h1 id="参考教程"><a href="#参考教程" class="headerlink" title="参考教程"></a>参考教程</h1><h2 id="trojan-gfw-x2F-trojan"><a href="#trojan-gfw-x2F-trojan" class="headerlink" title="trojan-gfw&#x2F;trojan"></a>trojan-gfw&#x2F;trojan</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/trojan-gfw/trojan</span><br></pre></td></tr></table></figure>

<h2 id="Shadowsocks官网"><a href="#Shadowsocks官网" class="headerlink" title="Shadowsocks官网"></a>Shadowsocks官网</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://shadowsocks.org/en/index.html</span><br></pre></td></tr></table></figure>

<h2 id="V2Ray官网"><a href="#V2Ray官网" class="headerlink" title="V2Ray官网"></a>V2Ray官网</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">https://www.v2ray.com/</span><br><span class="line">https://github.com/v2fly/v2ray-core</span><br><span class="line">https://www.v2fly.org/</span><br><span class="line">https://guide.v2fly.org/</span><br><span class="line">https://toutyrater.github.io/</span><br></pre></td></tr></table></figure>

<h2 id="Proxifier使用教程"><a href="#Proxifier使用教程" class="headerlink" title="Proxifier使用教程"></a>Proxifier使用教程</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/u013066730/article/details/88788191</span><br></pre></td></tr></table></figure>

<h2 id="V2Ray-TLS-DNSSEC-WS-Nginx-BBRPlus-搭建教程【2020年最新】"><a href="#V2Ray-TLS-DNSSEC-WS-Nginx-BBRPlus-搭建教程【2020年最新】" class="headerlink" title="V2Ray+TLS+DNSSEC+WS+Nginx+BBRPlus 搭建教程【2020年最新】"></a>V2Ray+TLS+DNSSEC+WS+Nginx+BBRPlus 搭建教程【2020年最新】</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://yuchuanfeng.github.io/posts/v2ray+tls+ws+nginx/</span><br></pre></td></tr></table></figure>

<h2 id="德国Euserv免费VPS申请-开通V2RAY-安装宝塔图文教程"><a href="#德国Euserv免费VPS申请-开通V2RAY-安装宝塔图文教程" class="headerlink" title="德国Euserv免费VPS申请+开通V2RAY+安装宝塔图文教程"></a>德国Euserv免费VPS申请+开通V2RAY+安装宝塔图文教程</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://www.shopee6.com/web/web-tutorial/euserv-order-v2ray-bt.html</span><br><span class="line">https://lala.im/6781.html</span><br><span class="line">https://1rmb.net/t/31.html</span><br></pre></td></tr></table></figure>

<h2 id="使用宝塔快速安装WordPress教程"><a href="#使用宝塔快速安装WordPress教程" class="headerlink" title="使用宝塔快速安装WordPress教程"></a>使用宝塔快速安装WordPress教程</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.wpmee.com/5976.html</span><br></pre></td></tr></table></figure>

<h2 id="Okteto上部署v2ray"><a href="#Okteto上部署v2ray" class="headerlink" title="Okteto上部署v2ray"></a>Okteto上部署v2ray</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://704sjf.coding-pages.com/post/hello-gridea/</span><br></pre></td></tr></table></figure>

<h2 id="自制一个真正属于自己的v2ray订阅地址（自己动手创建v2ray订阅地址教程）"><a href="#自制一个真正属于自己的v2ray订阅地址（自己动手创建v2ray订阅地址教程）" class="headerlink" title="自制一个真正属于自己的v2ray订阅地址（自己动手创建v2ray订阅地址教程）"></a>自制一个真正属于自己的v2ray订阅地址（自己动手创建v2ray订阅地址教程）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://aishangyou.tube/?p=6885</span><br></pre></td></tr></table></figure>

<h2 id="Goorm-Shell-Auto-Deploy"><a href="#Goorm-Shell-Auto-Deploy" class="headerlink" title="Goorm Shell Auto Deploy"></a>Goorm Shell Auto Deploy</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/guleonseon/goorm-auto</span><br></pre></td></tr></table></figure>

<h2 id="okteto容器破解搭建宝塔shell教程"><a href="#okteto容器破解搭建宝塔shell教程" class="headerlink" title="okteto容器破解搭建宝塔shell教程"></a>okteto容器破解搭建宝塔shell教程</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://fbk.ink/946.html</span><br><span class="line">https://www.hostloc.com/forum.php?mod=viewthread&amp;tid=667527</span><br></pre></td></tr></table></figure>

<h2 id="在Compute-Engine上设置适用于Linux的Chrome远程桌面"><a href="#在Compute-Engine上设置适用于Linux的Chrome远程桌面" class="headerlink" title="在Compute Engine上设置适用于Linux的Chrome远程桌面"></a>在Compute Engine上设置适用于Linux的Chrome远程桌面</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cloud.google.com/solutions/chrome-desktop-remote-on-compute-engine?hl=zh-cn#installing_chrome_remote_desktop_on_the_vm_instance</span><br></pre></td></tr></table></figure>

<h2 id="10分钟快速掌握Docker必备基础知识"><a href="#10分钟快速掌握Docker必备基础知识" class="headerlink" title="10分钟快速掌握Docker必备基础知识"></a>10分钟快速掌握Docker必备基础知识</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://juejin.im/post/6844903918372143112</span><br><span class="line">https://juejin.im/post/6844903938030845966</span><br></pre></td></tr></table></figure>

<h2 id="wget-x2F-curl-large-file-from-google-drive"><a href="#wget-x2F-curl-large-file-from-google-drive" class="headerlink" title="wget&#x2F;curl large file from google drive"></a>wget&#x2F;curl large file from google drive</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://stackoverflow.com/questions/25010369/wget-curl-large-file-from-google-drive/39225039#39225039</span><br></pre></td></tr></table></figure>

<h2 id="如何卸载阿里云-amp-腾讯云官方的监控软件服务"><a href="#如何卸载阿里云-amp-腾讯云官方的监控软件服务" class="headerlink" title="如何卸载阿里云&amp;腾讯云官方的监控软件服务"></a>如何卸载阿里云&amp;腾讯云官方的监控软件服务</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://51.ruyo.net/5369.html</span><br></pre></td></tr></table></figure>

<h2 id="oooldking-x2F-script"><a href="#oooldking-x2F-script" class="headerlink" title="oooldking&#x2F;script"></a>oooldking&#x2F;script</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/oooldking/script</span><br></pre></td></tr></table></figure>

<h2 id="教程01：如何通过V2Ray搭配使用洋葱tor浏览器？"><a href="#教程01：如何通过V2Ray搭配使用洋葱tor浏览器？" class="headerlink" title="教程01：如何通过V2Ray搭配使用洋葱tor浏览器？"></a>教程01：如何通过V2Ray搭配使用洋葱tor浏览器？</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://test.enuotime.com/guide01</span><br></pre></td></tr></table></figure>

<h2 id="别以为有vpn我找不到你（网警抓人全过程）"><a href="#别以为有vpn我找不到你（网警抓人全过程）" class="headerlink" title="别以为有vpn我找不到你（网警抓人全过程）"></a>别以为有vpn我找不到你（网警抓人全过程）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.91ri.org/3599.html</span><br></pre></td></tr></table></figure>

<h2 id="浅谈HTTP劫持、DNS污染的影响及解决办法（仅个人理解）"><a href="#浅谈HTTP劫持、DNS污染的影响及解决办法（仅个人理解）" class="headerlink" title="浅谈HTTP劫持、DNS污染的影响及解决办法（仅个人理解）"></a>浅谈HTTP劫持、DNS污染的影响及解决办法（仅个人理解）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://doubibackup.com/6t3mypbm-5.html</span><br></pre></td></tr></table></figure>

<h2 id="关于目前-GFW-墙-的封锁方式TCP封锁-阻断-猜想"><a href="#关于目前-GFW-墙-的封锁方式TCP封锁-阻断-猜想" class="headerlink" title="关于目前 GFW(墙) 的封锁方式TCP封锁(阻断)猜想"></a>关于目前 GFW(墙) 的封锁方式TCP封锁(阻断)猜想</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://doubibackup.com/wkcjzpyd-2.html</span><br></pre></td></tr></table></figure>

<h2 id="SS二级（前置）代理设置实现中转加速观看BBC-iPlayer"><a href="#SS二级（前置）代理设置实现中转加速观看BBC-iPlayer" class="headerlink" title="SS二级（前置）代理设置实现中转加速观看BBC iPlayer"></a>SS二级（前置）代理设置实现中转加速观看BBC iPlayer</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.itengli.com/ss-relay/</span><br></pre></td></tr></table></figure>

<h2 id="macOS-ClashX-使用教程"><a href="#macOS-ClashX-使用教程" class="headerlink" title="macOS - ClashX 使用教程"></a>macOS - ClashX 使用教程</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://wiki.kache.moe/2019/12/11/macOS-ClashX/</span><br></pre></td></tr></table></figure>

<h2 id="ClashX教程-macOS上好看又好用的科学上网工具"><a href="#ClashX教程-macOS上好看又好用的科学上网工具" class="headerlink" title="ClashX教程 | macOS上好看又好用的科学上网工具"></a>ClashX教程 | macOS上好看又好用的科学上网工具</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://merlinblog.xyz/wiki/ClashX.html</span><br></pre></td></tr></table></figure>

<h2 id="如何对Linux服务器的端口限速？"><a href="#如何对Linux服务器的端口限速？" class="headerlink" title="如何对Linux服务器的端口限速？"></a>如何对Linux服务器的端口限速？</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://51.ruyo.net/2877.html</span><br></pre></td></tr></table></figure>

<h2 id="免费Docker容器来挂机Vagex赚美刀"><a href="#免费Docker容器来挂机Vagex赚美刀" class="headerlink" title="免费Docker容器来挂机Vagex赚美刀"></a>免费Docker容器来挂机Vagex赚美刀</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://51.ruyo.net/3290.html</span><br></pre></td></tr></table></figure>

<h2 id="国内申请Google-Adsense账号以及完成首笔收款"><a href="#国内申请Google-Adsense账号以及完成首笔收款" class="headerlink" title="国内申请Google Adsense账号以及完成首笔收款"></a>国内申请Google Adsense账号以及完成首笔收款</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://51.ruyo.net/12240.html</span><br></pre></td></tr></table></figure>

<h2 id="2020Google镜像大全，谷歌镜像网址"><a href="#2020Google镜像大全，谷歌镜像网址" class="headerlink" title="2020Google镜像大全，谷歌镜像网址"></a>2020Google镜像大全，谷歌镜像网址</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.uedbox.com/post/54776/</span><br></pre></td></tr></table></figure>

<h2 id="香港实体预付万事达借记卡neat注册申请指南"><a href="#香港实体预付万事达借记卡neat注册申请指南" class="headerlink" title="香港实体预付万事达借记卡neat注册申请指南"></a>香港实体预付万事达借记卡neat注册申请指南</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.vpsdawanjia.com/1817.html</span><br></pre></td></tr></table></figure>

<h2 id="注册Google-Voice方案，成功率较高"><a href="#注册Google-Voice方案，成功率较高" class="headerlink" title="注册Google Voice方案，成功率较高"></a>注册Google Voice方案，成功率较高</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/masonme/GoogleVoice</span><br></pre></td></tr></table></figure>

<h2 id="使用IFTTT让Google-Voice自动回复短信来保号"><a href="#使用IFTTT让Google-Voice自动回复短信来保号" class="headerlink" title="使用IFTTT让Google Voice自动回复短信来保号"></a>使用IFTTT让Google Voice自动回复短信来保号</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.vpsdawanjia.com/1452.html</span><br></pre></td></tr></table></figure>

<h2 id="Accesser"><a href="#Accesser" class="headerlink" title="Accesser"></a>Accesser</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://urenko.github.io/Accesser/</span><br></pre></td></tr></table></figure>

<h2 id="“如何翻墙”系列：关于-Tor-的常见问题解答"><a href="#“如何翻墙”系列：关于-Tor-的常见问题解答" class="headerlink" title="“如何翻墙”系列：关于 Tor 的常见问题解答"></a>“如何翻墙”系列：关于 Tor 的常见问题解答</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://program-think.blogspot.com/2013/11/tor-faq.html</span><br></pre></td></tr></table></figure>

<h2 id="w3-goto-world-x2F-reademe-md"><a href="#w3-goto-world-x2F-reademe-md" class="headerlink" title="w3-goto-world&#x2F;reademe.md"></a>w3-goto-world&#x2F;reademe.md</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://hoochanlon.github.io/fq-book/#/browse/zeronet</span><br><span class="line">https://github.com/hoochanlon/w3-goto-world/blob/master/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E3%80%81%E6%9A%97%E7%BD%91%E3%80%81%E9%9B%B6%E7%BD%91/%E9%9B%B6%E7%BD%91%E4%B8%8E%E6%9A%97%E7%BD%91/reademe.md</span><br></pre></td></tr></table></figure>

<h2 id="SSH-Tunnel"><a href="#SSH-Tunnel" class="headerlink" title="SSH-Tunnel"></a>SSH-Tunnel</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://hoochanlon.github.io/fq-book/#/proxy/SSH-Tunnel</span><br></pre></td></tr></table></figure>

<h2 id="Clash-For-Windows-小贴士：允许局域网-320资源私享家"><a href="#Clash-For-Windows-小贴士：允许局域网-320资源私享家" class="headerlink" title="Clash For Windows 小贴士：允许局域网 @320资源私享家"></a>Clash For Windows 小贴士：允许局域网 @320资源私享家</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.hottg.com/www_320nle_com/133/zh-TW.html</span><br></pre></td></tr></table></figure>

<h2 id="Surge-Mac-3-无限试用方案"><a href="#Surge-Mac-3-无限试用方案" class="headerlink" title="Surge Mac 3 无限试用方案"></a>Surge Mac 3 无限试用方案</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://blog.cat73.org/20190528/2019052801.surge3-crack/</span><br><span class="line">https://gist.github.com/whyliam/a27bae053207dcb4c46bb5c9cf8ef274</span><br></pre></td></tr></table></figure>

<h2 id="Alvin9999-x2F-new-pac-Wiki"><a href="#Alvin9999-x2F-new-pac-Wiki" class="headerlink" title="Alvin9999&#x2F;new-pac Wiki"></a>Alvin9999&#x2F;new-pac Wiki</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Alvin9999/new-pac/wiki</span><br></pre></td></tr></table></figure>

<h2 id="shuuzhoou-x2F-doubi-一个逗比写的各种逗比脚本"><a href="#shuuzhoou-x2F-doubi-一个逗比写的各种逗比脚本" class="headerlink" title="shuuzhoou&#x2F;doubi: 一个逗比写的各种逗比脚本~"></a>shuuzhoou&#x2F;doubi: 一个逗比写的各种逗比脚本~</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/shuuzhoou/doubi</span><br></pre></td></tr></table></figure>

<h2 id="configuration-·-Dreamacro-x2F-clash-Wiki"><a href="#configuration-·-Dreamacro-x2F-clash-Wiki" class="headerlink" title="configuration · Dreamacro&#x2F;clash Wiki"></a>configuration · Dreamacro&#x2F;clash Wiki</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Dreamacro/clash/wiki/configuration</span><br></pre></td></tr></table></figure>

<h2 id="Clash基本配置记录"><a href="#Clash基本配置记录" class="headerlink" title="Clash基本配置记录"></a>Clash基本配置记录</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://blog.joylau.cn/2020/05/01/Clash-Config/</span><br></pre></td></tr></table></figure>

<h2 id="Clash-proxy-provider-搭配-subconverter-使用小记"><a href="#Clash-proxy-provider-搭配-subconverter-使用小记" class="headerlink" title="Clash proxy-provider 搭配 subconverter 使用小记"></a>Clash proxy-provider 搭配 subconverter 使用小记</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://10101.io/2020/02/12/use-clash-proxy-provider-with-subconverter</span><br></pre></td></tr></table></figure>

<h2 id="V2Ray-白话文教程"><a href="#V2Ray-白话文教程" class="headerlink" title="V2Ray 白话文教程"></a>V2Ray 白话文教程</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https://toutyrater.github.io/</span><br><span class="line">https://toutyrater.github.io/advanced/vps_relay.html</span><br><span class="line">https://toutyrater.github.io/app/netflix.html</span><br><span class="line">https://toutyrater.github.io/advanced/outboundproxy.html</span><br></pre></td></tr></table></figure>

<h2 id="流媒体解锁服务，解锁不能看Netflix的服务器"><a href="#流媒体解锁服务，解锁不能看Netflix的服务器" class="headerlink" title="流媒体解锁服务，解锁不能看Netflix的服务器"></a>流媒体解锁服务，解锁不能看Netflix的服务器</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.mainstriker.com/archives/1207</span><br></pre></td></tr></table></figure>

<h2 id="Getting-Started-with-Software-Defined-Networking-and-Creating-a-VPN-with-ZeroTier-One"><a href="#Getting-Started-with-Software-Defined-Networking-and-Creating-a-VPN-with-ZeroTier-One" class="headerlink" title="Getting Started with Software-Defined Networking and Creating a VPN with ZeroTier One"></a>Getting Started with Software-Defined Networking and Creating a VPN with ZeroTier One</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.digitalocean.com/community/tutorials/getting-started-software-defined-networking-creating-vpn-zerotier-one?utm_medium=social&amp;utm_source=twitter&amp;utm_campaign=zerotier_tut&amp;utm_content=no_image</span><br></pre></td></tr></table></figure>

<h2 id="启用-ZeroTier-的-VPN-功能，通过-VPN-转发客户端流量"><a href="#启用-ZeroTier-的-VPN-功能，通过-VPN-转发客户端流量" class="headerlink" title="启用 ZeroTier 的 VPN 功能，通过 VPN 转发客户端流量"></a>启用 ZeroTier 的 VPN 功能，通过 VPN 转发客户端流量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/aturl/awesome-anti-gfw/blob/master/ZeroTier/ZeroTier&#x27;s_VPN.md</span><br></pre></td></tr></table></figure>

<h2 id="使用-VMWare-安装-macOS-虚拟机使用-Surge-作为代理网关"><a href="#使用-VMWare-安装-macOS-虚拟机使用-Surge-作为代理网关" class="headerlink" title="使用 VMWare 安装 macOS 虚拟机使用 Surge 作为代理网关"></a>使用 VMWare 安装 macOS 虚拟机使用 Surge 作为代理网关</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.skk.moe/post/macos-vmware-surge-gateway/</span><br></pre></td></tr></table></figure>

<h2 id="解锁netflix网飞代理观看方式原理及多种方法"><a href="#解锁netflix网飞代理观看方式原理及多种方法" class="headerlink" title="解锁netflix网飞代理观看方式原理及多种方法"></a>解锁netflix网飞代理观看方式原理及多种方法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.mebi.me/1035.html</span><br></pre></td></tr></table></figure>

<h2 id="Introduce-Clash"><a href="#Introduce-Clash" class="headerlink" title="Introduce - Clash"></a>Introduce - Clash</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://lancellc.gitbook.io/clash/</span><br></pre></td></tr></table></figure>

<h2 id="一台闲置笔记本的NAS改造娇嗔（一）从内网穿透到远程办公"><a href="#一台闲置笔记本的NAS改造娇嗔（一）从内网穿透到远程办公" class="headerlink" title="一台闲置笔记本的NAS改造娇嗔（一）从内网穿透到远程办公"></a>一台闲置笔记本的NAS改造娇嗔（一）从内网穿透到远程办公</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://post.smzdm.com/p/awx09gg2/</span><br></pre></td></tr></table></figure>

<h2 id="Node-js打造API-Google-Cloud-Platform-2-建立專案與VM部署"><a href="#Node-js打造API-Google-Cloud-Platform-2-建立專案與VM部署" class="headerlink" title="[Node.js打造API] Google Cloud Platform(2)-建立專案與VM部署"></a>[Node.js打造API] Google Cloud Platform(2)-建立專案與VM部署</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://andy6804tw.github.io/2018/01/19/gcp-tutorial(2)/</span><br></pre></td></tr></table></figure>

<h2 id="linux下使用clash-GUI"><a href="#linux下使用clash-GUI" class="headerlink" title="linux下使用clash(GUI)"></a>linux下使用clash(GUI)</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.jianshu.com/p/02e3e8ccfe80</span><br></pre></td></tr></table></figure>

<h2 id="国外黑科技！不可多得的云浏览器，无限制访问所有网站"><a href="#国外黑科技！不可多得的云浏览器，无限制访问所有网站" class="headerlink" title="国外黑科技！不可多得的云浏览器，无限制访问所有网站"></a>国外黑科技！不可多得的云浏览器，无限制访问所有网站</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://mp.weixin.qq.com/s/bmidD6nygCl5JnrRO-bdyg</span><br></pre></td></tr></table></figure>

<h2 id="不小心挖出的大厂官方Google搜索访问渠道，低调但是放心大胆的用！"><a href="#不小心挖出的大厂官方Google搜索访问渠道，低调但是放心大胆的用！" class="headerlink" title="不小心挖出的大厂官方Google搜索访问渠道，低调但是放心大胆的用！"></a>不小心挖出的大厂官方Google搜索访问渠道，低调但是放心大胆的用！</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://mp.weixin.qq.com/s/Ay9pfz0CLb_8R_CNQ5jCbw</span><br></pre></td></tr></table></figure>

<h2 id="整整13款加速器，要的赶紧白嫖啦！"><a href="#整整13款加速器，要的赶紧白嫖啦！" class="headerlink" title="整整13款加速器，要的赶紧白嫖啦！"></a>整整13款加速器，要的赶紧白嫖啦！</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://mp.weixin.qq.com/s/ubJNdNdY1T5QqtCP-5wwag</span><br></pre></td></tr></table></figure>










<h2 id="免费DNS推荐-（国外篇）"><a href="#免费DNS推荐-（国外篇）" class="headerlink" title="免费DNS推荐 （国外篇）"></a>免费DNS推荐 （国外篇）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://51.ruyo.net/609.html</span><br></pre></td></tr></table></figure>

<h2 id="国内外提供免费的域名DNS解析的服务商"><a href="#国内外提供免费的域名DNS解析的服务商" class="headerlink" title="国内外提供免费的域名DNS解析的服务商"></a>国内外提供免费的域名DNS解析的服务商</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://51.ruyo.net/13274.html</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item"></div>
      <div class="post-nav-item">
    <a href="/blog/posts/Knowledge-About-OS-And-Hardware.html" rel="next" title="系统和硬件的相关知识及维护">
      系统和硬件的相关知识及维护 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#TODOS"><span class="nav-text">TODOS</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86"><span class="nav-text">相关知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%9F%E7%94%9F-x2F-%E5%B9%BF%E6%92%ADIP"><span class="nav-text">原生&#x2F;广播IP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS"><span class="nav-text">DNS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="nav-text">运行模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95"><span class="nav-text">访问方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SSH%E9%9A%A7%E9%81%93"><span class="nav-text">SSH隧道</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VPN"><span class="nav-text">VPN</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#PPTP-VPN"><span class="nav-text">PPTP VPN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#L2TP-VPN"><span class="nav-text">L2TP VPN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OpenVPN"><span class="nav-text">OpenVPN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE%E6%AF%94%E8%BE%83"><span class="nav-text">协议比较</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%90%86"><span class="nav-text">代理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86"><span class="nav-text">正向代理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Socks%E4%BB%A3%E7%90%86"><span class="nav-text">Socks代理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#HTTP%E4%BB%A3%E7%90%86"><span class="nav-text">HTTP代理</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"><span class="nav-text">反向代理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%8F%E6%98%8E%E4%BB%A3%E7%90%86"><span class="nav-text">透明代理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%93%E9%97%A8%E5%8D%8F%E8%AE%AE"><span class="nav-text">专门协议</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Shadowsocks"><span class="nav-text">Shadowsocks</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#obfs%E6%B7%B7%E6%B7%86"><span class="nav-text">obfs混淆</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%BB%BAVPS"><span class="nav-text">自建VPS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%BA%E5%9C%BA"><span class="nav-text">机场</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%BF%E8%B7%AF"><span class="nav-text">线路</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CN2%E7%BA%BF%E8%B7%AF"><span class="nav-text">CN2线路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BGP%E7%BA%BF%E8%B7%AF"><span class="nav-text">BGP线路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PCCW%E7%BA%BF%E8%B7%AF"><span class="nav-text">PCCW线路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPLC-x2F-IEPL%E4%B8%93%E7%BA%BF"><span class="nav-text">IPLC&#x2F;IEPL专线</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E9%A1%BB%E7%9F%A5"><span class="nav-text">安全须知</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A2%99%E5%B0%81%E9%94%81%E6%8A%80%E6%9C%AF"><span class="nav-text">墙封锁技术</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%AB%99%E5%B0%81%E9%94%81%E5%88%97%E8%A1%A8"><span class="nav-text">网站封锁列表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%91%E5%B8%96%E4%B8%8E%E5%9B%9E%E6%BA%AF%E6%B5%81%E7%A8%8B"><span class="nav-text">发帖与回溯流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E5%B0%81%E9%94%81"><span class="nav-text">IP封锁</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E7%90%86"><span class="nav-text">原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="nav-text">解决方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%81%E9%94%81%E5%87%A0%E7%8E%87"><span class="nav-text">封锁几率</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS%E6%B1%A1%E6%9F%93"><span class="nav-text">DNS污染</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E7%90%86-1"><span class="nav-text">原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-1"><span class="nav-text">解决方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SSL%E8%BF%9E%E6%8E%A5%E9%98%BB%E6%96%AD"><span class="nav-text">SSL连接阻断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E5%8A%AB%E6%8C%81"><span class="nav-text">HTTP劫持</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E7%90%86-2"><span class="nav-text">原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-2"><span class="nav-text">解决方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%81%E9%94%81%E6%96%B9%E5%BC%8F%E7%9A%84%E9%80%89%E6%8B%A9"><span class="nav-text">封锁方式的选择</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E4%BA%8EGoogle%E7%9A%84%E7%89%B9%E6%AE%8A%E6%93%8D%E4%BD%9C"><span class="nav-text">对于Google的特殊操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E7%BA%A7"><span class="nav-text">网络层级</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP%E4%B8%8EUDP"><span class="nav-text">TCP与UDP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E9%A1%B5"><span class="nav-text">网页</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BA%E5%9D%9B"><span class="nav-text">论坛</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%8D%E8%B4%B9VPS"><span class="nav-text">免费VPS</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%8E%B0%E6%88%90%E5%B7%A5%E5%85%B7"><span class="nav-text">现成工具</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%91%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="nav-text">云浏览器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A0%E9%80%9F%E5%99%A8"><span class="nav-text">加速器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%B5%E8%84%91%E7%AB%AF%E8%BD%AF%E4%BB%B6"><span class="nav-text">电脑端软件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BF%BB%E5%A2%99Chrome%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="nav-text">翻墙Chrome浏览器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BF%BB%E5%A2%99Firefox%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="nav-text">翻墙Firefox浏览器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E7%95%8C%E6%B5%8F%E8%A7%88"><span class="nav-text">无界浏览</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hotspot-Shield"><span class="nav-text">Hotspot Shield</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#windscribe"><span class="nav-text">windscribe</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ProtonVPN"><span class="nav-text">ProtonVPN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Psiphon"><span class="nav-text">Psiphon</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPUnblock"><span class="nav-text">IPUnblock</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tuxler"><span class="nav-text">tuxler</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Privatix"><span class="nav-text">Privatix</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WireGuard"><span class="nav-text">WireGuard</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OpenVPN-1"><span class="nav-text">OpenVPN</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%BD%AF%E4%BB%B6"><span class="nav-text">手机端软件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Betternet-x2F-VPN-360"><span class="nav-text">Betternet&#x2F;VPN 360</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VPN-Plus"><span class="nav-text">VPN Plus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%80%81%E7%8E%8BVPN"><span class="nav-text">老王VPN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%9A%82%E8%9A%81%E5%8A%A0%E9%80%9F%E5%99%A8"><span class="nav-text">蚂蚁加速器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B0%B7%E6%AD%8C%E9%95%9C%E5%83%8F"><span class="nav-text">谷歌镜像</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86"><span class="nav-text">基本知识</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%B1%BB"><span class="nav-text">分类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%92%8C%E4%BB%A3%E7%90%86%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">和代理的区别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%AB%99"><span class="nav-text">网站</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Chrome%E6%8F%92%E4%BB%B6"><span class="nav-text">Chrome插件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%B7%E6%AD%8C%E8%AE%BF%E9%97%AE%E5%8A%A9%E6%89%8B%E7%A0%B4%E8%A7%A3%E7%89%88"><span class="nav-text">谷歌访问助手破解版</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Ghelper"><span class="nav-text">Ghelper</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Chrome%E5%95%86%E5%BA%97%E8%AE%BF%E9%97%AE%E5%8A%A9%E6%89%8B"><span class="nav-text">Chrome商店访问助手</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SetupVPN"><span class="nav-text">SetupVPN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tunhello"><span class="nav-text">Tunhello</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%90%86-1"><span class="nav-text">代理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BB%E6%89%BE%E4%BB%A3%E7%90%86%E8%8A%82%E7%82%B9"><span class="nav-text">寻找代理节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E7%BD%91%E7%AB%99"><span class="nav-text">通过网站</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E5%B7%A5%E5%85%B7"><span class="nav-text">通过工具</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86"><span class="nav-text">配置网络代理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E8%BD%AF%E4%BB%B6%E4%BB%A3%E7%90%86"><span class="nav-text">设置软件代理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AEIE%E4%BB%A3%E7%90%86"><span class="nav-text">设置IE代理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86"><span class="nav-text">设置全局代理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BB%A3%E7%90%86"><span class="nav-text">设置浏览器代理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%BA%E5%9C%BA%E5%8F%8A%E5%85%AC%E7%94%A8%E8%8A%82%E7%82%B9"><span class="nav-text">机场及公用节点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%8B%E6%98%8E%E4%BA%92%E8%81%94"><span class="nav-text">友明互联</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B9%90%E4%BA%91"><span class="nav-text">乐云</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Goflyway%E5%85%8D%E8%B4%B9%E8%B4%A6%E5%8F%B7"><span class="nav-text">Goflyway免费账号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%AC%E7%94%A8%E8%8A%82%E7%82%B9"><span class="nav-text">公用节点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SSH%E9%9A%A7%E9%81%93-1"><span class="nav-text">SSH隧道</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8"><span class="nav-text">使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%B7%A5%E5%85%B7%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-text">获取工具的方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E"><span class="nav-text">搜索引擎</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%82%AE%E4%BB%B6"><span class="nav-text">邮件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#P2P%E4%B8%8B%E8%BD%BD"><span class="nav-text">P2P下载</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E5%AE%83%E7%89%B9%E6%AE%8A%E6%96%B9%E6%B3%95"><span class="nav-text">其它特殊方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%87%AA%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">自建服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Google-Cloud-Platform"><span class="nav-text">Google Cloud Platform</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%B3%E8%AF%B7"><span class="nav-text">申请</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%90%AD%E5%BB%BA"><span class="nav-text">搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E9%98%B2%E7%81%AB%E5%A2%99%E8%A7%84%E5%88%99"><span class="nav-text">创建防火墙规则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAVM%E5%AE%9E%E4%BE%8B"><span class="nav-text">创建VM实例</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%90%AD%E5%BB%BAV2Ray%E5%8D%8F%E8%AE%AE"><span class="nav-text">搭建V2Ray协议</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E4%B8%80%E9%94%AE%E8%84%9A%E6%9C%AC"><span class="nav-text">运行一键脚本</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE"><span class="nav-text">协议配置</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#TCP%E5%8D%8F%E8%AE%AE"><span class="nav-text">TCP协议</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#WS-TLS%E5%8D%8F%E8%AE%AE"><span class="nav-text">WS+TLS协议</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%9A%E7%94%A8%E6%88%B7%E9%85%8D%E7%BD%AE"><span class="nav-text">多用户配置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E5%88%86%E4%BA%AB"><span class="nav-text">配置分享</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD"><span class="nav-text">功能</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93"><span class="nav-text">文件传输</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BF%AB%E7%85%A7"><span class="nav-text">快照</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%95%9C%E5%83%8F"><span class="nav-text">镜像</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Nodejs%E9%83%A8%E7%BD%B2"><span class="nav-text">Nodejs部署</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GoormIDE"><span class="nav-text">GoormIDE</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%B3%E8%AF%B7-1"><span class="nav-text">申请</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%90%AD%E5%BB%BA-1"><span class="nav-text">搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Socks5%E8%BF%9E%E6%8E%A5%E5%8D%8F%E8%AE%AE"><span class="nav-text">Socks5连接协议</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vmess%E8%BF%9E%E6%8E%A5%E5%8D%8F%E8%AE%AE"><span class="nav-text">vmess连接协议</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Heroku"><span class="nav-text">Heroku</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%B3%E8%AF%B7-2"><span class="nav-text">申请</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%90%AD%E5%BB%BA-2"><span class="nav-text">搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#V2Ray"><span class="nav-text">V2Ray</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Shadowsocks-1"><span class="nav-text">Shadowsocks</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Heroku-CLI"><span class="nav-text">Heroku CLI</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#EUserv"><span class="nav-text">EUserv</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%B3%E8%AF%B7-3"><span class="nav-text">申请</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%90%AD%E5%BB%BA-3"><span class="nav-text">搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F"><span class="nav-text">重装系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SSH%E8%BF%9E%E6%8E%A5"><span class="nav-text">SSH连接</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E6%89%8B%E6%9C%BA%E7%83%AD%E7%82%B9"><span class="nav-text">通过手机热点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E7%BD%91%E7%AB%99-1"><span class="nav-text">通过网站</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IPV4%E9%85%8D%E7%BD%AE"><span class="nav-text">IPV4配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9D%E5%A1%94%E9%85%8D%E7%BD%AE"><span class="nav-text">宝塔配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85V2Ray"><span class="nav-text">安装V2Ray</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Okteto"><span class="nav-text">Okteto</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%B1%E6%95%88%E6%95%99%E7%A8%8B"><span class="nav-text">失效教程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%B1%E6%95%88%E6%95%99%E7%A8%8B%EF%BC%88%E6%97%A7%E7%89%88%EF%BC%89"><span class="nav-text">失效教程（旧版）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Kubesail"><span class="nav-text">Kubesail</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%B1%E6%95%88%E6%95%99%E7%A8%8B-1"><span class="nav-text">失效教程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IBM-Cloud"><span class="nav-text">IBM Cloud</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%B1%E6%95%88%E6%95%99%E7%A8%8B-2"><span class="nav-text">失效教程</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%85%8D%E7%BD%AE"><span class="nav-text">客户端配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">连接到服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#V2Ray-1"><span class="nav-text">V2Ray</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Windows-XP%E4%BB%A5%E4%B8%8A"><span class="nav-text">Windows XP以上</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#V2RayN"><span class="nav-text">V2RayN</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Windows-XP"><span class="nav-text">Windows XP</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-text">安装</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86"><span class="nav-text">设置代理</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%BD%AF%E4%BB%B6%E4%BB%A3%E7%90%86"><span class="nav-text">软件代理</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86"><span class="nav-text">全局代理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Mac"><span class="nav-text">Mac</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#V2RayX"><span class="nav-text">V2RayX</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#V2RayU"><span class="nav-text">V2RayU</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Android"><span class="nav-text">Android</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#V2RayNG"><span class="nav-text">V2RayNG</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux"><span class="nav-text">Linux</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Shadowsocks-2"><span class="nav-text">Shadowsocks</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Windows"><span class="nav-text">Windows</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#shadowsocks-windows"><span class="nav-text">shadowsocks-windows</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Mac-1"><span class="nav-text">Mac</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ShadowsocksX-NG"><span class="nav-text">ShadowsocksX-NG</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Android-1"><span class="nav-text">Android</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#shadowsocks-android"><span class="nav-text">shadowsocks-android</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#iOS"><span class="nav-text">iOS</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Shadowsocks-3"><span class="nav-text">Shadowsocks</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux-1"><span class="nav-text">Linux</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Trojan"><span class="nav-text">Trojan</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Windows-1"><span class="nav-text">Windows</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#V2RayN-1"><span class="nav-text">V2RayN</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Android-2"><span class="nav-text">Android</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#igniter"><span class="nav-text">igniter</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WireGuard-1"><span class="nav-text">WireGuard</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#iOS%E7%AB%AF%E8%AF%B4%E6%98%8E"><span class="nav-text">iOS端说明</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Kitsunebi"><span class="nav-text">Kitsunebi</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Shadowrocket"><span class="nav-text">Shadowrocket</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Quantumult"><span class="nav-text">Quantumult</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E5%B9%B3%E5%8F%B0%E7%A8%8B%E5%BA%8F"><span class="nav-text">全平台程序</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Clash"><span class="nav-text">Clash</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%90%AF%E5%8A%A8"><span class="nav-text">下载与启动</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Mac-2"><span class="nav-text">Mac</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#Android-3"><span class="nav-text">Android</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#Windows-x2F-Linux"><span class="nav-text">Windows&#x2F;Linux</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE"><span class="nav-text">配置</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%AB%AF%E5%8F%A3"><span class="nav-text">端口</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F"><span class="nav-text">模式</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA%E7%BA%A7%E5%88%AB"><span class="nav-text">日志输出级别</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E6%8E%A7%E5%88%B6"><span class="nav-text">外部控制</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3"><span class="nav-text">接口</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E6%80%A7%E5%8A%9F%E8%83%BD"><span class="nav-text">实验性功能</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#DNS-1"><span class="nav-text">DNS</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#Host"><span class="nav-text">Host</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E8%8A%82%E7%82%B9"><span class="nav-text">添加节点</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%AE%A2%E9%98%85%E8%8A%82%E7%82%B9"><span class="nav-text">订阅节点</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%AD%96%E7%95%A5%E7%BB%84"><span class="nav-text">策略组</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%84%E5%88%99%E9%9B%86"><span class="nav-text">规则集</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%84%E5%88%99"><span class="nav-text">规则</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%BB%95%E8%BF%87%E7%B3%BB%E7%BB%9F%E4%BB%A3%E7%90%86"><span class="nav-text">绕过系统代理</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC"><span class="nav-text">脚本</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD-1"><span class="nav-text">功能</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E5%85%B1%E4%BA%AB"><span class="nav-text">局域网共享</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F-1"><span class="nav-text">模式</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#TProxy"><span class="nav-text">TProxy</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#TUN"><span class="nav-text">TUN</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Surge"><span class="nav-text">Surge</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD"><span class="nav-text">下载</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Mac-3"><span class="nav-text">Mac</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="nav-text">基本配置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-text">配置文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97"><span class="nav-text">模块</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-text">远程控制</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7"><span class="nav-text">第三方工具</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BD%AF%E8%B7%AF%E7%94%B1"><span class="nav-text">软路由</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E4%BB%A3%E7%90%86"><span class="nav-text">通过代理</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E5%A2%9E%E5%BC%BA%E6%A8%A1%E5%BC%8F"><span class="nav-text">通过增强模式</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%80%9A%E8%BF%87DHCP%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="nav-text">通过DHCP服务器模式</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="nav-text">常见问题</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%B8%8EAdGuard%E5%86%B2%E7%AA%81"><span class="nav-text">与AdGuard冲突</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Trojan-Qt5"><span class="nav-text">Trojan-Qt5</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#QV2Ray"><span class="nav-text">QV2Ray</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Surfboard"><span class="nav-text">Surfboard</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E7%BA%A7%E4%BB%A3%E7%90%86"><span class="nav-text">二级代理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Shadowsocks-4"><span class="nav-text">Shadowsocks</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BF%BB%E5%A2%99%E8%BF%9B%E9%98%B6"><span class="nav-text">翻墙进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E7%94%A8%E6%80%A7%E6%A3%80%E6%9F%A5"><span class="nav-text">可用性检查</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E8%BF%9E%E9%80%9A%E6%80%A7"><span class="nav-text">IP连通性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%A2%E9%98%85%E9%93%BE%E6%8E%A5"><span class="nav-text">订阅链接</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F"><span class="nav-text">格式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Shadowsocks-5"><span class="nav-text">Shadowsocks</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ShadowsocksR"><span class="nav-text">ShadowsocksR</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#V2Ray-2"><span class="nav-text">V2Ray</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC%E6%8D%A2"><span class="nav-text">转换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BE%B9%E7%BC%98%E8%BD%AC%E6%8D%A2"><span class="nav-text">边缘转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#QuantumultX-Surge-API"><span class="nav-text">QuantumultX-Surge-API</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Surgio"><span class="nav-text">Surgio</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ConfigConverters"><span class="nav-text">ConfigConverters</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#subconverter"><span class="nav-text">subconverter</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%B6%E4%BD%9C"><span class="nav-text">制作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-text">通用方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E6%AE%8A%E5%A4%84%E7%90%86"><span class="nav-text">特殊处理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Quantumult-1"><span class="nav-text">Quantumult</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Surge-1"><span class="nav-text">Surge</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%93%BE%E6%8E%A5%E5%8F%91%E5%B8%83"><span class="nav-text">链接发布</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%94%BE%E5%88%B0Github%E4%B8%8A"><span class="nav-text">放到Github上</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%94%BE%E5%88%B0%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A"><span class="nav-text">放到自有服务器上</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%8D%E4%BB%A3%E7%BD%91%E7%AB%99"><span class="nav-text">反代网站</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%B0%E6%88%90%E7%BD%91%E7%AB%99"><span class="nav-text">现成网站</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E8%A1%8C%E6%90%AD%E5%BB%BA"><span class="nav-text">自行搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#jsproxy"><span class="nav-text">jsproxy</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%90%AD%E5%BB%BA%E5%88%B0Cloudflare-Worker"><span class="nav-text">搭建到Cloudflare Worker</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#siteproxy"><span class="nav-text">siteproxy</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#zmirror"><span class="nav-text">zmirror</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Ubuntu"><span class="nav-text">Ubuntu</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Debian"><span class="nav-text">Debian</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CentOS-6"><span class="nav-text">CentOS 6</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#jenssegers-x2F-proxy"><span class="nav-text">jenssegers&#x2F;proxy</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8A%A0%E9%80%9F"><span class="nav-text">服务器加速</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#BBR"><span class="nav-text">BBR</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC"><span class="nav-text">一键安装脚本</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E7%B1%BB%E5%9E%8B"><span class="nav-text">全类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC-1"><span class="nav-text">一键安装脚本</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CDN%E5%8A%A0%E9%80%9F"><span class="nav-text">CDN加速</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%84%E7%90%86DNS%E6%B1%A1%E6%9F%93"><span class="nav-text">处理DNS污染</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vmware%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86"><span class="nav-text">Vmware虚拟机使用代理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E5%AA%92%E4%BD%93%E8%A7%A3%E9%94%81"><span class="nav-text">流媒体解锁</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E9%99%90%E5%88%B6"><span class="nav-text">IP限制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Netflix"><span class="nav-text">Netflix</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E9%94%81%E6%96%B9%E6%B3%95"><span class="nav-text">解锁方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DNS%E8%A7%A3%E9%94%81%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">DNS解锁服务器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%81%E9%87%8F%E8%BD%AC%E5%8F%91"><span class="nav-text">流量转发</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BF%BB%E5%A2%99%E5%8D%8F%E8%AE%AE"><span class="nav-text">翻墙协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Shadowsocks-6"><span class="nav-text">Shadowsocks</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-1"><span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC-2"><span class="nav-text">一键安装脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#doubi"><span class="nav-text">doubi</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%A7%8B%E6%B0%B4%E9%80%B8%E5%86%B0"><span class="nav-text">秋水逸冰</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8E%9F%E7%89%88"><span class="nav-text">原版</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#go-shadowsocks2"><span class="nav-text">go-shadowsocks2</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#shadowsocks-libev"><span class="nav-text">shadowsocks-libev</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ShadowsocksR-1"><span class="nav-text">ShadowsocksR</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-2"><span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC-3"><span class="nav-text">一键安装脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E4%B8%80"><span class="nav-text">脚本一</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E4%BA%8C"><span class="nav-text">脚本二</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E4%B8%89"><span class="nav-text">脚本三</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8E%9F%E7%89%88-1"><span class="nav-text">原版</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80"><span class="nav-text">方法一</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="nav-text">方法二</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#V2Ray-3"><span class="nav-text">V2Ray</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-3"><span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%98%E6%96%B9%E5%AE%89%E8%A3%85"><span class="nav-text">官方安装</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC-4"><span class="nav-text">一键安装脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E4%B8%80-1"><span class="nav-text">脚本一</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E4%BA%8C-1"><span class="nav-text">脚本二</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#V2ray-Fun"><span class="nav-text">V2ray.Fun</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-1"><span class="nav-text">配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE"><span class="nav-text">协议</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#VMess"><span class="nav-text">VMess</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#Shadowsocks-7"><span class="nav-text">Shadowsocks</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#HTTP"><span class="nav-text">HTTP</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Mux"><span class="nav-text">Mux</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#mKCP"><span class="nav-text">mKCP</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E7%AB%AF%E5%8F%A3"><span class="nav-text">动态端口</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%97%A5%E5%BF%97"><span class="nav-text">日志</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1"><span class="nav-text">路由</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E9%80%BB%E8%BE%91"><span class="nav-text">基本逻辑</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%9F%9F%E5%90%8D%E6%96%87%E4%BB%B6"><span class="nav-text">域名文件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%A6%81%E7%94%A8BT"><span class="nav-text">禁用BT</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%AD%E8%BD%AC"><span class="nav-text">中转</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%A3%E7%90%86%E8%BD%AC%E5%8F%91"><span class="nav-text">代理转发</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#HTTP%E4%BC%AA%E8%A3%85"><span class="nav-text">HTTP伪装</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"><span class="nav-text">负载均衡</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E7%90%86-3"><span class="nav-text">原理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9E%B6%E6%9E%84"><span class="nav-text">架构</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#WS-TLS"><span class="nav-text">WS+TLS</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Brook"><span class="nav-text">Brook</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-4"><span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC-5"><span class="nav-text">一键安装脚本</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E4%B8%80-2"><span class="nav-text">脚本一</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E4%BA%8C-2"><span class="nav-text">脚本二</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Trojan-1"><span class="nav-text">Trojan</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-5"><span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC-6"><span class="nav-text">一键安装脚本</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WireGuard-2"><span class="nav-text">WireGuard</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-6"><span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC-7"><span class="nav-text">一键安装脚本</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ZeroTier"><span class="nav-text">ZeroTier</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E5%B9%B3%E5%8F%B0%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA"><span class="nav-text">全平台快速搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Streisand"><span class="nav-text">Streisand</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ProxySU"><span class="nav-text">ProxySU</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="nav-text">相关命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99"><span class="nav-text">关闭防火墙</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E4%B8%AD%E5%9B%BD%E6%97%B6%E5%8C%BA"><span class="nav-text">修改中国时区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A9%E7%94%A8NTP%E5%90%8C%E6%AD%A5%E6%97%B6%E9%97%B4%E5%8D%8F%E8%AE%AE"><span class="nav-text">利用NTP同步时间协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8F%90%E7%A4%BAcurl-command-not-found"><span class="nav-text">提示curl: command not found</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8F%90%E7%A4%BAwget-command-not-found"><span class="nav-text">提示wget: command not found</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9B%E9%98%B6"><span class="nav-text">服务器进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#SSH%E8%BF%9E%E6%8E%A5-1"><span class="nav-text">SSH连接</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E6%96%B9%E6%B3%95"><span class="nav-text">连接方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BF%9E%E6%8E%A5"><span class="nav-text">浏览器连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%9E%E6%8E%A5"><span class="nav-text">命令行连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E6%9C%BAAPP%E8%BF%9E%E6%8E%A5"><span class="nav-text">手机APP连接</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93-1"><span class="nav-text">文件传输</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE"><span class="nav-text">服务器配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Google-Cloud-Platform-1"><span class="nav-text">Google Cloud Platform</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E4%BB%A3%E7%A0%81"><span class="nav-text">运行代码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="nav-text">配置服务器运行环境</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="nav-text">配置本地运行环境</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E4%BB%A3%E7%A0%81-1"><span class="nav-text">运行代码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87Pycharm"><span class="nav-text">通过Pycharm</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%87%AA%E8%BA%AB"><span class="nav-text">通过服务器自身</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%9B%98%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="nav-text">网盘文件下载</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Google-Drive"><span class="nav-text">Google Drive</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87wget"><span class="nav-text">通过wget</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87gdown"><span class="nav-text">通过gdown</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87gdown%E8%84%9A%E6%9C%AC"><span class="nav-text">通过gdown脚本</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E7%B3%BB%E7%BB%9F"><span class="nav-text">创建图形界面系统</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8Google-Cloud-Shell%E4%B8%AD"><span class="nav-text">在Google Cloud Shell中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8VM%E5%AE%9E%E4%BE%8B%E4%B8%AD"><span class="nav-text">在VM实例中</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85matlab"><span class="nav-text">安装matlab</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AB%AF%E5%8F%A3%E9%99%90%E5%88%B6%E4%B8%8A%E8%A1%8C%E7%BD%91%E9%80%9F"><span class="nav-text">端口限制上行网速</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%82%E6%9C%BA%E8%B5%9A%E9%92%B1"><span class="nav-text">挂机赚钱</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Vagex"><span class="nav-text">Vagex</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#eBesucher"><span class="nav-text">eBesucher</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Google-Adsense"><span class="nav-text">Google Adsense</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker"><span class="nav-text">Docker</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%BA%E5%88%B6"><span class="nav-text">机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#yml%E6%96%87%E4%BB%B6"><span class="nav-text">yml文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%90%AD%E5%BB%BA%E5%AE%9D%E5%A1%94"><span class="nav-text">搭建宝塔</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%90%AD%E5%BB%BAGoogle%E9%95%9C%E5%83%8F%E7%BD%91%E7%AB%99"><span class="nav-text">搭建Google镜像网站</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%90%AD%E5%BB%BALinux"><span class="nav-text">搭建Linux</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Docker%E6%94%B6%E9%9B%86"><span class="nav-text">Docker收集</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%93"><span class="nav-text">库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AD%BE%E5%88%B0"><span class="nav-text">签到</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E9%94%AE%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F"><span class="nav-text">一键重装系统</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E7%B3%BB%E7%BB%9F%E4%B8%BALinux"><span class="nav-text">原系统为Linux</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Debian-7"><span class="nav-text">Debian 7</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Debian-8"><span class="nav-text">Debian 8</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Debian-9"><span class="nav-text">Debian 9</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Ubuntu-14-04"><span class="nav-text">Ubuntu 14.04</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Ubuntu-16-04"><span class="nav-text">Ubuntu 16.04</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Ubuntu-17-04"><span class="nav-text">Ubuntu 17.04</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CentOS"><span class="nav-text">CentOS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Windows-2"><span class="nav-text">Windows</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E7%B3%BB%E7%BB%9F%E4%B8%BAWindows"><span class="nav-text">原系统为Windows</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux-2"><span class="nav-text">Linux</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%89%B9%E6%AE%8A%E5%B7%A5%E5%85%B7"><span class="nav-text">特殊工具</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Tor"><span class="nav-text">Tor</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E7%90%86-4"><span class="nav-text">原理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Tor%E8%81%94%E7%BD%91"><span class="nav-text">Tor联网</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%81%E9%87%8F%E6%B7%B7%E6%B7%86"><span class="nav-text">流量混淆</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-1"><span class="nav-text">使用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-2"><span class="nav-text">配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81"><span class="nav-text">验证</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%8F%E8%94%BD%E8%8A%82%E7%82%B9"><span class="nav-text">屏蔽节点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B1%E4%BA%ABTor%E9%80%9A%E9%81%93"><span class="nav-text">共享Tor通道</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E6%AE%8A%E8%AF%B4%E6%98%8E"><span class="nav-text">特殊说明</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZeroNet"><span class="nav-text">ZeroNet</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ZeroMe"><span class="nav-text">ZeroMe</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%87%E4%BB%BD%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE"><span class="nav-text">备份用户数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E5%9D%80%E5%AF%BC%E8%88%AA"><span class="nav-text">网址导航</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%99%84%E5%BD%95"><span class="nav-text">附录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E4%BF%A1%E7%94%A8%E5%8D%A1%E9%AA%8C%E8%AF%81"><span class="nav-text">通过信用卡验证</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%8D%E8%B4%B9%E8%99%9A%E6%8B%9F%E5%8D%A1"><span class="nav-text">免费虚拟卡</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A6%99%E6%B8%AF%E5%85%A8%E7%90%83%E4%BB%98%E9%A2%84%E4%BB%98%E5%8D%A1%EF%BC%88MasterCard%EF%BC%89"><span class="nav-text">香港全球付预付卡（MasterCard）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A6%99%E6%B8%AF%E6%8B%8D%E4%BD%8F%E8%B5%8F%E9%A2%84%E4%BB%98%E5%8D%A1%EF%BC%88MasterCard%EF%BC%89"><span class="nav-text">香港拍住赏预付卡（MasterCard）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Yandex-Money%EF%BC%88MasterCard%EF%BC%89"><span class="nav-text">Yandex Money（MasterCard）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Uquid%EF%BC%88VISA%EF%BC%89"><span class="nav-text">Uquid（VISA）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%98%E8%B4%B9%E8%99%9A%E6%8B%9F%E5%8D%A1"><span class="nav-text">付费虚拟卡</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#EastPay"><span class="nav-text">EastPay</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E4%BD%93%E5%8D%A1"><span class="nav-text">实体卡</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A6%99%E6%B8%AFneat%E5%80%9F%E8%AE%B0%E5%8D%A1%EF%BC%88MasterCard%EF%BC%89"><span class="nav-text">香港neat借记卡（MasterCard）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E5%9B%BD%E9%93%B6%E8%A1%8C%E9%95%BF%E5%9F%8E%E8%B7%A8%E5%A2%83%E9%80%9A%E5%8D%95%E6%A0%87%E5%82%A8%E8%93%84%E5%8D%A1%EF%BC%88Visa-x2F-MasterCard%EF%BC%89"><span class="nav-text">中国银行长城跨境通单标储蓄卡（Visa&#x2F;MasterCard）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%88%B1%E6%B1%87%E5%9B%BD%E9%99%85%E6%97%85%E6%94%AF%E5%8D%A1%EF%BC%88MasterCard%EF%BC%89"><span class="nav-text">爱汇国际旅支卡（MasterCard）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%BE%8E%E5%9B%BD%E5%8F%B7%E7%A0%81"><span class="nav-text">获取美国号码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E5%8F%B7%E7%A0%81"><span class="nav-text">虚拟号码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Google-Voice"><span class="nav-text">Google Voice</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E5%86%8C"><span class="nav-text">注册</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%B1%E6%95%88%E6%95%99%E7%A8%8B-3"><span class="nav-text">失效教程</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%9D%E5%8F%B7"><span class="nav-text">保号</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1"><span class="nav-text">自动发送短信</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E5%9B%9E%E5%A4%8D%E7%9F%AD%E4%BF%A1"><span class="nav-text">自动回复短信</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC-1"><span class="nav-text">脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-text">性能测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Socat"><span class="nav-text">Socat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HaProxy"><span class="nav-text">HaProxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#iptables"><span class="nav-text">iptables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SimpleHTTPServer"><span class="nav-text">SimpleHTTPServer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#V2Ray%E5%AE%89%E8%A3%85"><span class="nav-text">V2Ray安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E9%87%8D%E8%A3%85"><span class="nav-text">系统重装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E7%B3%BB%E7%BB%9F%E4%B8%BALinux-1"><span class="nav-text">原系统为Linux</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Linux-3"><span class="nav-text">Linux</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Windows-3"><span class="nav-text">Windows</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E7%B3%BB%E7%BB%9F%E4%B8%BAWindows-1"><span class="nav-text">原系统为Windows</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Linux-4"><span class="nav-text">Linux</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-x2F-2%E6%A3%80%E6%B5%8B"><span class="nav-text">HTTP&#x2F;2检测</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%9F%E6%88%90UUID"><span class="nav-text">生成UUID</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%9F%E6%88%90%E6%8C%87%E5%AE%9A%E5%89%8D%E7%BC%80%E4%BF%A1%E7%94%A8%E5%8D%A1%E5%8D%A1%E5%8F%B7"><span class="nav-text">生成指定前缀信用卡卡号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS-2"><span class="nav-text">DNS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS%E5%88%97%E8%A1%A8"><span class="nav-text">DNS列表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS%E4%BE%9B%E5%BA%94%E5%95%86"><span class="nav-text">DNS供应商</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F"><span class="nav-text">DNS服务程序</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hosts"><span class="nav-text">Hosts</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BA%90"><span class="nav-text">源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="nav-text">管理工具</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GeoIP"><span class="nav-text">GeoIP</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E6%95%99%E7%A8%8B"><span class="nav-text">参考教程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#trojan-gfw-x2F-trojan"><span class="nav-text">trojan-gfw&#x2F;trojan</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Shadowsocks%E5%AE%98%E7%BD%91"><span class="nav-text">Shadowsocks官网</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#V2Ray%E5%AE%98%E7%BD%91"><span class="nav-text">V2Ray官网</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Proxifier%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B"><span class="nav-text">Proxifier使用教程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#V2Ray-TLS-DNSSEC-WS-Nginx-BBRPlus-%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B%E3%80%902020%E5%B9%B4%E6%9C%80%E6%96%B0%E3%80%91"><span class="nav-text">V2Ray+TLS+DNSSEC+WS+Nginx+BBRPlus 搭建教程【2020年最新】</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%B7%E5%9B%BDEuserv%E5%85%8D%E8%B4%B9VPS%E7%94%B3%E8%AF%B7-%E5%BC%80%E9%80%9AV2RAY-%E5%AE%89%E8%A3%85%E5%AE%9D%E5%A1%94%E5%9B%BE%E6%96%87%E6%95%99%E7%A8%8B"><span class="nav-text">德国Euserv免费VPS申请+开通V2RAY+安装宝塔图文教程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%AE%9D%E5%A1%94%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85WordPress%E6%95%99%E7%A8%8B"><span class="nav-text">使用宝塔快速安装WordPress教程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Okteto%E4%B8%8A%E9%83%A8%E7%BD%B2v2ray"><span class="nav-text">Okteto上部署v2ray</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%88%B6%E4%B8%80%E4%B8%AA%E7%9C%9F%E6%AD%A3%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84v2ray%E8%AE%A2%E9%98%85%E5%9C%B0%E5%9D%80%EF%BC%88%E8%87%AA%E5%B7%B1%E5%8A%A8%E6%89%8B%E5%88%9B%E5%BB%BAv2ray%E8%AE%A2%E9%98%85%E5%9C%B0%E5%9D%80%E6%95%99%E7%A8%8B%EF%BC%89"><span class="nav-text">自制一个真正属于自己的v2ray订阅地址（自己动手创建v2ray订阅地址教程）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Goorm-Shell-Auto-Deploy"><span class="nav-text">Goorm Shell Auto Deploy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#okteto%E5%AE%B9%E5%99%A8%E7%A0%B4%E8%A7%A3%E6%90%AD%E5%BB%BA%E5%AE%9D%E5%A1%94shell%E6%95%99%E7%A8%8B"><span class="nav-text">okteto容器破解搭建宝塔shell教程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8Compute-Engine%E4%B8%8A%E8%AE%BE%E7%BD%AE%E9%80%82%E7%94%A8%E4%BA%8ELinux%E7%9A%84Chrome%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2"><span class="nav-text">在Compute Engine上设置适用于Linux的Chrome远程桌面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10%E5%88%86%E9%92%9F%E5%BF%AB%E9%80%9F%E6%8E%8C%E6%8F%A1Docker%E5%BF%85%E5%A4%87%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="nav-text">10分钟快速掌握Docker必备基础知识</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wget-x2F-curl-large-file-from-google-drive"><span class="nav-text">wget&#x2F;curl large file from google drive</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%8D%B8%E8%BD%BD%E9%98%BF%E9%87%8C%E4%BA%91-amp-%E8%85%BE%E8%AE%AF%E4%BA%91%E5%AE%98%E6%96%B9%E7%9A%84%E7%9B%91%E6%8E%A7%E8%BD%AF%E4%BB%B6%E6%9C%8D%E5%8A%A1"><span class="nav-text">如何卸载阿里云&amp;腾讯云官方的监控软件服务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#oooldking-x2F-script"><span class="nav-text">oooldking&#x2F;script</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%99%E7%A8%8B01%EF%BC%9A%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87V2Ray%E6%90%AD%E9%85%8D%E4%BD%BF%E7%94%A8%E6%B4%8B%E8%91%B1tor%E6%B5%8F%E8%A7%88%E5%99%A8%EF%BC%9F"><span class="nav-text">教程01：如何通过V2Ray搭配使用洋葱tor浏览器？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%AB%E4%BB%A5%E4%B8%BA%E6%9C%89vpn%E6%88%91%E6%89%BE%E4%B8%8D%E5%88%B0%E4%BD%A0%EF%BC%88%E7%BD%91%E8%AD%A6%E6%8A%93%E4%BA%BA%E5%85%A8%E8%BF%87%E7%A8%8B%EF%BC%89"><span class="nav-text">别以为有vpn我找不到你（网警抓人全过程）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%85%E8%B0%88HTTP%E5%8A%AB%E6%8C%81%E3%80%81DNS%E6%B1%A1%E6%9F%93%E7%9A%84%E5%BD%B1%E5%93%8D%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%EF%BC%88%E4%BB%85%E4%B8%AA%E4%BA%BA%E7%90%86%E8%A7%A3%EF%BC%89"><span class="nav-text">浅谈HTTP劫持、DNS污染的影响及解决办法（仅个人理解）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E7%9B%AE%E5%89%8D-GFW-%E5%A2%99-%E7%9A%84%E5%B0%81%E9%94%81%E6%96%B9%E5%BC%8FTCP%E5%B0%81%E9%94%81-%E9%98%BB%E6%96%AD-%E7%8C%9C%E6%83%B3"><span class="nav-text">关于目前 GFW(墙) 的封锁方式TCP封锁(阻断)猜想</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SS%E4%BA%8C%E7%BA%A7%EF%BC%88%E5%89%8D%E7%BD%AE%EF%BC%89%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%AD%E8%BD%AC%E5%8A%A0%E9%80%9F%E8%A7%82%E7%9C%8BBBC-iPlayer"><span class="nav-text">SS二级（前置）代理设置实现中转加速观看BBC iPlayer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#macOS-ClashX-%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B"><span class="nav-text">macOS - ClashX 使用教程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ClashX%E6%95%99%E7%A8%8B-macOS%E4%B8%8A%E5%A5%BD%E7%9C%8B%E5%8F%88%E5%A5%BD%E7%94%A8%E7%9A%84%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%B7%A5%E5%85%B7"><span class="nav-text">ClashX教程 | macOS上好看又好用的科学上网工具</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%AF%B9Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E7%AB%AF%E5%8F%A3%E9%99%90%E9%80%9F%EF%BC%9F"><span class="nav-text">如何对Linux服务器的端口限速？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%8D%E8%B4%B9Docker%E5%AE%B9%E5%99%A8%E6%9D%A5%E6%8C%82%E6%9C%BAVagex%E8%B5%9A%E7%BE%8E%E5%88%80"><span class="nav-text">免费Docker容器来挂机Vagex赚美刀</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BD%E5%86%85%E7%94%B3%E8%AF%B7Google-Adsense%E8%B4%A6%E5%8F%B7%E4%BB%A5%E5%8F%8A%E5%AE%8C%E6%88%90%E9%A6%96%E7%AC%94%E6%94%B6%E6%AC%BE"><span class="nav-text">国内申请Google Adsense账号以及完成首笔收款</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2020Google%E9%95%9C%E5%83%8F%E5%A4%A7%E5%85%A8%EF%BC%8C%E8%B0%B7%E6%AD%8C%E9%95%9C%E5%83%8F%E7%BD%91%E5%9D%80"><span class="nav-text">2020Google镜像大全，谷歌镜像网址</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A6%99%E6%B8%AF%E5%AE%9E%E4%BD%93%E9%A2%84%E4%BB%98%E4%B8%87%E4%BA%8B%E8%BE%BE%E5%80%9F%E8%AE%B0%E5%8D%A1neat%E6%B3%A8%E5%86%8C%E7%94%B3%E8%AF%B7%E6%8C%87%E5%8D%97"><span class="nav-text">香港实体预付万事达借记卡neat注册申请指南</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%A8%E5%86%8CGoogle-Voice%E6%96%B9%E6%A1%88%EF%BC%8C%E6%88%90%E5%8A%9F%E7%8E%87%E8%BE%83%E9%AB%98"><span class="nav-text">注册Google Voice方案，成功率较高</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8IFTTT%E8%AE%A9Google-Voice%E8%87%AA%E5%8A%A8%E5%9B%9E%E5%A4%8D%E7%9F%AD%E4%BF%A1%E6%9D%A5%E4%BF%9D%E5%8F%B7"><span class="nav-text">使用IFTTT让Google Voice自动回复短信来保号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Accesser"><span class="nav-text">Accesser</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%80%9C%E5%A6%82%E4%BD%95%E7%BF%BB%E5%A2%99%E2%80%9D%E7%B3%BB%E5%88%97%EF%BC%9A%E5%85%B3%E4%BA%8E-Tor-%E7%9A%84%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94"><span class="nav-text">“如何翻墙”系列：关于 Tor 的常见问题解答</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#w3-goto-world-x2F-reademe-md"><span class="nav-text">w3-goto-world&#x2F;reademe.md</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SSH-Tunnel"><span class="nav-text">SSH-Tunnel</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Clash-For-Windows-%E5%B0%8F%E8%B4%B4%E5%A3%AB%EF%BC%9A%E5%85%81%E8%AE%B8%E5%B1%80%E5%9F%9F%E7%BD%91-320%E8%B5%84%E6%BA%90%E7%A7%81%E4%BA%AB%E5%AE%B6"><span class="nav-text">Clash For Windows 小贴士：允许局域网 @320资源私享家</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Surge-Mac-3-%E6%97%A0%E9%99%90%E8%AF%95%E7%94%A8%E6%96%B9%E6%A1%88"><span class="nav-text">Surge Mac 3 无限试用方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Alvin9999-x2F-new-pac-Wiki"><span class="nav-text">Alvin9999&#x2F;new-pac Wiki</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shuuzhoou-x2F-doubi-%E4%B8%80%E4%B8%AA%E9%80%97%E6%AF%94%E5%86%99%E7%9A%84%E5%90%84%E7%A7%8D%E9%80%97%E6%AF%94%E8%84%9A%E6%9C%AC"><span class="nav-text">shuuzhoou&#x2F;doubi: 一个逗比写的各种逗比脚本~</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#configuration-%C2%B7-Dreamacro-x2F-clash-Wiki"><span class="nav-text">configuration · Dreamacro&#x2F;clash Wiki</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Clash%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95"><span class="nav-text">Clash基本配置记录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Clash-proxy-provider-%E6%90%AD%E9%85%8D-subconverter-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0"><span class="nav-text">Clash proxy-provider 搭配 subconverter 使用小记</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#V2Ray-%E7%99%BD%E8%AF%9D%E6%96%87%E6%95%99%E7%A8%8B"><span class="nav-text">V2Ray 白话文教程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E5%AA%92%E4%BD%93%E8%A7%A3%E9%94%81%E6%9C%8D%E5%8A%A1%EF%BC%8C%E8%A7%A3%E9%94%81%E4%B8%8D%E8%83%BD%E7%9C%8BNetflix%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">流媒体解锁服务，解锁不能看Netflix的服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Getting-Started-with-Software-Defined-Networking-and-Creating-a-VPN-with-ZeroTier-One"><span class="nav-text">Getting Started with Software-Defined Networking and Creating a VPN with ZeroTier One</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%AF%E7%94%A8-ZeroTier-%E7%9A%84-VPN-%E5%8A%9F%E8%83%BD%EF%BC%8C%E9%80%9A%E8%BF%87-VPN-%E8%BD%AC%E5%8F%91%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B5%81%E9%87%8F"><span class="nav-text">启用 ZeroTier 的 VPN 功能，通过 VPN 转发客户端流量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-VMWare-%E5%AE%89%E8%A3%85-macOS-%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8-Surge-%E4%BD%9C%E4%B8%BA%E4%BB%A3%E7%90%86%E7%BD%91%E5%85%B3"><span class="nav-text">使用 VMWare 安装 macOS 虚拟机使用 Surge 作为代理网关</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E9%94%81netflix%E7%BD%91%E9%A3%9E%E4%BB%A3%E7%90%86%E8%A7%82%E7%9C%8B%E6%96%B9%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%8A%E5%A4%9A%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="nav-text">解锁netflix网飞代理观看方式原理及多种方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduce-Clash"><span class="nav-text">Introduce - Clash</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E5%8F%B0%E9%97%B2%E7%BD%AE%E7%AC%94%E8%AE%B0%E6%9C%AC%E7%9A%84NAS%E6%94%B9%E9%80%A0%E5%A8%87%E5%97%94%EF%BC%88%E4%B8%80%EF%BC%89%E4%BB%8E%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%88%B0%E8%BF%9C%E7%A8%8B%E5%8A%9E%E5%85%AC"><span class="nav-text">一台闲置笔记本的NAS改造娇嗔（一）从内网穿透到远程办公</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Node-js%E6%89%93%E9%80%A0API-Google-Cloud-Platform-2-%E5%BB%BA%E7%AB%8B%E5%B0%88%E6%A1%88%E8%88%87VM%E9%83%A8%E7%BD%B2"><span class="nav-text">[Node.js打造API] Google Cloud Platform(2)-建立專案與VM部署</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#linux%E4%B8%8B%E4%BD%BF%E7%94%A8clash-GUI"><span class="nav-text">linux下使用clash(GUI)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BD%E5%A4%96%E9%BB%91%E7%A7%91%E6%8A%80%EF%BC%81%E4%B8%8D%E5%8F%AF%E5%A4%9A%E5%BE%97%E7%9A%84%E4%BA%91%E6%B5%8F%E8%A7%88%E5%99%A8%EF%BC%8C%E6%97%A0%E9%99%90%E5%88%B6%E8%AE%BF%E9%97%AE%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%99"><span class="nav-text">国外黑科技！不可多得的云浏览器，无限制访问所有网站</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8D%E5%B0%8F%E5%BF%83%E6%8C%96%E5%87%BA%E7%9A%84%E5%A4%A7%E5%8E%82%E5%AE%98%E6%96%B9Google%E6%90%9C%E7%B4%A2%E8%AE%BF%E9%97%AE%E6%B8%A0%E9%81%93%EF%BC%8C%E4%BD%8E%E8%B0%83%E4%BD%86%E6%98%AF%E6%94%BE%E5%BF%83%E5%A4%A7%E8%83%86%E7%9A%84%E7%94%A8%EF%BC%81"><span class="nav-text">不小心挖出的大厂官方Google搜索访问渠道，低调但是放心大胆的用！</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B4%E6%95%B413%E6%AC%BE%E5%8A%A0%E9%80%9F%E5%99%A8%EF%BC%8C%E8%A6%81%E7%9A%84%E8%B5%B6%E7%B4%A7%E7%99%BD%E5%AB%96%E5%95%A6%EF%BC%81"><span class="nav-text">整整13款加速器，要的赶紧白嫖啦！</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%8D%E8%B4%B9DNS%E6%8E%A8%E8%8D%90-%EF%BC%88%E5%9B%BD%E5%A4%96%E7%AF%87%EF%BC%89"><span class="nav-text">免费DNS推荐 （国外篇）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BD%E5%86%85%E5%A4%96%E6%8F%90%E4%BE%9B%E5%85%8D%E8%B4%B9%E7%9A%84%E5%9F%9F%E5%90%8DDNS%E8%A7%A3%E6%9E%90%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%95%86"><span class="nav-text">国内外提供免费的域名DNS解析的服务商</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Payton"
      src="/blog/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Payton</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-comments"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Payton</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">2m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">30:27</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/pisces.js"></script>


<script src="/blog/js/next-boot.js"></script>




  




  
<script src="/blog/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
